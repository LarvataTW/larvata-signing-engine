  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLarvataSigningFlows (20200109021224)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "larvata_signing_flows" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "remind_period" integer, "remark" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109021224"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningResources (20200109021459)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar, "name" varchar, "select_model" varchar, "select_method" varchar, "view_path" varchar, "returned_method" varchar, "approved_method" varchar, "implement_method" varchar, "larvata_signing_flow_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_2c92d4cfe3"
FOREIGN KEY ("larvata_signing_flow_id")
  REFERENCES "larvata_signing_flows" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_resources_on_larvata_signing_flow_id" ON "larvata_signing_resources" ("larvata_signing_flow_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_resources_on_code" ON "larvata_signing_resources" ("code")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109021459"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningFlowStages (20200109060748)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_flow_stages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_flow_id" integer, "typing" integer, "seq" integer, "supervisor_sign" boolean, "filter_condition" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_9055c6f794"
FOREIGN KEY ("larvata_signing_flow_id")
  REFERENCES "larvata_signing_flows" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_stages_on_larvata_signing_flow_id" ON "larvata_signing_flow_stages" ("larvata_signing_flow_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_stages_on_typing" ON "larvata_signing_flow_stages" ("typing")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109060748"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningFlowMembers (20200109062424)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_flow_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_stage_id" integer, "dept_id" bigint, "user_id" bigint, "role" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_e2ef03bd7e"
FOREIGN KEY ("larvata_signing_stage_id")
  REFERENCES "larvata_signing_stages" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_larvata_signing_stage_id" ON "larvata_signing_flow_members" ("larvata_signing_stage_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_dept_id" ON "larvata_signing_flow_members" ("dept_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_user_id" ON "larvata_signing_flow_members" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109062424"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningDocs (20200109064210)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_docs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_flow_id" integer, "larvata_signing_resource_id" integer, "signing_number" varchar, "title" varchar, "remark" text, "remind_period" integer, "state" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_419a380014"
FOREIGN KEY ("larvata_signing_flow_id")
  REFERENCES "larvata_signing_flows" ("id")
, CONSTRAINT "fk_rails_0f6c56c20c"
FOREIGN KEY ("larvata_signing_resource_id")
  REFERENCES "larvata_signing_resources" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_docs_on_larvata_signing_flow_id" ON "larvata_signing_docs" ("larvata_signing_flow_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_docs_on_larvata_signing_resource_id" ON "larvata_signing_docs" ("larvata_signing_resource_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_docs_on_signing_number" ON "larvata_signing_docs" ("signing_number")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_docs_on_title" ON "larvata_signing_docs" ("title")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_docs_on_state" ON "larvata_signing_docs" ("state")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109064210"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningResourceRecords (20200109065317)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_resource_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_doc_id" integer, "signing_resourceable_type" varchar, "signing_resourceable_id" bigint, "state" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_930a20e19b"
FOREIGN KEY ("larvata_signing_doc_id")
  REFERENCES "larvata_signing_docs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_resource_records_on_signing_doc_id" ON "larvata_signing_resource_records" ("larvata_signing_doc_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_resource_records_on_state" ON "larvata_signing_resource_records" ("state")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_larvata_signing_resource_records_on_signing_resourceable" ON "larvata_signing_resource_records" ("signing_resourceable_type", "signing_resourceable_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109065317"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningStages (20200109071712)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "larvata_signing_stages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_doc_id" integer, "typing" integer, "seq" integer, "countersign" boolean, "state" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_7b1f1bac32"
FOREIGN KEY ("larvata_signing_doc_id")
  REFERENCES "larvata_signing_docs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_stages_on_larvata_signing_doc_id" ON "larvata_signing_stages" ("larvata_signing_doc_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_stages_on_typing" ON "larvata_signing_stages" ("typing")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_stages_on_state" ON "larvata_signing_stages" ("state")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109071712"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningRecords (20200109073851)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "larvata_signing_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "larvata_signing_stage_id" integer, "signer_id" bigint, "dept_id" bigint, "role" varchar, "signing_result" integer, "comment" text, "parent_record_id" bigint, "state" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_6e77ce64af"
FOREIGN KEY ("larvata_signing_stage_id")
  REFERENCES "larvata_signing_stages" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_larvata_signing_stage_id" ON "larvata_signing_records" ("larvata_signing_stage_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_signer_id" ON "larvata_signing_records" ("signer_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_dept_id" ON "larvata_signing_records" ("dept_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_signing_result" ON "larvata_signing_records" ("signing_result")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_parent_record_id" ON "larvata_signing_records" ("parent_record_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_records_on_state" ON "larvata_signing_records" ("state")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109073851"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningTodos (20200109083000)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "larvata_signing_todos" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" bigint, "typing" integer, "title" varchar, "url" text, "remark" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_todos_on_user_id" ON "larvata_signing_todos" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_todos_on_typing" ON "larvata_signing_todos" ("typing")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109083000"]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateLarvataSigningAgents (20200109083054)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "larvata_signing_agents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" bigint, "agent_user_id" bigint, "start_at" datetime, "end_at" datetime, "remark" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_agents_on_user_id" ON "larvata_signing_agents" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_agents_on_agent_user_id" ON "larvata_signing_agents" ("agent_user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109083054"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to RemoveLarvataSigningStageIdFromLarvataSigningFlowMember (20200109084207)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX "index_larvata_signing_flow_members_on_larvata_signing_stage_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alarvata_signing_flow_members" ("id" integer NOT NULL PRIMARY KEY, "larvata_signing_stage_id" integer DEFAULT NULL, "dept_id" integer(8) DEFAULT NULL, "user_id" integer(8) DEFAULT NULL, "role" varchar DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_alarvata_signing_flow_members_on_user_id" ON "alarvata_signing_flow_members" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_alarvata_signing_flow_members_on_dept_id" ON "alarvata_signing_flow_members" ("dept_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "alarvata_signing_flow_members" ("id","larvata_signing_stage_id","dept_id","user_id","role","created_at","updated_at")
                     SELECT "id","larvata_signing_stage_id","dept_id","user_id","role","created_at","updated_at" FROM "larvata_signing_flow_members"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "larvata_signing_flow_members"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "larvata_signing_flow_members" ("id" integer NOT NULL PRIMARY KEY, "dept_id" integer(8) DEFAULT NULL, "user_id" integer(8) DEFAULT NULL, "role" varchar DEFAULT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_alarvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_alarvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_alarvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_alarvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_dept_id" ON "larvata_signing_flow_members" ("dept_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_user_id" ON "larvata_signing_flow_members" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("id","dept_id","user_id","role","created_at","updated_at")
                     SELECT "id","dept_id","user_id","role","created_at","updated_at" FROM "alarvata_signing_flow_members"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alarvata_signing_flow_members"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109084207"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddFlowStageRefToFlowMember (20200109084759)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "larvata_signing_flow_members" ADD "larvata_signing_flow_stage_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_larvata_signing_flow_members_on_flow_stage_id" ON "larvata_signing_flow_members" ("larvata_signing_flow_stage_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200109084759"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-01-14 08:39:09.056429"], ["updated_at", "2020-01-14 08:39:09.056429"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-01-14 17:13:00.669286"], ["updated_at", "2020-01-14 17:13:00.669286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-01-14 17:13:33.669577"], ["updated_at", "2020-01-14 17:13:33.669577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:24:54.585255"], ["updated_at", "2020-01-15 03:24:54.585255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Resource Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ? ORDER BY "larvata_signing_resources"."id" ASC LIMIT ?[0m  [["larvata_signing_flow_id", 1], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:32:25.347375"], ["updated_at", "2020-01-15 03:32:25.347375"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:36:44.833401"], ["updated_at", "2020-01-15 03:36:44.833401"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Resource Load (0.4ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ? ORDER BY "larvata_signing_resources"."id" ASC LIMIT ?[0m  [["larvata_signing_flow_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:37:02.727967"], ["updated_at", "2020-01-15 03:37:02.727967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:37:28.205703"], ["updated_at", "2020-01-15 03:37:28.205703"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:38:31.672415"], ["updated_at", "2020-01-15 03:38:31.672415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Resource Load (1.3ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ? ORDER BY "larvata_signing_resources"."id" ASC LIMIT ?[0m  [["larvata_signing_flow_id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:38:48.101199"], ["updated_at", "2020-01-15 03:38:48.101199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:42:28.015529"], ["updated_at", "2020-01-15 03:42:28.015529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 03:54:54.297117"], ["updated_at", "2020-01-15 03:54:54.297117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 04:06:06.050361"], ["updated_at", "2020-01-15 04:06:06.050361"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 04:06:06.053019"], ["updated_at", "2020-01-15 04:06:06.053019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 04:06:21.256005"], ["updated_at", "2020-01-15 04:06:21.256005"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 04:06:21.257336"], ["updated_at", "2020-01-15 04:06:21.257336"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:07:32.274330"], ["updated_at", "2020-01-15 07:07:32.274330"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:07:32.284281"], ["updated_at", "2020-01-15 07:07:32.284281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:11:36.883925"], ["updated_at", "2020-01-15 07:11:36.883925"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:11:36.886067"], ["updated_at", "2020-01-15 07:11:36.886067"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:11:36.887521"], ["updated_at", "2020-01-15 07:11:36.887521"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:11:36.888501"], ["updated_at", "2020-01-15 07:11:36.888501"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:11:36.889371"], ["updated_at", "2020-01-15 07:11:36.889371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:12:19.224676"], ["updated_at", "2020-01-15 07:12:19.224676"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:12:19.227119"], ["updated_at", "2020-01-15 07:12:19.227119"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:12:19.229206"], ["updated_at", "2020-01-15 07:12:19.229206"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:12:19.230215"], ["updated_at", "2020-01-15 07:12:19.230215"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:12:19.231428"], ["updated_at", "2020-01-15 07:12:19.231428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:13:04.827044"], ["updated_at", "2020-01-15 07:13:04.827044"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:13:04.829206"], ["updated_at", "2020-01-15 07:13:04.829206"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:13:04.830884"], ["updated_at", "2020-01-15 07:13:04.830884"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:13:04.832004"], ["updated_at", "2020-01-15 07:13:04.832004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:13:04.832603"], ["updated_at", "2020-01-15 07:13:04.832603"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" = ?[0m  [["larvata_signing_flow_stage_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:14:15.469786"], ["updated_at", "2020-01-15 07:14:15.469786"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:14:15.471574"], ["updated_at", "2020-01-15 07:14:15.471574"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:14:15.472988"], ["updated_at", "2020-01-15 07:14:15.472988"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:14:15.473940"], ["updated_at", "2020-01-15 07:14:15.473940"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:14:15.474393"], ["updated_at", "2020-01-15 07:14:15.474393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:14:48.470824"], ["updated_at", "2020-01-15 07:14:48.470824"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:14:48.473976"], ["updated_at", "2020-01-15 07:14:48.473976"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:14:48.475890"], ["updated_at", "2020-01-15 07:14:48.475890"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:14:48.477222"], ["updated_at", "2020-01-15 07:14:48.477222"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:14:48.477644"], ["updated_at", "2020-01-15 07:14:48.477644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[36mLarvata::Signing::FlowMember Load (0.3ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" = ?[0m  [["larvata_signing_flow_stage_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:16:36.767644"], ["updated_at", "2020-01-15 07:16:36.767644"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:16:36.769573"], ["updated_at", "2020-01-15 07:16:36.769573"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:16:36.771042"], ["updated_at", "2020-01-15 07:16:36.771042"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 07:16:36.771938"], ["updated_at", "2020-01-15 07:16:36.771938"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:16:36.772946"], ["updated_at", "2020-01-15 07:16:36.772946"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 07:16:36.773436"], ["updated_at", "2020-01-15 07:16:36.773436"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 07:16:36.773872"], ["updated_at", "2020-01-15 07:16:36.773872"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:16:36.774335"], ["updated_at", "2020-01-15 07:16:36.774335"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 07:16:36.774803"], ["updated_at", "2020-01-15 07:16:36.774803"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:17:16.667685"], ["updated_at", "2020-01-15 07:17:16.667685"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:17:16.669807"], ["updated_at", "2020-01-15 07:17:16.669807"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:17:16.671491"], ["updated_at", "2020-01-15 07:17:16.671491"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 07:17:16.672764"], ["updated_at", "2020-01-15 07:17:16.672764"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:17:16.673753"], ["updated_at", "2020-01-15 07:17:16.673753"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 07:17:16.674290"], ["updated_at", "2020-01-15 07:17:16.674290"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 07:17:16.674757"], ["updated_at", "2020-01-15 07:17:16.674757"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:17:16.675265"], ["updated_at", "2020-01-15 07:17:16.675265"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 07:17:16.675757"], ["updated_at", "2020-01-15 07:17:16.675757"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" = ?[0m  [["larvata_signing_flow_stage_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:20:24.328936"], ["updated_at", "2020-01-15 07:20:24.328936"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:20:24.330760"], ["updated_at", "2020-01-15 07:20:24.330760"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:20:24.332126"], ["updated_at", "2020-01-15 07:20:24.332126"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 07:20:24.333124"], ["updated_at", "2020-01-15 07:20:24.333124"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:20:24.334085"], ["updated_at", "2020-01-15 07:20:24.334085"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 07:20:24.334594"], ["updated_at", "2020-01-15 07:20:24.334594"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 07:20:24.335060"], ["updated_at", "2020-01-15 07:20:24.335060"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:20:24.335554"], ["updated_at", "2020-01-15 07:20:24.335554"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 07:20:24.336050"], ["updated_at", "2020-01-15 07:20:24.336050"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = ?[0m  [["larvata_signing_flow_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" = ?[0m  [["larvata_signing_flow_stage_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 07:42:17.223196"], ["updated_at", "2020-01-15 07:42:17.223196"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 07:42:17.225080"], ["updated_at", "2020-01-15 07:42:17.225080"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 07:42:17.226582"], ["updated_at", "2020-01-15 07:42:17.226582"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 07:42:17.227448"], ["updated_at", "2020-01-15 07:42:17.227448"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:42:17.228459"], ["updated_at", "2020-01-15 07:42:17.228459"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 07:42:17.228964"], ["updated_at", "2020-01-15 07:42:17.228964"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 07:42:17.229420"], ["updated_at", "2020-01-15 07:42:17.229420"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 07:42:17.229904"], ["updated_at", "2020-01-15 07:42:17.229904"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 07:42:17.230388"], ["updated_at", "2020-01-15 07:42:17.230388"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:44:33.263608"], ["updated_at", "2020-01-15 08:44:33.263608"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:44:33.266139"], ["updated_at", "2020-01-15 08:44:33.266139"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:44:33.268144"], ["updated_at", "2020-01-15 08:44:33.268144"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:44:33.269428"], ["updated_at", "2020-01-15 08:44:33.269428"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:44:33.270720"], ["updated_at", "2020-01-15 08:44:33.270720"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:44:33.271370"], ["updated_at", "2020-01-15 08:44:33.271370"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:44:33.271878"], ["updated_at", "2020-01-15 08:44:33.271878"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:44:33.272397"], ["updated_at", "2020-01-15 08:44:33.272397"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:44:33.272917"], ["updated_at", "2020-01-15 08:44:33.272917"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:44:57.886554"], ["updated_at", "2020-01-15 08:44:57.886554"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:44:57.887755"], ["updated_at", "2020-01-15 08:44:57.887755"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:44:57.888465"], ["updated_at", "2020-01-15 08:44:57.888465"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:44:57.889050"], ["updated_at", "2020-01-15 08:44:57.889050"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:44:57.889654"], ["updated_at", "2020-01-15 08:44:57.889654"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:44:57.890132"], ["updated_at", "2020-01-15 08:44:57.890132"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:44:57.890569"], ["updated_at", "2020-01-15 08:44:57.890569"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:44:57.891044"], ["updated_at", "2020-01-15 08:44:57.891044"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:44:57.891519"], ["updated_at", "2020-01-15 08:44:57.891519"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:47:13.094409"], ["updated_at", "2020-01-15 08:47:13.094409"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:47:13.096410"], ["updated_at", "2020-01-15 08:47:13.096410"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:47:13.097934"], ["updated_at", "2020-01-15 08:47:13.097934"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:47:13.098910"], ["updated_at", "2020-01-15 08:47:13.098910"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:13.099894"], ["updated_at", "2020-01-15 08:47:13.099894"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:47:13.100420"], ["updated_at", "2020-01-15 08:47:13.100420"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:47:13.100913"], ["updated_at", "2020-01-15 08:47:13.100913"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:13.101456"], ["updated_at", "2020-01-15 08:47:13.101456"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:47:13.101966"], ["updated_at", "2020-01-15 08:47:13.101966"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:47:29.009702"], ["updated_at", "2020-01-15 08:47:29.009702"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:47:29.010916"], ["updated_at", "2020-01-15 08:47:29.010916"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:47:29.011640"], ["updated_at", "2020-01-15 08:47:29.011640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:47:29.012255"], ["updated_at", "2020-01-15 08:47:29.012255"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:29.012900"], ["updated_at", "2020-01-15 08:47:29.012900"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:47:29.013405"], ["updated_at", "2020-01-15 08:47:29.013405"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:47:29.013870"], ["updated_at", "2020-01-15 08:47:29.013870"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:29.014358"], ["updated_at", "2020-01-15 08:47:29.014358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:47:29.014848"], ["updated_at", "2020-01-15 08:47:29.014848"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:47:55.664728"], ["updated_at", "2020-01-15 08:47:55.664728"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:47:55.665940"], ["updated_at", "2020-01-15 08:47:55.665940"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:47:55.666659"], ["updated_at", "2020-01-15 08:47:55.666659"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:47:55.667271"], ["updated_at", "2020-01-15 08:47:55.667271"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:55.667906"], ["updated_at", "2020-01-15 08:47:55.667906"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:47:55.668408"], ["updated_at", "2020-01-15 08:47:55.668408"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:47:55.668870"], ["updated_at", "2020-01-15 08:47:55.668870"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:47:55.669364"], ["updated_at", "2020-01-15 08:47:55.669364"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:47:55.669856"], ["updated_at", "2020-01-15 08:47:55.669856"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:48:48.149254"], ["updated_at", "2020-01-15 08:48:48.149254"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:48:48.150465"], ["updated_at", "2020-01-15 08:48:48.150465"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:48:48.151176"], ["updated_at", "2020-01-15 08:48:48.151176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:48:48.151775"], ["updated_at", "2020-01-15 08:48:48.151775"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:48:48.152396"], ["updated_at", "2020-01-15 08:48:48.152396"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:48:48.152886"], ["updated_at", "2020-01-15 08:48:48.152886"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:48:48.153338"], ["updated_at", "2020-01-15 08:48:48.153338"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:48:48.153811"], ["updated_at", "2020-01-15 08:48:48.153811"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:48:48.154293"], ["updated_at", "2020-01-15 08:48:48.154293"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:53:19.342055"], ["updated_at", "2020-01-15 08:53:19.342055"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:53:19.344165"], ["updated_at", "2020-01-15 08:53:19.344165"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:53:19.345766"], ["updated_at", "2020-01-15 08:53:19.345766"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:53:19.346722"], ["updated_at", "2020-01-15 08:53:19.346722"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:53:19.347671"], ["updated_at", "2020-01-15 08:53:19.347671"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:53:19.348200"], ["updated_at", "2020-01-15 08:53:19.348200"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:53:19.348670"], ["updated_at", "2020-01-15 08:53:19.348670"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:53:19.349167"], ["updated_at", "2020-01-15 08:53:19.349167"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:53:19.349665"], ["updated_at", "2020-01-15 08:53:19.349665"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:55:30.873837"], ["updated_at", "2020-01-15 08:55:30.873837"]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:55:30.876831"], ["updated_at", "2020-01-15 08:55:30.876831"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:55:30.880247"], ["updated_at", "2020-01-15 08:55:30.880247"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:55:30.881722"], ["updated_at", "2020-01-15 08:55:30.881722"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:55:30.883219"], ["updated_at", "2020-01-15 08:55:30.883219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:55:30.883717"], ["updated_at", "2020-01-15 08:55:30.883717"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:55:30.884168"], ["updated_at", "2020-01-15 08:55:30.884168"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:55:30.884642"], ["updated_at", "2020-01-15 08:55:30.884642"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:55:30.885117"], ["updated_at", "2020-01-15 08:55:30.885117"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:58:05.134722"], ["updated_at", "2020-01-15 08:58:05.134722"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:58:05.138972"], ["updated_at", "2020-01-15 08:58:05.138972"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:58:05.141048"], ["updated_at", "2020-01-15 08:58:05.141048"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:58:05.142242"], ["updated_at", "2020-01-15 08:58:05.142242"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:58:05.143249"], ["updated_at", "2020-01-15 08:58:05.143249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:58:05.143776"], ["updated_at", "2020-01-15 08:58:05.143776"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:58:05.144265"], ["updated_at", "2020-01-15 08:58:05.144265"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:58:05.144773"], ["updated_at", "2020-01-15 08:58:05.144773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:58:05.145285"], ["updated_at", "2020-01-15 08:58:05.145285"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 08:58:56.755059"], ["updated_at", "2020-01-15 08:58:56.755059"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 08:58:56.756849"], ["updated_at", "2020-01-15 08:58:56.756849"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 08:58:56.758277"], ["updated_at", "2020-01-15 08:58:56.758277"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 08:58:56.759135"], ["updated_at", "2020-01-15 08:58:56.759135"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:58:56.760152"], ["updated_at", "2020-01-15 08:58:56.760152"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 08:58:56.760653"], ["updated_at", "2020-01-15 08:58:56.760653"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 08:58:56.761108"], ["updated_at", "2020-01-15 08:58:56.761108"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 08:58:56.761613"], ["updated_at", "2020-01-15 08:58:56.761613"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 08:58:56.762145"], ["updated_at", "2020-01-15 08:58:56.762145"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:04:11.808270"], ["updated_at", "2020-01-15 09:04:11.808270"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:04:11.810365"], ["updated_at", "2020-01-15 09:04:11.810365"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:04:11.812045"], ["updated_at", "2020-01-15 09:04:11.812045"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:04:11.813170"], ["updated_at", "2020-01-15 09:04:11.813170"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:04:11.814274"], ["updated_at", "2020-01-15 09:04:11.814274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:04:11.814898"], ["updated_at", "2020-01-15 09:04:11.814898"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:04:11.815461"], ["updated_at", "2020-01-15 09:04:11.815461"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:04:11.816054"], ["updated_at", "2020-01-15 09:04:11.816054"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:04:11.816662"], ["updated_at", "2020-01-15 09:04:11.816662"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.8ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:08:49.545905"], ["updated_at", "2020-01-15 09:08:49.545905"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:08:49.547989"], ["updated_at", "2020-01-15 09:08:49.547989"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:08:49.549582"], ["updated_at", "2020-01-15 09:08:49.549582"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:08:49.550656"], ["updated_at", "2020-01-15 09:08:49.550656"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:08:49.551862"], ["updated_at", "2020-01-15 09:08:49.551862"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:08:49.552490"], ["updated_at", "2020-01-15 09:08:49.552490"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:08:49.553061"], ["updated_at", "2020-01-15 09:08:49.553061"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:08:49.553674"], ["updated_at", "2020-01-15 09:08:49.553674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:08:49.554286"], ["updated_at", "2020-01-15 09:08:49.554286"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:11:19.719976"], ["updated_at", "2020-01-15 09:11:19.719976"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:11:19.721762"], ["updated_at", "2020-01-15 09:11:19.721762"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:11:19.723205"], ["updated_at", "2020-01-15 09:11:19.723205"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:11:19.724105"], ["updated_at", "2020-01-15 09:11:19.724105"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:11:19.725351"], ["updated_at", "2020-01-15 09:11:19.725351"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:11:19.725854"], ["updated_at", "2020-01-15 09:11:19.725854"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:11:19.726307"], ["updated_at", "2020-01-15 09:11:19.726307"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:11:19.726782"], ["updated_at", "2020-01-15 09:11:19.726782"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:11:19.727266"], ["updated_at", "2020-01-15 09:11:19.727266"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:15:32.094501"], ["updated_at", "2020-01-15 09:15:32.094501"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:15:32.096120"], ["updated_at", "2020-01-15 09:15:32.096120"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:15:32.097639"], ["updated_at", "2020-01-15 09:15:32.097639"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:15:32.098502"], ["updated_at", "2020-01-15 09:15:32.098502"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:15:32.099397"], ["updated_at", "2020-01-15 09:15:32.099397"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:15:32.099848"], ["updated_at", "2020-01-15 09:15:32.099848"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:15:32.100255"], ["updated_at", "2020-01-15 09:15:32.100255"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:15:32.100713"], ["updated_at", "2020-01-15 09:15:32.100713"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:15:32.101142"], ["updated_at", "2020-01-15 09:15:32.101142"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:18:48.971690"], ["updated_at", "2020-01-15 09:18:48.971690"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:18:48.973625"], ["updated_at", "2020-01-15 09:18:48.973625"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:18:48.975202"], ["updated_at", "2020-01-15 09:18:48.975202"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:18:48.976342"], ["updated_at", "2020-01-15 09:18:48.976342"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:18:48.977841"], ["updated_at", "2020-01-15 09:18:48.977841"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:18:48.978378"], ["updated_at", "2020-01-15 09:18:48.978378"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:18:48.978860"], ["updated_at", "2020-01-15 09:18:48.978860"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:18:48.979374"], ["updated_at", "2020-01-15 09:18:48.979374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:18:48.979934"], ["updated_at", "2020-01-15 09:18:48.979934"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-15 00:00:00"], ["created_at", "2020-01-15 23:59:59.999999"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-15 09:19:49.123596"], ["updated_at", "2020-01-15 09:19:49.123596"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-15 09:19:49.125287"], ["updated_at", "2020-01-15 09:19:49.125287"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-15 09:19:49.126789"], ["updated_at", "2020-01-15 09:19:49.126789"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-15 09:19:49.127698"], ["updated_at", "2020-01-15 09:19:49.127698"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:19:49.128877"], ["updated_at", "2020-01-15 09:19:49.128877"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-15 09:19:49.129395"], ["updated_at", "2020-01-15 09:19:49.129395"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-15 09:19:49.129867"], ["updated_at", "2020-01-15 09:19:49.129867"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-15 09:19:49.130360"], ["updated_at", "2020-01-15 09:19:49.130360"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-15 09:19:49.130855"], ["updated_at", "2020-01-15 09:19:49.130855"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-15 00:00:00"], ["created_at", "2020-01-15 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-15001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-15 09:19:49.165560"], ["updated_at", "2020-01-15 09:19:49.165560"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-15 09:19:49.166717"], ["updated_at", "2020-01-15 09:19:49.166717"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["created_at", "2020-01-15 09:19:49.168356"], ["updated_at", "2020-01-15 09:19:49.168356"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-15 09:19:49.169989"], ["updated_at", "2020-01-15 09:19:49.169989"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["created_at", "2020-01-15 09:19:49.170929"], ["updated_at", "2020-01-15 09:19:49.170929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["created_at", "2020-01-15 09:19:49.171378"], ["updated_at", "2020-01-15 09:19:49.171378"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-15 09:19:49.172369"], ["updated_at", "2020-01-15 09:19:49.172369"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["created_at", "2020-01-15 09:19:49.173879"], ["updated_at", "2020-01-15 09:19:49.173879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-16 03:19:54.661692"], ["updated_at", "2020-01-16 03:19:54.661692"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-16 03:19:54.666039"], ["updated_at", "2020-01-16 03:19:54.666039"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-16 03:19:54.667896"], ["updated_at", "2020-01-16 03:19:54.667896"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-16 03:19:54.669056"], ["updated_at", "2020-01-16 03:19:54.669056"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-16 03:19:54.670786"], ["updated_at", "2020-01-16 03:19:54.670786"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-16 03:19:54.671996"], ["updated_at", "2020-01-16 03:19:54.671996"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-16 03:19:54.672641"], ["updated_at", "2020-01-16 03:19:54.672641"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-16 03:19:54.673249"], ["updated_at", "2020-01-16 03:19:54.673249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-16 03:19:54.673975"], ["updated_at", "2020-01-16 03:19:54.673975"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-16 00:00:00"], ["created_at", "2020-01-16 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-16001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-16 03:19:54.717930"], ["updated_at", "2020-01-16 03:19:54.717930"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-16 03:19:54.719166"], ["updated_at", "2020-01-16 03:19:54.719166"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["created_at", "2020-01-16 03:19:54.720340"], ["updated_at", "2020-01-16 03:19:54.720340"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-16 03:19:54.721886"], ["updated_at", "2020-01-16 03:19:54.721886"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["created_at", "2020-01-16 03:19:54.722424"], ["updated_at", "2020-01-16 03:19:54.722424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["created_at", "2020-01-16 03:19:54.722910"], ["updated_at", "2020-01-16 03:19:54.722910"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-16 03:19:54.723409"], ["updated_at", "2020-01-16 03:19:54.723409"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["created_at", "2020-01-16 03:19:54.723924"], ["updated_at", "2020-01-16 03:19:54.723924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-20 06:52:48.948937"], ["updated_at", "2020-01-20 06:52:48.948937"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-20 06:52:48.951599"], ["updated_at", "2020-01-20 06:52:48.951599"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-20 06:52:48.953181"], ["updated_at", "2020-01-20 06:52:48.953181"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-20 06:52:48.954304"], ["updated_at", "2020-01-20 06:52:48.954304"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-20 06:52:48.955405"], ["updated_at", "2020-01-20 06:52:48.955405"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-20 06:52:48.956041"], ["updated_at", "2020-01-20 06:52:48.956041"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-20 06:52:48.956618"], ["updated_at", "2020-01-20 06:52:48.956618"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-20 06:52:48.957290"], ["updated_at", "2020-01-20 06:52:48.957290"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-20 06:52:48.957906"], ["updated_at", "2020-01-20 06:52:48.957906"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-20 00:00:00"], ["created_at", "2020-01-20 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-20001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-20 06:52:49.001387"], ["updated_at", "2020-01-20 06:52:49.001387"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-20 06:52:49.003236"], ["updated_at", "2020-01-20 06:52:49.003236"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["created_at", "2020-01-20 06:52:49.004771"], ["updated_at", "2020-01-20 06:52:49.004771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-20 06:52:49.006727"], ["updated_at", "2020-01-20 06:52:49.006727"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["created_at", "2020-01-20 06:52:49.007365"], ["updated_at", "2020-01-20 06:52:49.007365"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["created_at", "2020-01-20 06:52:49.007952"], ["updated_at", "2020-01-20 06:52:49.007952"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-20 06:52:49.008581"], ["updated_at", "2020-01-20 06:52:49.008581"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["created_at", "2020-01-20 06:52:49.009201"], ["updated_at", "2020-01-20 06:52:49.009201"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:00:30.341271"], ["updated_at", "2020-01-21 09:00:30.341271"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:00:30.344343"], ["updated_at", "2020-01-21 09:00:30.344343"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:00:30.345636"], ["updated_at", "2020-01-21 09:00:30.345636"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:00:30.346652"], ["updated_at", "2020-01-21 09:00:30.346652"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:00:30.347557"], ["updated_at", "2020-01-21 09:00:30.347557"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:00:30.348227"], ["updated_at", "2020-01-21 09:00:30.348227"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:00:30.348689"], ["updated_at", "2020-01-21 09:00:30.348689"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:00:30.349174"], ["updated_at", "2020-01-21 09:00:30.349174"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:00:30.349658"], ["updated_at", "2020-01-21 09:00:30.349658"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:00:30.386549"], ["updated_at", "2020-01-21 09:00:30.386549"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:00:30.388056"], ["updated_at", "2020-01-21 09:00:30.388056"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:00:30.389851"], ["updated_at", "2020-01-21 09:00:30.389851"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:00:30.392007"], ["updated_at", "2020-01-21 09:00:30.392007"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:00:30.392628"], ["updated_at", "2020-01-21 09:00:30.392628"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:00:30.393169"], ["updated_at", "2020-01-21 09:00:30.393169"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:00:30.393700"], ["updated_at", "2020-01-21 09:00:30.393700"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:00:30.394204"], ["updated_at", "2020-01-21 09:00:30.394204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:02:48.406731"], ["updated_at", "2020-01-21 09:02:48.406731"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:02:48.408552"], ["updated_at", "2020-01-21 09:02:48.408552"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:02:48.409879"], ["updated_at", "2020-01-21 09:02:48.409879"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:02:48.410661"], ["updated_at", "2020-01-21 09:02:48.410661"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:02:48.411480"], ["updated_at", "2020-01-21 09:02:48.411480"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:02:48.411981"], ["updated_at", "2020-01-21 09:02:48.411981"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:02:48.412447"], ["updated_at", "2020-01-21 09:02:48.412447"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:02:48.412953"], ["updated_at", "2020-01-21 09:02:48.412953"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:02:48.413446"], ["updated_at", "2020-01-21 09:02:48.413446"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:02:48.449624"], ["updated_at", "2020-01-21 09:02:48.449624"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:02:48.450979"], ["updated_at", "2020-01-21 09:02:48.450979"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:02:48.452208"], ["updated_at", "2020-01-21 09:02:48.452208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:02:48.454137"], ["updated_at", "2020-01-21 09:02:48.454137"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:02:48.454645"], ["updated_at", "2020-01-21 09:02:48.454645"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:02:48.455195"], ["updated_at", "2020-01-21 09:02:48.455195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:02:48.455664"], ["updated_at", "2020-01-21 09:02:48.455664"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:02:48.456174"], ["updated_at", "2020-01-21 09:02:48.456174"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:07:09.835328"], ["updated_at", "2020-01-21 09:07:09.835328"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:07:09.837289"], ["updated_at", "2020-01-21 09:07:09.837289"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:07:09.838730"], ["updated_at", "2020-01-21 09:07:09.838730"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:07:09.839706"], ["updated_at", "2020-01-21 09:07:09.839706"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:07:09.840642"], ["updated_at", "2020-01-21 09:07:09.840642"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:07:09.841426"], ["updated_at", "2020-01-21 09:07:09.841426"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:07:09.842090"], ["updated_at", "2020-01-21 09:07:09.842090"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:07:09.842694"], ["updated_at", "2020-01-21 09:07:09.842694"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:07:09.843230"], ["updated_at", "2020-01-21 09:07:09.843230"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:07:09.882686"], ["updated_at", "2020-01-21 09:07:09.882686"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:07:09.884310"], ["updated_at", "2020-01-21 09:07:09.884310"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:07:09.886053"], ["updated_at", "2020-01-21 09:07:09.886053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:07:09.888302"], ["updated_at", "2020-01-21 09:07:09.888302"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:07:09.888893"], ["updated_at", "2020-01-21 09:07:09.888893"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:07:09.889409"], ["updated_at", "2020-01-21 09:07:09.889409"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:07:09.889964"], ["updated_at", "2020-01-21 09:07:09.889964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:07:09.890495"], ["updated_at", "2020-01-21 09:07:09.890495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:08:50.307914"], ["updated_at", "2020-01-21 09:08:50.307914"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:08:50.309595"], ["updated_at", "2020-01-21 09:08:50.309595"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:08:50.310947"], ["updated_at", "2020-01-21 09:08:50.310947"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:08:50.311903"], ["updated_at", "2020-01-21 09:08:50.311903"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:08:50.312784"], ["updated_at", "2020-01-21 09:08:50.312784"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:08:50.313300"], ["updated_at", "2020-01-21 09:08:50.313300"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:08:50.313770"], ["updated_at", "2020-01-21 09:08:50.313770"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:08:50.314276"], ["updated_at", "2020-01-21 09:08:50.314276"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:08:50.314778"], ["updated_at", "2020-01-21 09:08:50.314778"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:08:50.350662"], ["updated_at", "2020-01-21 09:08:50.350662"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:08:50.352133"], ["updated_at", "2020-01-21 09:08:50.352133"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:08:50.353219"], ["updated_at", "2020-01-21 09:08:50.353219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:08:50.354986"], ["updated_at", "2020-01-21 09:08:50.354986"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:08:50.355505"], ["updated_at", "2020-01-21 09:08:50.355505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:08:50.356017"], ["updated_at", "2020-01-21 09:08:50.356017"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:08:50.356515"], ["updated_at", "2020-01-21 09:08:50.356515"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:08:50.357033"], ["updated_at", "2020-01-21 09:08:50.357033"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:11:18.834589"], ["updated_at", "2020-01-21 09:11:18.834589"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:11:18.836692"], ["updated_at", "2020-01-21 09:11:18.836692"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:11:18.838313"], ["updated_at", "2020-01-21 09:11:18.838313"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:11:18.839433"], ["updated_at", "2020-01-21 09:11:18.839433"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:11:18.840672"], ["updated_at", "2020-01-21 09:11:18.840672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:11:18.841303"], ["updated_at", "2020-01-21 09:11:18.841303"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:11:18.841872"], ["updated_at", "2020-01-21 09:11:18.841872"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:11:18.842484"], ["updated_at", "2020-01-21 09:11:18.842484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:11:18.843101"], ["updated_at", "2020-01-21 09:11:18.843101"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:11:18.888394"], ["updated_at", "2020-01-21 09:11:18.888394"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:11:18.889982"], ["updated_at", "2020-01-21 09:11:18.889982"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:11:18.891562"], ["updated_at", "2020-01-21 09:11:18.891562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:11:18.893717"], ["updated_at", "2020-01-21 09:11:18.893717"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:11:18.894376"], ["updated_at", "2020-01-21 09:11:18.894376"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:11:18.894990"], ["updated_at", "2020-01-21 09:11:18.894990"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:11:18.895631"], ["updated_at", "2020-01-21 09:11:18.895631"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:11:18.896274"], ["updated_at", "2020-01-21 09:11:18.896274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:14:16.131581"], ["updated_at", "2020-01-21 09:14:16.131581"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:14:16.133338"], ["updated_at", "2020-01-21 09:14:16.133338"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:14:16.134687"], ["updated_at", "2020-01-21 09:14:16.134687"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:14:16.135672"], ["updated_at", "2020-01-21 09:14:16.135672"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:14:16.136626"], ["updated_at", "2020-01-21 09:14:16.136626"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:14:16.137130"], ["updated_at", "2020-01-21 09:14:16.137130"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:14:16.137585"], ["updated_at", "2020-01-21 09:14:16.137585"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:14:16.138064"], ["updated_at", "2020-01-21 09:14:16.138064"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:14:16.138554"], ["updated_at", "2020-01-21 09:14:16.138554"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:14:16.181219"], ["updated_at", "2020-01-21 09:14:16.181219"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:16.182512"], ["updated_at", "2020-01-21 09:14:16.182512"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:14:16.183825"], ["updated_at", "2020-01-21 09:14:16.183825"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:16.185503"], ["updated_at", "2020-01-21 09:14:16.185503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:14:16.186021"], ["updated_at", "2020-01-21 09:14:16.186021"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:14:16.186517"], ["updated_at", "2020-01-21 09:14:16.186517"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:16.187043"], ["updated_at", "2020-01-21 09:14:16.187043"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:14:16.187561"], ["updated_at", "2020-01-21 09:14:16.187561"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-21 09:14:46.311504"], ["updated_at", "2020-01-21 09:14:46.311504"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-21 09:14:46.313330"], ["updated_at", "2020-01-21 09:14:46.313330"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-21 09:14:46.314673"], ["updated_at", "2020-01-21 09:14:46.314673"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-21 09:14:46.315616"], ["updated_at", "2020-01-21 09:14:46.315616"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:14:46.316604"], ["updated_at", "2020-01-21 09:14:46.316604"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-21 09:14:46.317119"], ["updated_at", "2020-01-21 09:14:46.317119"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-21 09:14:46.317584"], ["updated_at", "2020-01-21 09:14:46.317584"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-21 09:14:46.318079"], ["updated_at", "2020-01-21 09:14:46.318079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-21 09:14:46.318584"], ["updated_at", "2020-01-21 09:14:46.318584"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-21001"], ["title", "詢價單簽核"], ["state", 0], ["created_at", "2020-01-21 09:14:46.353522"], ["updated_at", "2020-01-21 09:14:46.353522"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.354678"], ["updated_at", "2020-01-21 09:14:46.354678"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["state", 0], ["created_at", "2020-01-21 09:14:46.355851"], ["updated_at", "2020-01-21 09:14:46.355851"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.357464"], ["updated_at", "2020-01-21 09:14:46.357464"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["state", 0], ["created_at", "2020-01-21 09:14:46.357916"], ["updated_at", "2020-01-21 09:14:46.357916"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["state", 0], ["created_at", "2020-01-21 09:14:46.358346"], ["updated_at", "2020-01-21 09:14:46.358346"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.358799"], ["updated_at", "2020-01-21 09:14:46.358799"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["state", 0], ["created_at", "2020-01-21 09:14:46.359241"], ["updated_at", "2020-01-21 09:14:46.359241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-21 00:00:00"], ["created_at", "2020-01-21 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-21001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-21 09:14:46.371012"], ["updated_at", "2020-01-21 09:14:46.371012"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-21 09:14:46.371869"], ["updated_at", "2020-01-21 09:14:46.371869"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-21 09:14:46.373147"], ["updated_at", "2020-01-21 09:14:46.373147"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.373604"], ["updated_at", "2020-01-21 09:14:46.373604"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-21 09:14:46.374175"], ["updated_at", "2020-01-21 09:14:46.374175"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.374801"], ["updated_at", "2020-01-21 09:14:46.374801"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-21 09:14:46.375262"], ["updated_at", "2020-01-21 09:14:46.375262"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-21 09:14:46.375719"], ["updated_at", "2020-01-21 09:14:46.375719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-21 09:14:46.376185"], ["updated_at", "2020-01-21 09:14:46.376185"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-21 09:14:46.376642"], ["updated_at", "2020-01-21 09:14:46.376642"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200122025321)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200122025321"]]
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 02:56:43.976230"], ["updated_at", "2020-01-22 02:56:43.976230"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 02:56:43.978463"], ["updated_at", "2020-01-22 02:56:43.978463"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 02:56:43.979833"], ["updated_at", "2020-01-22 02:56:43.979833"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-22 02:56:43.980786"], ["updated_at", "2020-01-22 02:56:43.980786"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 02:56:43.981783"], ["updated_at", "2020-01-22 02:56:43.981783"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 02:56:43.982301"], ["updated_at", "2020-01-22 02:56:43.982301"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 02:56:43.982773"], ["updated_at", "2020-01-22 02:56:43.982773"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 02:56:43.983274"], ["updated_at", "2020-01-22 02:56:43.983274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 02:56:43.983777"], ["updated_at", "2020-01-22 02:56:43.983777"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.4ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 02:57:34.647255"], ["updated_at", "2020-01-22 02:57:34.647255"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 02:57:34.648836"], ["updated_at", "2020-01-22 02:57:34.648836"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 02:57:34.650067"], ["updated_at", "2020-01-22 02:57:34.650067"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-22 02:57:34.651063"], ["updated_at", "2020-01-22 02:57:34.651063"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 02:57:34.651915"], ["updated_at", "2020-01-22 02:57:34.651915"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 02:57:34.652339"], ["updated_at", "2020-01-22 02:57:34.652339"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 02:57:34.652728"], ["updated_at", "2020-01-22 02:57:34.652728"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 02:57:34.653231"], ["updated_at", "2020-01-22 02:57:34.653231"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 02:57:34.653677"], ["updated_at", "2020-01-22 02:57:34.653677"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:00:52.356099"], ["updated_at", "2020-01-22 03:00:52.356099"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:00:52.357648"], ["updated_at", "2020-01-22 03:00:52.357648"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:00:52.359573"], ["updated_at", "2020-01-22 03:00:52.359573"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 1], ["user_id", 1], ["role", "主管"], ["created_at", "2020-01-22 03:00:52.360422"], ["updated_at", "2020-01-22 03:00:52.360422"], ["larvata_signing_flow_stage_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:00:52.361305"], ["updated_at", "2020-01-22 03:00:52.361305"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:00:52.361809"], ["updated_at", "2020-01-22 03:00:52.361809"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:00:52.362202"], ["updated_at", "2020-01-22 03:00:52.362202"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:00:52.362625"], ["updated_at", "2020-01-22 03:00:52.362625"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:00:52.363036"], ["updated_at", "2020-01-22 03:00:52.363036"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:08:29.723132"], ["updated_at", "2020-01-22 03:08:29.723132"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:08:29.724609"], ["updated_at", "2020-01-22 03:08:29.724609"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:08:29.725886"], ["updated_at", "2020-01-22 03:08:29.725886"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:08:29.726751"], ["updated_at", "2020-01-22 03:08:29.726751"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:08:29.727154"], ["updated_at", "2020-01-22 03:08:29.727154"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:08:29.727905"], ["updated_at", "2020-01-22 03:08:29.727905"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:08:29.728317"], ["updated_at", "2020-01-22 03:08:29.728317"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:08:29.728724"], ["updated_at", "2020-01-22 03:08:29.728724"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (76.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:10:20.647376"], ["updated_at", "2020-01-22 03:10:20.647376"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:10:20.725464"], ["updated_at", "2020-01-22 03:10:20.725464"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:10:20.727317"], ["updated_at", "2020-01-22 03:10:20.727317"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:10:20.728452"], ["updated_at", "2020-01-22 03:10:20.728452"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:10:20.728989"], ["updated_at", "2020-01-22 03:10:20.728989"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:10:20.729790"], ["updated_at", "2020-01-22 03:10:20.729790"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:10:20.730237"], ["updated_at", "2020-01-22 03:10:20.730237"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:10:20.730705"], ["updated_at", "2020-01-22 03:10:20.730705"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:12:49.347271"], ["updated_at", "2020-01-22 03:12:49.347271"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:12:49.348983"], ["updated_at", "2020-01-22 03:12:49.348983"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:12:49.350374"], ["updated_at", "2020-01-22 03:12:49.350374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:12:49.351618"], ["updated_at", "2020-01-22 03:12:49.351618"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:12:49.352695"], ["updated_at", "2020-01-22 03:12:49.352695"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:12:49.353592"], ["updated_at", "2020-01-22 03:12:49.353592"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:12:49.354100"], ["updated_at", "2020-01-22 03:12:49.354100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:12:49.354601"], ["updated_at", "2020-01-22 03:12:49.354601"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:13:10.967282"], ["updated_at", "2020-01-22 03:13:10.967282"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:13:10.969131"], ["updated_at", "2020-01-22 03:13:10.969131"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:13:10.970392"], ["updated_at", "2020-01-22 03:13:10.970392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:13:10.971471"], ["updated_at", "2020-01-22 03:13:10.971471"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:13:10.972121"], ["updated_at", "2020-01-22 03:13:10.972121"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:13:10.973187"], ["updated_at", "2020-01-22 03:13:10.973187"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:13:10.973828"], ["updated_at", "2020-01-22 03:13:10.973828"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:13:10.974444"], ["updated_at", "2020-01-22 03:13:10.974444"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:15:35.642375"], ["updated_at", "2020-01-22 03:15:35.642375"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:15:35.643989"], ["updated_at", "2020-01-22 03:15:35.643989"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:15:35.645243"], ["updated_at", "2020-01-22 03:15:35.645243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:15:35.646054"], ["updated_at", "2020-01-22 03:15:35.646054"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:15:35.646567"], ["updated_at", "2020-01-22 03:15:35.646567"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:15:35.647320"], ["updated_at", "2020-01-22 03:15:35.647320"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:15:35.647811"], ["updated_at", "2020-01-22 03:15:35.647811"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:15:35.648357"], ["updated_at", "2020-01-22 03:15:35.648357"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:18:23.818189"], ["updated_at", "2020-01-22 03:18:23.818189"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:18:23.819897"], ["updated_at", "2020-01-22 03:18:23.819897"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:18:23.821138"], ["updated_at", "2020-01-22 03:18:23.821138"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:18:23.822235"], ["updated_at", "2020-01-22 03:18:23.822235"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:18:23.822727"], ["updated_at", "2020-01-22 03:18:23.822727"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:18:23.823852"], ["updated_at", "2020-01-22 03:18:23.823852"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:18:23.824363"], ["updated_at", "2020-01-22 03:18:23.824363"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:18:23.824847"], ["updated_at", "2020-01-22 03:18:23.824847"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 03:18:23.863491"], ["updated_at", "2020-01-22 03:18:23.863491"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:18:23.865111"], ["updated_at", "2020-01-22 03:18:23.865111"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:18:23.866538"], ["updated_at", "2020-01-22 03:18:23.866538"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 03:18:23.867070"], ["updated_at", "2020-01-22 03:18:23.867070"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 03:18:23.869071"], ["updated_at", "2020-01-22 03:18:23.869071"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:18:23.869637"], ["updated_at", "2020-01-22 03:18:23.869637"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 03:18:23.870167"], ["updated_at", "2020-01-22 03:18:23.870167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:41:07.216806"], ["updated_at", "2020-01-22 03:41:07.216806"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:41:07.218596"], ["updated_at", "2020-01-22 03:41:07.218596"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:41:07.219968"], ["updated_at", "2020-01-22 03:41:07.219968"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:41:07.221054"], ["updated_at", "2020-01-22 03:41:07.221054"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:41:07.221592"], ["updated_at", "2020-01-22 03:41:07.221592"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:41:07.222596"], ["updated_at", "2020-01-22 03:41:07.222596"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:41:07.223112"], ["updated_at", "2020-01-22 03:41:07.223112"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:41:07.223640"], ["updated_at", "2020-01-22 03:41:07.223640"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 03:41:07.266778"], ["updated_at", "2020-01-22 03:41:07.266778"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:41:07.268563"], ["updated_at", "2020-01-22 03:41:07.268563"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:41:07.270018"], ["updated_at", "2020-01-22 03:41:07.270018"]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 03:41:07.270479"], ["updated_at", "2020-01-22 03:41:07.270479"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 03:41:07.272481"], ["updated_at", "2020-01-22 03:41:07.272481"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:41:07.273133"], ["updated_at", "2020-01-22 03:41:07.273133"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 03:41:07.274290"], ["updated_at", "2020-01-22 03:41:07.274290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ? OFFSET ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1], ["OFFSET", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ?[0m  [["larvata_signing_stage_id", 2]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 03:42:49.750002"], ["updated_at", "2020-01-22 03:42:49.750002"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 03:42:49.751994"], ["updated_at", "2020-01-22 03:42:49.751994"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 03:42:49.753925"], ["updated_at", "2020-01-22 03:42:49.753925"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:42:49.755151"], ["updated_at", "2020-01-22 03:42:49.755151"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["role", "業務經理"], ["created_at", "2020-01-22 03:42:49.755647"], ["updated_at", "2020-01-22 03:42:49.755647"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 03:42:49.756741"], ["updated_at", "2020-01-22 03:42:49.756741"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 03:42:49.757325"], ["updated_at", "2020-01-22 03:42:49.757325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["role", "總經理"], ["created_at", "2020-01-22 03:42:49.757901"], ["updated_at", "2020-01-22 03:42:49.757901"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 03:43:33.970833"], ["updated_at", "2020-01-22 03:43:33.970833"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:43:33.973246"], ["updated_at", "2020-01-22 03:43:33.973246"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:43:33.974692"], ["updated_at", "2020-01-22 03:43:33.974692"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 03:43:33.975332"], ["updated_at", "2020-01-22 03:43:33.975332"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 03:43:33.977378"], ["updated_at", "2020-01-22 03:43:33.977378"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 03:43:33.978018"], ["updated_at", "2020-01-22 03:43:33.978018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 03:43:33.978604"], ["updated_at", "2020-01-22 03:43:33.978604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 06:47:03.551862"], ["updated_at", "2020-01-22 06:47:03.551862"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 06:47:03.554638"], ["updated_at", "2020-01-22 06:47:03.554638"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 06:47:03.555951"], ["updated_at", "2020-01-22 06:47:03.555951"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:47:03.556890"], ["updated_at", "2020-01-22 06:47:03.556890"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-22 06:47:03.557442"], ["updated_at", "2020-01-22 06:47:03.557442"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-22 06:47:03.558191"], ["updated_at", "2020-01-22 06:47:03.558191"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-22 06:47:03.559154"], ["updated_at", "2020-01-22 06:47:03.559154"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 06:47:03.559533"], ["updated_at", "2020-01-22 06:47:03.559533"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:47:03.560049"], ["updated_at", "2020-01-22 06:47:03.560049"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-22 06:47:03.560585"], ["updated_at", "2020-01-22 06:47:03.560585"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-22 06:47:03.560963"], ["updated_at", "2020-01-22 06:47:03.560963"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:47:17.970986"], ["updated_at", "2020-01-22 06:47:17.970986"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:47:17.973715"], ["updated_at", "2020-01-22 06:47:17.973715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:47:17.975563"], ["updated_at", "2020-01-22 06:47:17.975563"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:47:17.976383"], ["updated_at", "2020-01-22 06:47:17.976383"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:47:17.978383"], ["updated_at", "2020-01-22 06:47:17.978383"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:47:17.979074"], ["updated_at", "2020-01-22 06:47:17.979074"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:47:17.979748"], ["updated_at", "2020-01-22 06:47:17.979748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 06:53:18.978489"], ["updated_at", "2020-01-22 06:53:18.978489"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 06:53:18.980675"], ["updated_at", "2020-01-22 06:53:18.980675"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 06:53:18.982637"], ["updated_at", "2020-01-22 06:53:18.982637"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:53:18.983903"], ["updated_at", "2020-01-22 06:53:18.983903"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-22 06:53:18.984479"], ["updated_at", "2020-01-22 06:53:18.984479"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-22 06:53:18.985511"], ["updated_at", "2020-01-22 06:53:18.985511"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-22 06:53:18.986676"], ["updated_at", "2020-01-22 06:53:18.986676"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 06:53:18.987100"], ["updated_at", "2020-01-22 06:53:18.987100"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:53:18.987647"], ["updated_at", "2020-01-22 06:53:18.987647"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-22 06:53:18.988221"], ["updated_at", "2020-01-22 06:53:18.988221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-22 06:53:18.988610"], ["updated_at", "2020-01-22 06:53:18.988610"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:53:22.758640"], ["updated_at", "2020-01-22 06:53:22.758640"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.760586"], ["updated_at", "2020-01-22 06:53:22.760586"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.762122"], ["updated_at", "2020-01-22 06:53:22.762122"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.762795"], ["updated_at", "2020-01-22 06:53:22.762795"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.764829"], ["updated_at", "2020-01-22 06:53:22.764829"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.765551"], ["updated_at", "2020-01-22 06:53:22.765551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.766198"], ["updated_at", "2020-01-22 06:53:22.766198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-22001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:53:22.782754"], ["updated_at", "2020-01-22 06:53:22.782754"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-22 06:53:22.783640"], ["updated_at", "2020-01-22 06:53:22.783640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-22 06:53:22.784771"], ["updated_at", "2020-01-22 06:53:22.784771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.785319"], ["updated_at", "2020-01-22 06:53:22.785319"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-22 06:53:22.785964"], ["updated_at", "2020-01-22 06:53:22.785964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.786713"], ["updated_at", "2020-01-22 06:53:22.786713"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.787266"], ["updated_at", "2020-01-22 06:53:22.787266"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.787817"], ["updated_at", "2020-01-22 06:53:22.787817"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:53:22.788488"], ["updated_at", "2020-01-22 06:53:22.788488"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:53:22.789091"], ["updated_at", "2020-01-22 06:53:22.789091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 06:56:36.271873"], ["updated_at", "2020-01-22 06:56:36.271873"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 06:56:36.273767"], ["updated_at", "2020-01-22 06:56:36.273767"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 06:56:36.275698"], ["updated_at", "2020-01-22 06:56:36.275698"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:56:36.277005"], ["updated_at", "2020-01-22 06:56:36.277005"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-22 06:56:36.277588"], ["updated_at", "2020-01-22 06:56:36.277588"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-22 06:56:36.278640"], ["updated_at", "2020-01-22 06:56:36.278640"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-22 06:56:36.280012"], ["updated_at", "2020-01-22 06:56:36.280012"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 06:56:36.280504"], ["updated_at", "2020-01-22 06:56:36.280504"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:56:36.281123"], ["updated_at", "2020-01-22 06:56:36.281123"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-22 06:56:36.281700"], ["updated_at", "2020-01-22 06:56:36.281700"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-22 06:56:36.282100"], ["updated_at", "2020-01-22 06:56:36.282100"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-22001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:56:36.322631"], ["updated_at", "2020-01-22 06:56:36.322631"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-22 06:56:36.324111"], ["updated_at", "2020-01-22 06:56:36.324111"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-22 06:56:36.325239"], ["updated_at", "2020-01-22 06:56:36.325239"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:36.325811"], ["updated_at", "2020-01-22 06:56:36.325811"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-22 06:56:36.328104"], ["updated_at", "2020-01-22 06:56:36.328104"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:36.330069"], ["updated_at", "2020-01-22 06:56:36.330069"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:56:36.330664"], ["updated_at", "2020-01-22 06:56:36.330664"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:56:36.331176"], ["updated_at", "2020-01-22 06:56:36.331176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:36.331719"], ["updated_at", "2020-01-22 06:56:36.331719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:56:36.332241"], ["updated_at", "2020-01-22 06:56:36.332241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-22 06:56:36.333887"], ["updated_at", "2020-01-22 06:56:36.333887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 06:56:56.576349"], ["updated_at", "2020-01-22 06:56:56.576349"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 06:56:56.578236"], ["updated_at", "2020-01-22 06:56:56.578236"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 06:56:56.579973"], ["updated_at", "2020-01-22 06:56:56.579973"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:56:56.581220"], ["updated_at", "2020-01-22 06:56:56.581220"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-22 06:56:56.581812"], ["updated_at", "2020-01-22 06:56:56.581812"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-22 06:56:56.582606"], ["updated_at", "2020-01-22 06:56:56.582606"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-22 06:56:56.583690"], ["updated_at", "2020-01-22 06:56:56.583690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 06:56:56.584090"], ["updated_at", "2020-01-22 06:56:56.584090"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:56:56.584631"], ["updated_at", "2020-01-22 06:56:56.584631"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-22 06:56:56.585189"], ["updated_at", "2020-01-22 06:56:56.585189"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-22 06:56:56.585555"], ["updated_at", "2020-01-22 06:56:56.585555"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-22001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:56:56.626196"], ["updated_at", "2020-01-22 06:56:56.626196"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-22 06:56:56.627695"], ["updated_at", "2020-01-22 06:56:56.627695"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-22 06:56:56.628866"], ["updated_at", "2020-01-22 06:56:56.628866"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:56.629425"], ["updated_at", "2020-01-22 06:56:56.629425"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-22 06:56:56.630715"], ["updated_at", "2020-01-22 06:56:56.630715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:56.632604"], ["updated_at", "2020-01-22 06:56:56.632604"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:56:56.633142"], ["updated_at", "2020-01-22 06:56:56.633142"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:56:56.633669"], ["updated_at", "2020-01-22 06:56:56.633669"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:56:56.634219"], ["updated_at", "2020-01-22 06:56:56.634219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:56:56.634748"], ["updated_at", "2020-01-22 06:56:56.634748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-22 06:56:56.636379"], ["updated_at", "2020-01-22 06:56:56.636379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-22 06:57:16.831646"], ["updated_at", "2020-01-22 06:57:16.831646"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-22 06:57:16.833734"], ["updated_at", "2020-01-22 06:57:16.833734"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-22 06:57:16.835020"], ["updated_at", "2020-01-22 06:57:16.835020"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:57:16.836169"], ["updated_at", "2020-01-22 06:57:16.836169"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-22 06:57:16.836747"], ["updated_at", "2020-01-22 06:57:16.836747"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-22 06:57:16.837392"], ["updated_at", "2020-01-22 06:57:16.837392"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-22 06:57:16.838592"], ["updated_at", "2020-01-22 06:57:16.838592"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-22 06:57:16.838991"], ["updated_at", "2020-01-22 06:57:16.838991"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-22 06:57:16.839542"], ["updated_at", "2020-01-22 06:57:16.839542"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-22 06:57:16.840104"], ["updated_at", "2020-01-22 06:57:16.840104"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-22 06:57:16.840493"], ["updated_at", "2020-01-22 06:57:16.840493"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-22 06:57:16.841448"], ["updated_at", "2020-01-22 06:57:16.841448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-22001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:57:16.877498"], ["updated_at", "2020-01-22 06:57:16.877498"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.878665"], ["updated_at", "2020-01-22 06:57:16.878665"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.879735"], ["updated_at", "2020-01-22 06:57:16.879735"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.880337"], ["updated_at", "2020-01-22 06:57:16.880337"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.881771"], ["updated_at", "2020-01-22 06:57:16.881771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.882243"], ["updated_at", "2020-01-22 06:57:16.882243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.882692"], ["updated_at", "2020-01-22 06:57:16.882692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-22 00:00:00"], ["created_at", "2020-01-22 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-22001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-22 06:57:16.894450"], ["updated_at", "2020-01-22 06:57:16.894450"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-22 06:57:16.895649"], ["updated_at", "2020-01-22 06:57:16.895649"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-22 06:57:16.896681"], ["updated_at", "2020-01-22 06:57:16.896681"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.897141"], ["updated_at", "2020-01-22 06:57:16.897141"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-22 06:57:16.897670"], ["updated_at", "2020-01-22 06:57:16.897670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.898273"], ["updated_at", "2020-01-22 06:57:16.898273"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.898724"], ["updated_at", "2020-01-22 06:57:16.898724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.899329"], ["updated_at", "2020-01-22 06:57:16.899329"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-22 06:57:16.899780"], ["updated_at", "2020-01-22 06:57:16.899780"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-22 06:57:16.900231"], ["updated_at", "2020-01-22 06:57:16.900231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-22 06:57:16.901018"], ["updated_at", "2020-01-22 06:57:16.901018"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:34:36.883137"], ["updated_at", "2020-01-30 15:34:36.883137"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 15:34:36.885576"], ["updated_at", "2020-01-30 15:34:36.885576"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 15:34:36.886759"], ["updated_at", "2020-01-30 15:34:36.886759"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:34:36.887239"], ["updated_at", "2020-01-30 15:34:36.887239"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 15:34:36.888496"], ["updated_at", "2020-01-30 15:34:36.888496"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:34:36.890555"], ["updated_at", "2020-01-30 15:34:36.890555"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:34:36.891186"], ["updated_at", "2020-01-30 15:34:36.891186"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:34:36.891654"], ["updated_at", "2020-01-30 15:34:36.891654"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:34:36.892112"], ["updated_at", "2020-01-30 15:34:36.892112"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:34:36.892561"], ["updated_at", "2020-01-30 15:34:36.892561"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 15:34:36.898577"], ["updated_at", "2020-01-30 15:34:36.898577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ? LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["state", 2], ["LIMIT", 11]]
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ? LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["state", 2], ["LIMIT", 11]]
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ? LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["state", 2], ["LIMIT", 11]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 15:38:21.904385"], ["updated_at", "2020-01-30 15:38:21.904385"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 15:38:21.906522"], ["updated_at", "2020-01-30 15:38:21.906522"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 15:38:21.908235"], ["updated_at", "2020-01-30 15:38:21.908235"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:38:21.909442"], ["updated_at", "2020-01-30 15:38:21.909442"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 15:38:21.910183"], ["updated_at", "2020-01-30 15:38:21.910183"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 15:38:21.911117"], ["updated_at", "2020-01-30 15:38:21.911117"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 15:38:21.912316"], ["updated_at", "2020-01-30 15:38:21.912316"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 15:38:21.912808"], ["updated_at", "2020-01-30 15:38:21.912808"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:38:21.913515"], ["updated_at", "2020-01-30 15:38:21.913515"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 15:38:21.914238"], ["updated_at", "2020-01-30 15:38:21.914238"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 15:38:21.914731"], ["updated_at", "2020-01-30 15:38:21.914731"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 15:38:21.915990"], ["updated_at", "2020-01-30 15:38:21.915990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.8ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:38:21.965628"], ["updated_at", "2020-01-30 15:38:21.965628"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:38:21.967749"], ["updated_at", "2020-01-30 15:38:21.967749"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:38:21.969384"], ["updated_at", "2020-01-30 15:38:21.969384"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:38:21.970058"], ["updated_at", "2020-01-30 15:38:21.970058"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:38:21.972105"], ["updated_at", "2020-01-30 15:38:21.972105"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:38:21.972850"], ["updated_at", "2020-01-30 15:38:21.972850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:38:21.973499"], ["updated_at", "2020-01-30 15:38:21.973499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 15:58:38.205387"], ["updated_at", "2020-01-30 15:58:38.205387"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 15:58:38.207279"], ["updated_at", "2020-01-30 15:58:38.207279"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 15:58:38.208557"], ["updated_at", "2020-01-30 15:58:38.208557"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:58:38.209445"], ["updated_at", "2020-01-30 15:58:38.209445"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 15:58:38.209918"], ["updated_at", "2020-01-30 15:58:38.209918"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 15:58:38.210668"], ["updated_at", "2020-01-30 15:58:38.210668"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 15:58:38.211543"], ["updated_at", "2020-01-30 15:58:38.211543"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 15:58:38.211854"], ["updated_at", "2020-01-30 15:58:38.211854"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:58:38.212344"], ["updated_at", "2020-01-30 15:58:38.212344"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 15:58:38.212809"], ["updated_at", "2020-01-30 15:58:38.212809"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 15:58:38.213123"], ["updated_at", "2020-01-30 15:58:38.213123"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 15:58:38.213877"], ["updated_at", "2020-01-30 15:58:38.213877"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:58:38.256326"], ["updated_at", "2020-01-30 15:58:38.256326"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.257708"], ["updated_at", "2020-01-30 15:58:38.257708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.258928"], ["updated_at", "2020-01-30 15:58:38.258928"]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.259539"], ["updated_at", "2020-01-30 15:58:38.259539"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.262640"], ["updated_at", "2020-01-30 15:58:38.262640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.263216"], ["updated_at", "2020-01-30 15:58:38.263216"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.263762"], ["updated_at", "2020-01-30 15:58:38.263762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:58:38.278038"], ["updated_at", "2020-01-30 15:58:38.278038"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 15:58:38.278905"], ["updated_at", "2020-01-30 15:58:38.278905"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 15:58:38.280120"], ["updated_at", "2020-01-30 15:58:38.280120"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.280665"], ["updated_at", "2020-01-30 15:58:38.280665"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 15:58:38.281288"], ["updated_at", "2020-01-30 15:58:38.281288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.282004"], ["updated_at", "2020-01-30 15:58:38.282004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.282526"], ["updated_at", "2020-01-30 15:58:38.282526"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.283031"], ["updated_at", "2020-01-30 15:58:38.283031"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.283565"], ["updated_at", "2020-01-30 15:58:38.283565"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.284679"], ["updated_at", "2020-01-30 15:58:38.284679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signed_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signed_result", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:58:38.314137"], ["updated_at", "2020-01-30 15:58:38.314137"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 15:58:38.315053"], ["updated_at", "2020-01-30 15:58:38.315053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 15:58:38.315664"], ["updated_at", "2020-01-30 15:58:38.315664"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.316190"], ["updated_at", "2020-01-30 15:58:38.316190"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 15:58:38.316811"], ["updated_at", "2020-01-30 15:58:38.316811"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.317529"], ["updated_at", "2020-01-30 15:58:38.317529"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.318057"], ["updated_at", "2020-01-30 15:58:38.318057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.318594"], ["updated_at", "2020-01-30 15:58:38.318594"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:58:38.319146"], ["updated_at", "2020-01-30 15:58:38.319146"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:58:38.319723"], ["updated_at", "2020-01-30 15:58:38.319723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 15:59:21.347164"], ["updated_at", "2020-01-30 15:59:21.347164"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 15:59:21.349609"], ["updated_at", "2020-01-30 15:59:21.349609"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 15:59:21.351214"], ["updated_at", "2020-01-30 15:59:21.351214"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:59:21.352185"], ["updated_at", "2020-01-30 15:59:21.352185"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 15:59:21.352789"], ["updated_at", "2020-01-30 15:59:21.352789"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 15:59:21.353904"], ["updated_at", "2020-01-30 15:59:21.353904"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 15:59:21.355208"], ["updated_at", "2020-01-30 15:59:21.355208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 15:59:21.355688"], ["updated_at", "2020-01-30 15:59:21.355688"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 15:59:21.356302"], ["updated_at", "2020-01-30 15:59:21.356302"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 15:59:21.356882"], ["updated_at", "2020-01-30 15:59:21.356882"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 15:59:21.357279"], ["updated_at", "2020-01-30 15:59:21.357279"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 15:59:21.358243"], ["updated_at", "2020-01-30 15:59:21.358243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:59:21.397305"], ["updated_at", "2020-01-30 15:59:21.397305"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.398690"], ["updated_at", "2020-01-30 15:59:21.398690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.400000"], ["updated_at", "2020-01-30 15:59:21.400000"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.400586"], ["updated_at", "2020-01-30 15:59:21.400586"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.402343"], ["updated_at", "2020-01-30 15:59:21.402343"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.402919"], ["updated_at", "2020-01-30 15:59:21.402919"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.403462"], ["updated_at", "2020-01-30 15:59:21.403462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:59:21.417162"], ["updated_at", "2020-01-30 15:59:21.417162"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 15:59:21.418010"], ["updated_at", "2020-01-30 15:59:21.418010"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 15:59:21.419253"], ["updated_at", "2020-01-30 15:59:21.419253"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.419801"], ["updated_at", "2020-01-30 15:59:21.419801"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 15:59:21.420427"], ["updated_at", "2020-01-30 15:59:21.420427"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.421155"], ["updated_at", "2020-01-30 15:59:21.421155"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.421709"], ["updated_at", "2020-01-30 15:59:21.421709"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.422243"], ["updated_at", "2020-01-30 15:59:21.422243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.422792"], ["updated_at", "2020-01-30 15:59:21.422792"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.423328"], ["updated_at", "2020-01-30 15:59:21.423328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signed_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signed_result", "approved"]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 15:59:21.436949"], ["updated_at", "2020-01-30 15:59:21.436949"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 15:59:21.437844"], ["updated_at", "2020-01-30 15:59:21.437844"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 15:59:21.438476"], ["updated_at", "2020-01-30 15:59:21.438476"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.439008"], ["updated_at", "2020-01-30 15:59:21.439008"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 15:59:21.439638"], ["updated_at", "2020-01-30 15:59:21.439638"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.440346"], ["updated_at", "2020-01-30 15:59:21.440346"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.440898"], ["updated_at", "2020-01-30 15:59:21.440898"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.441463"], ["updated_at", "2020-01-30 15:59:21.441463"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 15:59:21.442029"], ["updated_at", "2020-01-30 15:59:21.442029"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 15:59:21.442560"], ["updated_at", "2020-01-30 15:59:21.442560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signed_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signed_result", "rejected"]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 16:03:31.189855"], ["updated_at", "2020-01-30 16:03:31.189855"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 16:03:31.191629"], ["updated_at", "2020-01-30 16:03:31.191629"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 16:03:31.193027"], ["updated_at", "2020-01-30 16:03:31.193027"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:03:31.194010"], ["updated_at", "2020-01-30 16:03:31.194010"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 16:03:31.194595"], ["updated_at", "2020-01-30 16:03:31.194595"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 16:03:31.195397"], ["updated_at", "2020-01-30 16:03:31.195397"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 16:03:31.196351"], ["updated_at", "2020-01-30 16:03:31.196351"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 16:03:31.196742"], ["updated_at", "2020-01-30 16:03:31.196742"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:03:31.197281"], ["updated_at", "2020-01-30 16:03:31.197281"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 16:03:31.197836"], ["updated_at", "2020-01-30 16:03:31.197836"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 16:03:31.198223"], ["updated_at", "2020-01-30 16:03:31.198223"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 16:03:31.199127"], ["updated_at", "2020-01-30 16:03:31.199127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:03:31.236878"], ["updated_at", "2020-01-30 16:03:31.236878"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.238173"], ["updated_at", "2020-01-30 16:03:31.238173"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.239850"], ["updated_at", "2020-01-30 16:03:31.239850"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.240513"], ["updated_at", "2020-01-30 16:03:31.240513"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.242318"], ["updated_at", "2020-01-30 16:03:31.242318"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.242890"], ["updated_at", "2020-01-30 16:03:31.242890"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.243434"], ["updated_at", "2020-01-30 16:03:31.243434"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:03:31.258195"], ["updated_at", "2020-01-30 16:03:31.258195"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:03:31.259097"], ["updated_at", "2020-01-30 16:03:31.259097"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:03:31.260288"], ["updated_at", "2020-01-30 16:03:31.260288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.260834"], ["updated_at", "2020-01-30 16:03:31.260834"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:03:31.261456"], ["updated_at", "2020-01-30 16:03:31.261456"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.262171"], ["updated_at", "2020-01-30 16:03:31.262171"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.262700"], ["updated_at", "2020-01-30 16:03:31.262700"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.263222"], ["updated_at", "2020-01-30 16:03:31.263222"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.263792"], ["updated_at", "2020-01-30 16:03:31.263792"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.264333"], ["updated_at", "2020-01-30 16:03:31.264333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:03:31.286740"], ["updated_at", "2020-01-30 16:03:31.286740"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:03:31.291756"], ["updated_at", "2020-01-30 16:03:31.291756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:03:31.292595"], ["updated_at", "2020-01-30 16:03:31.292595"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:03:31.293172"], ["updated_at", "2020-01-30 16:03:31.293172"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.293687"], ["updated_at", "2020-01-30 16:03:31.293687"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:03:31.294310"], ["updated_at", "2020-01-30 16:03:31.294310"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.295014"], ["updated_at", "2020-01-30 16:03:31.295014"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.295541"], ["updated_at", "2020-01-30 16:03:31.295541"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.296047"], ["updated_at", "2020-01-30 16:03:31.296047"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:03:31.296577"], ["updated_at", "2020-01-30 16:03:31.296577"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:03:31.297093"], ["updated_at", "2020-01-30 16:03:31.297093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:03:31.299683"], ["updated_at", "2020-01-30 16:03:31.299683"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 16:04:16.411523"], ["updated_at", "2020-01-30 16:04:16.411523"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 16:04:16.412808"], ["updated_at", "2020-01-30 16:04:16.412808"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 16:04:16.413545"], ["updated_at", "2020-01-30 16:04:16.413545"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:04:16.414184"], ["updated_at", "2020-01-30 16:04:16.414184"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 16:04:16.414762"], ["updated_at", "2020-01-30 16:04:16.414762"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 16:04:16.415231"], ["updated_at", "2020-01-30 16:04:16.415231"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 16:04:16.415866"], ["updated_at", "2020-01-30 16:04:16.415866"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 16:04:16.416252"], ["updated_at", "2020-01-30 16:04:16.416252"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:04:16.416810"], ["updated_at", "2020-01-30 16:04:16.416810"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 16:04:16.417348"], ["updated_at", "2020-01-30 16:04:16.417348"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 16:04:16.417721"], ["updated_at", "2020-01-30 16:04:16.417721"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 16:04:16.418625"], ["updated_at", "2020-01-30 16:04:16.418625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:04:16.451891"], ["updated_at", "2020-01-30 16:04:16.451891"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.452676"], ["updated_at", "2020-01-30 16:04:16.452676"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.453354"], ["updated_at", "2020-01-30 16:04:16.453354"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.453874"], ["updated_at", "2020-01-30 16:04:16.453874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.454553"], ["updated_at", "2020-01-30 16:04:16.454553"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.455087"], ["updated_at", "2020-01-30 16:04:16.455087"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.455609"], ["updated_at", "2020-01-30 16:04:16.455609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:04:16.468496"], ["updated_at", "2020-01-30 16:04:16.468496"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:04:16.470232"], ["updated_at", "2020-01-30 16:04:16.470232"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:04:16.471071"], ["updated_at", "2020-01-30 16:04:16.471071"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.471653"], ["updated_at", "2020-01-30 16:04:16.471653"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:04:16.472285"], ["updated_at", "2020-01-30 16:04:16.472285"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.473021"], ["updated_at", "2020-01-30 16:04:16.473021"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.473558"], ["updated_at", "2020-01-30 16:04:16.473558"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.474106"], ["updated_at", "2020-01-30 16:04:16.474106"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.474655"], ["updated_at", "2020-01-30 16:04:16.474655"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.475188"], ["updated_at", "2020-01-30 16:04:16.475188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:04:16.483647"], ["updated_at", "2020-01-30 16:04:16.483647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:04:16.516049"], ["updated_at", "2020-01-30 16:04:16.516049"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:04:16.517148"], ["updated_at", "2020-01-30 16:04:16.517148"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:04:16.517916"], ["updated_at", "2020-01-30 16:04:16.517916"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.518562"], ["updated_at", "2020-01-30 16:04:16.518562"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:04:16.519389"], ["updated_at", "2020-01-30 16:04:16.519389"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.520248"], ["updated_at", "2020-01-30 16:04:16.520248"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.520850"], ["updated_at", "2020-01-30 16:04:16.520850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.521388"], ["updated_at", "2020-01-30 16:04:16.521388"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:04:16.521943"], ["updated_at", "2020-01-30 16:04:16.521943"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:04:16.522473"], ["updated_at", "2020-01-30 16:04:16.522473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:04:16.524996"], ["updated_at", "2020-01-30 16:04:16.524996"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 2]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 16:05:12.830336"], ["updated_at", "2020-01-30 16:05:12.830336"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 16:05:12.831593"], ["updated_at", "2020-01-30 16:05:12.831593"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 16:05:12.832305"], ["updated_at", "2020-01-30 16:05:12.832305"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:05:12.832917"], ["updated_at", "2020-01-30 16:05:12.832917"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 16:05:12.833462"], ["updated_at", "2020-01-30 16:05:12.833462"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 16:05:12.833916"], ["updated_at", "2020-01-30 16:05:12.833916"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 16:05:12.834534"], ["updated_at", "2020-01-30 16:05:12.834534"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 16:05:12.834911"], ["updated_at", "2020-01-30 16:05:12.834911"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:05:12.835524"], ["updated_at", "2020-01-30 16:05:12.835524"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 16:05:12.836076"], ["updated_at", "2020-01-30 16:05:12.836076"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 16:05:12.836468"], ["updated_at", "2020-01-30 16:05:12.836468"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 16:05:12.837362"], ["updated_at", "2020-01-30 16:05:12.837362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:05:12.872460"], ["updated_at", "2020-01-30 16:05:12.872460"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.873325"], ["updated_at", "2020-01-30 16:05:12.873325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.873991"], ["updated_at", "2020-01-30 16:05:12.873991"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.874513"], ["updated_at", "2020-01-30 16:05:12.874513"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.875212"], ["updated_at", "2020-01-30 16:05:12.875212"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.875748"], ["updated_at", "2020-01-30 16:05:12.875748"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.876282"], ["updated_at", "2020-01-30 16:05:12.876282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:05:12.890597"], ["updated_at", "2020-01-30 16:05:12.890597"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:05:12.891450"], ["updated_at", "2020-01-30 16:05:12.891450"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:05:12.892070"], ["updated_at", "2020-01-30 16:05:12.892070"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.892601"], ["updated_at", "2020-01-30 16:05:12.892601"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:05:12.893213"], ["updated_at", "2020-01-30 16:05:12.893213"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.893922"], ["updated_at", "2020-01-30 16:05:12.893922"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.894511"], ["updated_at", "2020-01-30 16:05:12.894511"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.895015"], ["updated_at", "2020-01-30 16:05:12.895015"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.895534"], ["updated_at", "2020-01-30 16:05:12.895534"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.896056"], ["updated_at", "2020-01-30 16:05:12.896056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:05:12.905710"], ["updated_at", "2020-01-30 16:05:12.905710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:05:12.918283"], ["updated_at", "2020-01-30 16:05:12.918283"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:05:12.919271"], ["updated_at", "2020-01-30 16:05:12.919271"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:05:12.919918"], ["updated_at", "2020-01-30 16:05:12.919918"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.920473"], ["updated_at", "2020-01-30 16:05:12.920473"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:05:12.921119"], ["updated_at", "2020-01-30 16:05:12.921119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.921842"], ["updated_at", "2020-01-30 16:05:12.921842"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.922392"], ["updated_at", "2020-01-30 16:05:12.922392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.922923"], ["updated_at", "2020-01-30 16:05:12.922923"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:05:12.923477"], ["updated_at", "2020-01-30 16:05:12.923477"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:05:12.924010"], ["updated_at", "2020-01-30 16:05:12.924010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_records" INNER JOIN "larvata_signing_stages" ON "larvata_signing_records"."larvata_signing_stage_id" = "larvata_signing_stages"."id" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_records"."signing_result" = ?[0m  [["larvata_signing_doc_id", 1], ["signing_result", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:05:12.926608"], ["updated_at", "2020-01-30 16:05:12.926608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 0]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-01-30 16:16:16.601766"], ["updated_at", "2020-01-30 16:16:16.601766"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-01-30 16:16:16.603515"], ["updated_at", "2020-01-30 16:16:16.603515"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-01-30 16:16:16.605078"], ["updated_at", "2020-01-30 16:16:16.605078"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:16:16.606187"], ["updated_at", "2020-01-30 16:16:16.606187"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-01-30 16:16:16.606751"], ["updated_at", "2020-01-30 16:16:16.606751"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-01-30 16:16:16.607651"], ["updated_at", "2020-01-30 16:16:16.607651"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-01-30 16:16:16.608680"], ["updated_at", "2020-01-30 16:16:16.608680"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-01-30 16:16:16.609080"], ["updated_at", "2020-01-30 16:16:16.609080"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-01-30 16:16:16.609608"], ["updated_at", "2020-01-30 16:16:16.609608"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-01-30 16:16:16.610150"], ["updated_at", "2020-01-30 16:16:16.610150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-01-30 16:16:16.610537"], ["updated_at", "2020-01-30 16:16:16.610537"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-01-30 16:16:16.611448"], ["updated_at", "2020-01-30 16:16:16.611448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-01-30001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:16:16.650274"], ["updated_at", "2020-01-30 16:16:16.650274"]]
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.651574"], ["updated_at", "2020-01-30 16:16:16.651574"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.655253"], ["updated_at", "2020-01-30 16:16:16.655253"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.655793"], ["updated_at", "2020-01-30 16:16:16.655793"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.657618"], ["updated_at", "2020-01-30 16:16:16.657618"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.658189"], ["updated_at", "2020-01-30 16:16:16.658189"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.658708"], ["updated_at", "2020-01-30 16:16:16.658708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:16:16.674870"], ["updated_at", "2020-01-30 16:16:16.674870"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:16:16.675730"], ["updated_at", "2020-01-30 16:16:16.675730"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:16:16.677449"], ["updated_at", "2020-01-30 16:16:16.677449"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.678009"], ["updated_at", "2020-01-30 16:16:16.678009"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:16:16.678650"], ["updated_at", "2020-01-30 16:16:16.678650"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.679380"], ["updated_at", "2020-01-30 16:16:16.679380"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.679909"], ["updated_at", "2020-01-30 16:16:16.679909"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.680438"], ["updated_at", "2020-01-30 16:16:16.680438"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.681015"], ["updated_at", "2020-01-30 16:16:16.681015"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.681633"], ["updated_at", "2020-01-30 16:16:16.681633"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:16:16.684205"], ["updated_at", "2020-01-30 16:16:16.684205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 2]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-01-30 00:00:00"], ["created_at", "2020-01-30 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-01-30001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-01-30 16:16:16.704219"], ["updated_at", "2020-01-30 16:16:16.704219"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-01-30 16:16:16.705230"], ["updated_at", "2020-01-30 16:16:16.705230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-01-30 16:16:16.705902"], ["updated_at", "2020-01-30 16:16:16.705902"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.706475"], ["updated_at", "2020-01-30 16:16:16.706475"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-01-30 16:16:16.707144"], ["updated_at", "2020-01-30 16:16:16.707144"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.707897"], ["updated_at", "2020-01-30 16:16:16.707897"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.708478"], ["updated_at", "2020-01-30 16:16:16.708478"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.709018"], ["updated_at", "2020-01-30 16:16:16.709018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-01-30 16:16:16.709629"], ["updated_at", "2020-01-30 16:16:16.709629"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-01-30 16:16:16.710237"], ["updated_at", "2020-01-30 16:16:16.710237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-01-30 16:16:16.711187"], ["updated_at", "2020-01-30 16:16:16.711187"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? AND "larvata_signing_stages"."state" = ?[0m  [["larvata_signing_doc_id", 1], ["state", 2]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 06:33:36.470481"], ["updated_at", "2020-02-05 06:33:36.470481"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 06:33:36.475358"], ["updated_at", "2020-02-05 06:33:36.475358"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 06:33:36.477473"], ["updated_at", "2020-02-05 06:33:36.477473"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 06:33:36.479241"], ["updated_at", "2020-02-05 06:33:36.479241"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 06:33:36.480022"], ["updated_at", "2020-02-05 06:33:36.480022"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 06:33:36.481160"], ["updated_at", "2020-02-05 06:33:36.481160"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 06:33:36.483264"], ["updated_at", "2020-02-05 06:33:36.483264"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 06:33:36.483703"], ["updated_at", "2020-02-05 06:33:36.483703"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 06:33:36.484573"], ["updated_at", "2020-02-05 06:33:36.484573"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 06:33:36.485508"], ["updated_at", "2020-02-05 06:33:36.485508"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 06:33:36.486092"], ["updated_at", "2020-02-05 06:33:36.486092"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 06:33:36.487926"], ["updated_at", "2020-02-05 06:33:36.487926"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.6ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 06:33:36.567563"], ["updated_at", "2020-02-05 06:33:36.567563"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.570512"], ["updated_at", "2020-02-05 06:33:36.570512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.572648"], ["updated_at", "2020-02-05 06:33:36.572648"]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.573445"], ["updated_at", "2020-02-05 06:33:36.573445"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.576123"], ["updated_at", "2020-02-05 06:33:36.576123"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.577056"], ["updated_at", "2020-02-05 06:33:36.577056"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.577762"], ["updated_at", "2020-02-05 06:33:36.577762"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 06:33:36.601856"], ["updated_at", "2020-02-05 06:33:36.601856"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 06:33:36.603337"], ["updated_at", "2020-02-05 06:33:36.603337"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 06:33:36.604973"], ["updated_at", "2020-02-05 06:33:36.604973"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.605949"], ["updated_at", "2020-02-05 06:33:36.605949"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 06:33:36.607141"], ["updated_at", "2020-02-05 06:33:36.607141"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.608528"], ["updated_at", "2020-02-05 06:33:36.608528"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.609504"], ["updated_at", "2020-02-05 06:33:36.609504"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.610422"], ["updated_at", "2020-02-05 06:33:36.610422"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.611796"], ["updated_at", "2020-02-05 06:33:36.611796"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.612975"], ["updated_at", "2020-02-05 06:33:36.612975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 06:33:36.616033"], ["updated_at", "2020-02-05 06:33:36.616033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 06:33:36.624681"], ["updated_at", "2020-02-05 06:33:36.624681"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 06:33:36.625821"], ["updated_at", "2020-02-05 06:33:36.625821"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 06:33:36.626692"], ["updated_at", "2020-02-05 06:33:36.626692"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.627413"], ["updated_at", "2020-02-05 06:33:36.627413"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 06:33:36.628597"], ["updated_at", "2020-02-05 06:33:36.628597"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.630754"], ["updated_at", "2020-02-05 06:33:36.630754"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.632488"], ["updated_at", "2020-02-05 06:33:36.632488"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.633367"], ["updated_at", "2020-02-05 06:33:36.633367"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 06:33:36.634542"], ["updated_at", "2020-02-05 06:33:36.634542"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 06:33:36.635341"], ["updated_at", "2020-02-05 06:33:36.635341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 06:33:36.637076"], ["updated_at", "2020-02-05 06:33:36.637076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:11:08.571728"], ["updated_at", "2020-02-05 07:11:08.571728"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:11:08.573231"], ["updated_at", "2020-02-05 07:11:08.573231"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:11:08.574484"], ["updated_at", "2020-02-05 07:11:08.574484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:11:08.575296"], ["updated_at", "2020-02-05 07:11:08.575296"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:11:08.575788"], ["updated_at", "2020-02-05 07:11:08.575788"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:11:08.576648"], ["updated_at", "2020-02-05 07:11:08.576648"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:11:08.577545"], ["updated_at", "2020-02-05 07:11:08.577545"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:11:08.577896"], ["updated_at", "2020-02-05 07:11:08.577896"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:11:08.578332"], ["updated_at", "2020-02-05 07:11:08.578332"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:11:08.578799"], ["updated_at", "2020-02-05 07:11:08.578799"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:11:08.579127"], ["updated_at", "2020-02-05 07:11:08.579127"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:11:08.579863"], ["updated_at", "2020-02-05 07:11:08.579863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:11:08.613681"], ["updated_at", "2020-02-05 07:11:08.613681"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.614774"], ["updated_at", "2020-02-05 07:11:08.614774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.615866"], ["updated_at", "2020-02-05 07:11:08.615866"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.616310"], ["updated_at", "2020-02-05 07:11:08.616310"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.618301"], ["updated_at", "2020-02-05 07:11:08.618301"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.619579"], ["updated_at", "2020-02-05 07:11:08.619579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.620634"], ["updated_at", "2020-02-05 07:11:08.620634"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:11:08.634300"], ["updated_at", "2020-02-05 07:11:08.634300"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:11:08.635083"], ["updated_at", "2020-02-05 07:11:08.635083"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:11:08.636069"], ["updated_at", "2020-02-05 07:11:08.636069"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.636806"], ["updated_at", "2020-02-05 07:11:08.636806"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:11:08.637358"], ["updated_at", "2020-02-05 07:11:08.637358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.637998"], ["updated_at", "2020-02-05 07:11:08.637998"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.638455"], ["updated_at", "2020-02-05 07:11:08.638455"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.638902"], ["updated_at", "2020-02-05 07:11:08.638902"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.639364"], ["updated_at", "2020-02-05 07:11:08.639364"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.639816"], ["updated_at", "2020-02-05 07:11:08.639816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:11:08.640617"], ["updated_at", "2020-02-05 07:11:08.640617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:11:08.645168"], ["updated_at", "2020-02-05 07:11:08.645168"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:11:08.646519"], ["updated_at", "2020-02-05 07:11:08.646519"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:11:08.647130"], ["updated_at", "2020-02-05 07:11:08.647130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.647643"], ["updated_at", "2020-02-05 07:11:08.647643"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:11:08.648195"], ["updated_at", "2020-02-05 07:11:08.648195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.649336"], ["updated_at", "2020-02-05 07:11:08.649336"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.649837"], ["updated_at", "2020-02-05 07:11:08.649837"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.650314"], ["updated_at", "2020-02-05 07:11:08.650314"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:11:08.650794"], ["updated_at", "2020-02-05 07:11:08.650794"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:11:08.651313"], ["updated_at", "2020-02-05 07:11:08.651313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:11:08.652133"], ["updated_at", "2020-02-05 07:11:08.652133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:14:15.630022"], ["updated_at", "2020-02-05 07:14:15.630022"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:14:15.631724"], ["updated_at", "2020-02-05 07:14:15.631724"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:14:15.633160"], ["updated_at", "2020-02-05 07:14:15.633160"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:14:15.634144"], ["updated_at", "2020-02-05 07:14:15.634144"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:14:15.634725"], ["updated_at", "2020-02-05 07:14:15.634725"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:14:15.635497"], ["updated_at", "2020-02-05 07:14:15.635497"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:14:15.637197"], ["updated_at", "2020-02-05 07:14:15.637197"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:14:15.637624"], ["updated_at", "2020-02-05 07:14:15.637624"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:14:15.638176"], ["updated_at", "2020-02-05 07:14:15.638176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:14:15.639008"], ["updated_at", "2020-02-05 07:14:15.639008"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:14:15.639399"], ["updated_at", "2020-02-05 07:14:15.639399"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:14:15.640344"], ["updated_at", "2020-02-05 07:14:15.640344"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:14:15.681633"], ["updated_at", "2020-02-05 07:14:15.681633"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.682986"], ["updated_at", "2020-02-05 07:14:15.682986"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.684207"], ["updated_at", "2020-02-05 07:14:15.684207"]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.684769"], ["updated_at", "2020-02-05 07:14:15.684769"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.688472"], ["updated_at", "2020-02-05 07:14:15.688472"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.689208"], ["updated_at", "2020-02-05 07:14:15.689208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.689794"], ["updated_at", "2020-02-05 07:14:15.689794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:14:15.704117"], ["updated_at", "2020-02-05 07:14:15.704117"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:14:15.705007"], ["updated_at", "2020-02-05 07:14:15.705007"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:14:15.706069"], ["updated_at", "2020-02-05 07:14:15.706069"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.706592"], ["updated_at", "2020-02-05 07:14:15.706592"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:14:15.707229"], ["updated_at", "2020-02-05 07:14:15.707229"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.707945"], ["updated_at", "2020-02-05 07:14:15.707945"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.708480"], ["updated_at", "2020-02-05 07:14:15.708480"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.709003"], ["updated_at", "2020-02-05 07:14:15.709003"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.709539"], ["updated_at", "2020-02-05 07:14:15.709539"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.710065"], ["updated_at", "2020-02-05 07:14:15.710065"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:14:15.711004"], ["updated_at", "2020-02-05 07:14:15.711004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:14:15.717010"], ["updated_at", "2020-02-05 07:14:15.717010"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:14:15.717874"], ["updated_at", "2020-02-05 07:14:15.717874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:14:15.718497"], ["updated_at", "2020-02-05 07:14:15.718497"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.719020"], ["updated_at", "2020-02-05 07:14:15.719020"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:14:15.719662"], ["updated_at", "2020-02-05 07:14:15.719662"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.720392"], ["updated_at", "2020-02-05 07:14:15.720392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.720937"], ["updated_at", "2020-02-05 07:14:15.720937"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.721472"], ["updated_at", "2020-02-05 07:14:15.721472"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:14:15.722026"], ["updated_at", "2020-02-05 07:14:15.722026"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:14:15.722586"], ["updated_at", "2020-02-05 07:14:15.722586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:14:15.723478"], ["updated_at", "2020-02-05 07:14:15.723478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:15:22.015132"], ["updated_at", "2020-02-05 07:15:22.015132"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:15:22.017695"], ["updated_at", "2020-02-05 07:15:22.017695"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:15:22.019270"], ["updated_at", "2020-02-05 07:15:22.019270"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:15:22.020382"], ["updated_at", "2020-02-05 07:15:22.020382"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:15:22.020977"], ["updated_at", "2020-02-05 07:15:22.020977"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:15:22.021813"], ["updated_at", "2020-02-05 07:15:22.021813"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:15:22.022755"], ["updated_at", "2020-02-05 07:15:22.022755"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:15:22.023149"], ["updated_at", "2020-02-05 07:15:22.023149"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:15:22.023686"], ["updated_at", "2020-02-05 07:15:22.023686"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:15:22.024238"], ["updated_at", "2020-02-05 07:15:22.024238"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:15:22.024617"], ["updated_at", "2020-02-05 07:15:22.024617"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:15:22.025567"], ["updated_at", "2020-02-05 07:15:22.025567"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:15:22.070249"], ["updated_at", "2020-02-05 07:15:22.070249"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.072057"], ["updated_at", "2020-02-05 07:15:22.072057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.073335"], ["updated_at", "2020-02-05 07:15:22.073335"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.074448"], ["updated_at", "2020-02-05 07:15:22.074448"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.076079"], ["updated_at", "2020-02-05 07:15:22.076079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.077195"], ["updated_at", "2020-02-05 07:15:22.077195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.077769"], ["updated_at", "2020-02-05 07:15:22.077769"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:15:22.093019"], ["updated_at", "2020-02-05 07:15:22.093019"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:15:22.093875"], ["updated_at", "2020-02-05 07:15:22.093875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:15:22.094907"], ["updated_at", "2020-02-05 07:15:22.094907"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.095437"], ["updated_at", "2020-02-05 07:15:22.095437"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:15:22.096053"], ["updated_at", "2020-02-05 07:15:22.096053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.096776"], ["updated_at", "2020-02-05 07:15:22.096776"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.097339"], ["updated_at", "2020-02-05 07:15:22.097339"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.097868"], ["updated_at", "2020-02-05 07:15:22.097868"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.098427"], ["updated_at", "2020-02-05 07:15:22.098427"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.098982"], ["updated_at", "2020-02-05 07:15:22.098982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:15:22.099975"], ["updated_at", "2020-02-05 07:15:22.099975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:15:22.105855"], ["updated_at", "2020-02-05 07:15:22.105855"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:15:22.106763"], ["updated_at", "2020-02-05 07:15:22.106763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:15:22.107373"], ["updated_at", "2020-02-05 07:15:22.107373"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.107894"], ["updated_at", "2020-02-05 07:15:22.107894"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:15:22.108518"], ["updated_at", "2020-02-05 07:15:22.108518"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.109221"], ["updated_at", "2020-02-05 07:15:22.109221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.109740"], ["updated_at", "2020-02-05 07:15:22.109740"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.110268"], ["updated_at", "2020-02-05 07:15:22.110268"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:15:22.110807"], ["updated_at", "2020-02-05 07:15:22.110807"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:15:22.111352"], ["updated_at", "2020-02-05 07:15:22.111352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:15:22.112944"], ["updated_at", "2020-02-05 07:15:22.112944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:16:29.125266"], ["updated_at", "2020-02-05 07:16:29.125266"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:16:29.127080"], ["updated_at", "2020-02-05 07:16:29.127080"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:16:29.128700"], ["updated_at", "2020-02-05 07:16:29.128700"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:16:29.129767"], ["updated_at", "2020-02-05 07:16:29.129767"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:16:29.130335"], ["updated_at", "2020-02-05 07:16:29.130335"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:16:29.131326"], ["updated_at", "2020-02-05 07:16:29.131326"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:16:29.132790"], ["updated_at", "2020-02-05 07:16:29.132790"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:16:29.133286"], ["updated_at", "2020-02-05 07:16:29.133286"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:16:29.133877"], ["updated_at", "2020-02-05 07:16:29.133877"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:16:29.134437"], ["updated_at", "2020-02-05 07:16:29.134437"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:16:29.134818"], ["updated_at", "2020-02-05 07:16:29.134818"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:16:29.135783"], ["updated_at", "2020-02-05 07:16:29.135783"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:16:29.175723"], ["updated_at", "2020-02-05 07:16:29.175723"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.177035"], ["updated_at", "2020-02-05 07:16:29.177035"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.178787"], ["updated_at", "2020-02-05 07:16:29.178787"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.179506"], ["updated_at", "2020-02-05 07:16:29.179506"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.181686"], ["updated_at", "2020-02-05 07:16:29.181686"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.182889"], ["updated_at", "2020-02-05 07:16:29.182889"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.183473"], ["updated_at", "2020-02-05 07:16:29.183473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:16:29.198134"], ["updated_at", "2020-02-05 07:16:29.198134"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:16:29.199051"], ["updated_at", "2020-02-05 07:16:29.199051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:16:29.200238"], ["updated_at", "2020-02-05 07:16:29.200238"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.200787"], ["updated_at", "2020-02-05 07:16:29.200787"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:16:29.201424"], ["updated_at", "2020-02-05 07:16:29.201424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.202187"], ["updated_at", "2020-02-05 07:16:29.202187"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.202735"], ["updated_at", "2020-02-05 07:16:29.202735"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.203244"], ["updated_at", "2020-02-05 07:16:29.203244"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.203784"], ["updated_at", "2020-02-05 07:16:29.203784"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.204315"], ["updated_at", "2020-02-05 07:16:29.204315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:16:29.205313"], ["updated_at", "2020-02-05 07:16:29.205313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:16:29.208475' and '2020-02-05 07:16:29.208484' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:16:29.214193"], ["updated_at", "2020-02-05 07:16:29.214193"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:16:29.215150"], ["updated_at", "2020-02-05 07:16:29.215150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:16:29.215855"], ["updated_at", "2020-02-05 07:16:29.215855"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.216474"], ["updated_at", "2020-02-05 07:16:29.216474"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:16:29.217336"], ["updated_at", "2020-02-05 07:16:29.217336"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.218321"], ["updated_at", "2020-02-05 07:16:29.218321"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.218900"], ["updated_at", "2020-02-05 07:16:29.218900"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.219439"], ["updated_at", "2020-02-05 07:16:29.219439"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:16:29.220152"], ["updated_at", "2020-02-05 07:16:29.220152"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:16:29.220728"], ["updated_at", "2020-02-05 07:16:29.220728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:16:29.221721"], ["updated_at", "2020-02-05 07:16:29.221721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:16:29.222835' and '2020-02-05 07:16:29.222843' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:17:53.443785"], ["updated_at", "2020-02-05 07:17:53.443785"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:17:53.445447"], ["updated_at", "2020-02-05 07:17:53.445447"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:17:53.446875"], ["updated_at", "2020-02-05 07:17:53.446875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:17:53.447735"], ["updated_at", "2020-02-05 07:17:53.447735"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:17:53.448284"], ["updated_at", "2020-02-05 07:17:53.448284"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:17:53.449044"], ["updated_at", "2020-02-05 07:17:53.449044"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:17:53.450134"], ["updated_at", "2020-02-05 07:17:53.450134"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:17:53.450612"], ["updated_at", "2020-02-05 07:17:53.450612"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:17:53.451137"], ["updated_at", "2020-02-05 07:17:53.451137"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:17:53.451670"], ["updated_at", "2020-02-05 07:17:53.451670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:17:53.452032"], ["updated_at", "2020-02-05 07:17:53.452032"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:17:53.452917"], ["updated_at", "2020-02-05 07:17:53.452917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:17:53.489425"], ["updated_at", "2020-02-05 07:17:53.489425"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.490648"], ["updated_at", "2020-02-05 07:17:53.490648"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.491944"], ["updated_at", "2020-02-05 07:17:53.491944"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.492473"], ["updated_at", "2020-02-05 07:17:53.492473"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.494065"], ["updated_at", "2020-02-05 07:17:53.494065"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.494639"], ["updated_at", "2020-02-05 07:17:53.494639"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.495245"], ["updated_at", "2020-02-05 07:17:53.495245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:17:53.508885"], ["updated_at", "2020-02-05 07:17:53.508885"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:17:53.509794"], ["updated_at", "2020-02-05 07:17:53.509794"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:17:53.510808"], ["updated_at", "2020-02-05 07:17:53.510808"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.511341"], ["updated_at", "2020-02-05 07:17:53.511341"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:17:53.511957"], ["updated_at", "2020-02-05 07:17:53.511957"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.512681"], ["updated_at", "2020-02-05 07:17:53.512681"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.513227"], ["updated_at", "2020-02-05 07:17:53.513227"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.513757"], ["updated_at", "2020-02-05 07:17:53.513757"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:17:53.514312"], ["updated_at", "2020-02-05 07:17:53.514312"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:17:53.514866"], ["updated_at", "2020-02-05 07:17:53.514866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:17:53.515838"], ["updated_at", "2020-02-05 07:17:53.515838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.6ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_stages"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_stages"."state" FROM "larvata_signing_stages"[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:18:43.414620' and '2020-02-05 07:18:43.414637' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:18:43.423730"], ["updated_at", "2020-02-05 07:18:43.423730"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:18:43.424831"], ["updated_at", "2020-02-05 07:18:43.424831"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:18:43.425454"], ["updated_at", "2020-02-05 07:18:43.425454"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:18:43.425987"], ["updated_at", "2020-02-05 07:18:43.425987"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:18:43.426719"], ["updated_at", "2020-02-05 07:18:43.426719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:18:43.427564"], ["updated_at", "2020-02-05 07:18:43.427564"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:18:43.428218"], ["updated_at", "2020-02-05 07:18:43.428218"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:18:43.428774"], ["updated_at", "2020-02-05 07:18:43.428774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:18:43.429345"], ["updated_at", "2020-02-05 07:18:43.429345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:18:43.429892"], ["updated_at", "2020-02-05 07:18:43.429892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:18:43.430899"], ["updated_at", "2020-02-05 07:18:43.430899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:18:44.506564' and '2020-02-05 07:18:44.506574' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:24:14.231203"], ["updated_at", "2020-02-05 07:24:14.231203"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:24:14.233061"], ["updated_at", "2020-02-05 07:24:14.233061"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:24:14.235153"], ["updated_at", "2020-02-05 07:24:14.235153"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:24:14.236184"], ["updated_at", "2020-02-05 07:24:14.236184"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:24:14.236763"], ["updated_at", "2020-02-05 07:24:14.236763"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:24:14.237733"], ["updated_at", "2020-02-05 07:24:14.237733"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:24:14.238868"], ["updated_at", "2020-02-05 07:24:14.238868"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:24:14.239359"], ["updated_at", "2020-02-05 07:24:14.239359"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:24:14.239934"], ["updated_at", "2020-02-05 07:24:14.239934"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:24:14.240545"], ["updated_at", "2020-02-05 07:24:14.240545"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:24:14.240972"], ["updated_at", "2020-02-05 07:24:14.240972"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:24:14.241960"], ["updated_at", "2020-02-05 07:24:14.241960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.7ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:24:14.287021"], ["updated_at", "2020-02-05 07:24:14.287021"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.288292"], ["updated_at", "2020-02-05 07:24:14.288292"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.289591"], ["updated_at", "2020-02-05 07:24:14.289591"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.290142"], ["updated_at", "2020-02-05 07:24:14.290142"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.291922"], ["updated_at", "2020-02-05 07:24:14.291922"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.292503"], ["updated_at", "2020-02-05 07:24:14.292503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.293056"], ["updated_at", "2020-02-05 07:24:14.293056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:24:14.307123"], ["updated_at", "2020-02-05 07:24:14.307123"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:24:14.308021"], ["updated_at", "2020-02-05 07:24:14.308021"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:24:14.309089"], ["updated_at", "2020-02-05 07:24:14.309089"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.309629"], ["updated_at", "2020-02-05 07:24:14.309629"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:24:14.310288"], ["updated_at", "2020-02-05 07:24:14.310288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.311066"], ["updated_at", "2020-02-05 07:24:14.311066"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.311606"], ["updated_at", "2020-02-05 07:24:14.311606"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.312141"], ["updated_at", "2020-02-05 07:24:14.312141"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.312695"], ["updated_at", "2020-02-05 07:24:14.312695"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.313233"], ["updated_at", "2020-02-05 07:24:14.313233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:24:14.314195"], ["updated_at", "2020-02-05 07:24:14.314195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:24:14.317166' and '2020-02-05 07:24:14.317174' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:24:14.323110"], ["updated_at", "2020-02-05 07:24:14.323110"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:24:14.324538"], ["updated_at", "2020-02-05 07:24:14.324538"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:24:14.325172"], ["updated_at", "2020-02-05 07:24:14.325172"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.325708"], ["updated_at", "2020-02-05 07:24:14.325708"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:24:14.326347"], ["updated_at", "2020-02-05 07:24:14.326347"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.327100"], ["updated_at", "2020-02-05 07:24:14.327100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.327661"], ["updated_at", "2020-02-05 07:24:14.327661"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.328290"], ["updated_at", "2020-02-05 07:24:14.328290"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:24:14.328874"], ["updated_at", "2020-02-05 07:24:14.328874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:24:14.329417"], ["updated_at", "2020-02-05 07:24:14.329417"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:24:14.330389"], ["updated_at", "2020-02-05 07:24:14.330389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:24:14.331511' and '2020-02-05 07:24:14.331517' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:25:53.511523"], ["updated_at", "2020-02-05 07:25:53.511523"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:25:53.513197"], ["updated_at", "2020-02-05 07:25:53.513197"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:25:53.514234"], ["updated_at", "2020-02-05 07:25:53.514234"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:25:53.515157"], ["updated_at", "2020-02-05 07:25:53.515157"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:25:53.515624"], ["updated_at", "2020-02-05 07:25:53.515624"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:25:53.516246"], ["updated_at", "2020-02-05 07:25:53.516246"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:25:53.517217"], ["updated_at", "2020-02-05 07:25:53.517217"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:25:53.517537"], ["updated_at", "2020-02-05 07:25:53.517537"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:25:53.518034"], ["updated_at", "2020-02-05 07:25:53.518034"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:25:53.518779"], ["updated_at", "2020-02-05 07:25:53.518779"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:25:53.519282"], ["updated_at", "2020-02-05 07:25:53.519282"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:25:53.520619"], ["updated_at", "2020-02-05 07:25:53.520619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:25:53.557135"], ["updated_at", "2020-02-05 07:25:53.557135"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.558354"], ["updated_at", "2020-02-05 07:25:53.558354"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.559260"], ["updated_at", "2020-02-05 07:25:53.559260"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.559745"], ["updated_at", "2020-02-05 07:25:53.559745"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.560992"], ["updated_at", "2020-02-05 07:25:53.560992"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.561516"], ["updated_at", "2020-02-05 07:25:53.561516"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.562194"], ["updated_at", "2020-02-05 07:25:53.562194"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:25:53.576403"], ["updated_at", "2020-02-05 07:25:53.576403"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:25:53.577283"], ["updated_at", "2020-02-05 07:25:53.577283"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:25:53.578118"], ["updated_at", "2020-02-05 07:25:53.578118"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.578569"], ["updated_at", "2020-02-05 07:25:53.578569"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:25:53.579287"], ["updated_at", "2020-02-05 07:25:53.579287"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.579905"], ["updated_at", "2020-02-05 07:25:53.579905"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.580358"], ["updated_at", "2020-02-05 07:25:53.580358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.580834"], ["updated_at", "2020-02-05 07:25:53.580834"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.581291"], ["updated_at", "2020-02-05 07:25:53.581291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.581771"], ["updated_at", "2020-02-05 07:25:53.581771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:25:53.582646"], ["updated_at", "2020-02-05 07:25:53.582646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:25:53.584905' and '2020-02-05 07:25:53.584911' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:25:53.605435"], ["updated_at", "2020-02-05 07:25:53.605435"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:25:53.606427"], ["updated_at", "2020-02-05 07:25:53.606427"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:25:53.606938"], ["updated_at", "2020-02-05 07:25:53.606938"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.607386"], ["updated_at", "2020-02-05 07:25:53.607386"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:25:53.608040"], ["updated_at", "2020-02-05 07:25:53.608040"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.608667"], ["updated_at", "2020-02-05 07:25:53.608667"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.609188"], ["updated_at", "2020-02-05 07:25:53.609188"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.609803"], ["updated_at", "2020-02-05 07:25:53.609803"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:25:53.610654"], ["updated_at", "2020-02-05 07:25:53.610654"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:25:53.611146"], ["updated_at", "2020-02-05 07:25:53.611146"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:25:53.612393"], ["updated_at", "2020-02-05 07:25:53.612393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:25:53.613905' and '2020-02-05 07:25:53.613911' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:27:03.414581"], ["updated_at", "2020-02-05 07:27:03.414581"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:27:03.416480"], ["updated_at", "2020-02-05 07:27:03.416480"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:27:03.418380"], ["updated_at", "2020-02-05 07:27:03.418380"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:27:03.419420"], ["updated_at", "2020-02-05 07:27:03.419420"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:27:03.419996"], ["updated_at", "2020-02-05 07:27:03.419996"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:27:03.420773"], ["updated_at", "2020-02-05 07:27:03.420773"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:27:03.421754"], ["updated_at", "2020-02-05 07:27:03.421754"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:27:03.422143"], ["updated_at", "2020-02-05 07:27:03.422143"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:27:03.422673"], ["updated_at", "2020-02-05 07:27:03.422673"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:27:03.423215"], ["updated_at", "2020-02-05 07:27:03.423215"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:27:03.423754"], ["updated_at", "2020-02-05 07:27:03.423754"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:27:03.424720"], ["updated_at", "2020-02-05 07:27:03.424720"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:03.471269"], ["updated_at", "2020-02-05 07:27:03.471269"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.472509"], ["updated_at", "2020-02-05 07:27:03.472509"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.473923"], ["updated_at", "2020-02-05 07:27:03.473923"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.474588"], ["updated_at", "2020-02-05 07:27:03.474588"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.476358"], ["updated_at", "2020-02-05 07:27:03.476358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.476951"], ["updated_at", "2020-02-05 07:27:03.476951"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.477512"], ["updated_at", "2020-02-05 07:27:03.477512"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:03.492696"], ["updated_at", "2020-02-05 07:27:03.492696"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:27:03.493641"], ["updated_at", "2020-02-05 07:27:03.493641"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:27:03.494973"], ["updated_at", "2020-02-05 07:27:03.494973"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.495616"], ["updated_at", "2020-02-05 07:27:03.495616"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:27:03.496405"], ["updated_at", "2020-02-05 07:27:03.496405"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.497387"], ["updated_at", "2020-02-05 07:27:03.497387"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.498051"], ["updated_at", "2020-02-05 07:27:03.498051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.498727"], ["updated_at", "2020-02-05 07:27:03.498727"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.499320"], ["updated_at", "2020-02-05 07:27:03.499320"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.499894"], ["updated_at", "2020-02-05 07:27:03.499894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:27:03.501146"], ["updated_at", "2020-02-05 07:27:03.501146"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:27:03.504659' and '2020-02-05 07:27:03.504671' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:03.522966"], ["updated_at", "2020-02-05 07:27:03.522966"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:27:03.523873"], ["updated_at", "2020-02-05 07:27:03.523873"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:27:03.524527"], ["updated_at", "2020-02-05 07:27:03.524527"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.525093"], ["updated_at", "2020-02-05 07:27:03.525093"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:27:03.525756"], ["updated_at", "2020-02-05 07:27:03.525756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.526530"], ["updated_at", "2020-02-05 07:27:03.526530"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.527107"], ["updated_at", "2020-02-05 07:27:03.527107"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.527674"], ["updated_at", "2020-02-05 07:27:03.527674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:03.528273"], ["updated_at", "2020-02-05 07:27:03.528273"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:03.528846"], ["updated_at", "2020-02-05 07:27:03.528846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:27:03.529794"], ["updated_at", "2020-02-05 07:27:03.529794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:27:03.530874' and '2020-02-05 07:27:03.530890' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:27:49.126556"], ["updated_at", "2020-02-05 07:27:49.126556"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:27:49.128247"], ["updated_at", "2020-02-05 07:27:49.128247"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:27:49.129521"], ["updated_at", "2020-02-05 07:27:49.129521"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:27:49.130683"], ["updated_at", "2020-02-05 07:27:49.130683"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:27:49.131387"], ["updated_at", "2020-02-05 07:27:49.131387"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:27:49.132157"], ["updated_at", "2020-02-05 07:27:49.132157"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:27:49.133242"], ["updated_at", "2020-02-05 07:27:49.133242"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:27:49.133723"], ["updated_at", "2020-02-05 07:27:49.133723"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:27:49.134379"], ["updated_at", "2020-02-05 07:27:49.134379"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:27:49.135051"], ["updated_at", "2020-02-05 07:27:49.135051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:27:49.135538"], ["updated_at", "2020-02-05 07:27:49.135538"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:27:49.136656"], ["updated_at", "2020-02-05 07:27:49.136656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:49.183460"], ["updated_at", "2020-02-05 07:27:49.183460"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.185013"], ["updated_at", "2020-02-05 07:27:49.185013"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.186339"], ["updated_at", "2020-02-05 07:27:49.186339"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.187015"], ["updated_at", "2020-02-05 07:27:49.187015"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.188778"], ["updated_at", "2020-02-05 07:27:49.188778"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.189480"], ["updated_at", "2020-02-05 07:27:49.189480"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.190165"], ["updated_at", "2020-02-05 07:27:49.190165"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:49.207175"], ["updated_at", "2020-02-05 07:27:49.207175"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:27:49.208224"], ["updated_at", "2020-02-05 07:27:49.208224"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:27:49.209538"], ["updated_at", "2020-02-05 07:27:49.209538"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.210202"], ["updated_at", "2020-02-05 07:27:49.210202"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:27:49.211001"], ["updated_at", "2020-02-05 07:27:49.211001"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.211929"], ["updated_at", "2020-02-05 07:27:49.211929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.212606"], ["updated_at", "2020-02-05 07:27:49.212606"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.213269"], ["updated_at", "2020-02-05 07:27:49.213269"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.213945"], ["updated_at", "2020-02-05 07:27:49.213945"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.214636"], ["updated_at", "2020-02-05 07:27:49.214636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:27:49.215912"], ["updated_at", "2020-02-05 07:27:49.215912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:27:49.219253' and '2020-02-05 07:27:49.219263' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:27:49.238336"], ["updated_at", "2020-02-05 07:27:49.238336"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:27:49.239422"], ["updated_at", "2020-02-05 07:27:49.239422"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:27:49.240186"], ["updated_at", "2020-02-05 07:27:49.240186"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.240886"], ["updated_at", "2020-02-05 07:27:49.240886"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:27:49.241717"], ["updated_at", "2020-02-05 07:27:49.241717"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.242854"], ["updated_at", "2020-02-05 07:27:49.242854"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.243731"], ["updated_at", "2020-02-05 07:27:49.243731"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.244520"], ["updated_at", "2020-02-05 07:27:49.244520"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:27:49.245255"], ["updated_at", "2020-02-05 07:27:49.245255"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:27:49.245983"], ["updated_at", "2020-02-05 07:27:49.245983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:27:49.247238"], ["updated_at", "2020-02-05 07:27:49.247238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:27:49.248785' and '2020-02-05 07:27:49.248795' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:28:04.820014"], ["updated_at", "2020-02-05 07:28:04.820014"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:28:04.821726"], ["updated_at", "2020-02-05 07:28:04.821726"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:28:04.823054"], ["updated_at", "2020-02-05 07:28:04.823054"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:28:04.824007"], ["updated_at", "2020-02-05 07:28:04.824007"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:28:04.824553"], ["updated_at", "2020-02-05 07:28:04.824553"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:28:04.825316"], ["updated_at", "2020-02-05 07:28:04.825316"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:28:04.826249"], ["updated_at", "2020-02-05 07:28:04.826249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:28:04.826632"], ["updated_at", "2020-02-05 07:28:04.826632"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:28:04.827170"], ["updated_at", "2020-02-05 07:28:04.827170"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:28:04.827723"], ["updated_at", "2020-02-05 07:28:04.827723"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:28:04.828101"], ["updated_at", "2020-02-05 07:28:04.828101"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:28:04.828981"], ["updated_at", "2020-02-05 07:28:04.828981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:28:04.868780"], ["updated_at", "2020-02-05 07:28:04.868780"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.869965"], ["updated_at", "2020-02-05 07:28:04.869965"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.871141"], ["updated_at", "2020-02-05 07:28:04.871141"]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.871643"], ["updated_at", "2020-02-05 07:28:04.871643"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.874695"], ["updated_at", "2020-02-05 07:28:04.874695"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.875257"], ["updated_at", "2020-02-05 07:28:04.875257"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.875717"], ["updated_at", "2020-02-05 07:28:04.875717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:28:04.888716"], ["updated_at", "2020-02-05 07:28:04.888716"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:28:04.889512"], ["updated_at", "2020-02-05 07:28:04.889512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:28:04.890445"], ["updated_at", "2020-02-05 07:28:04.890445"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.890974"], ["updated_at", "2020-02-05 07:28:04.890974"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:28:04.891589"], ["updated_at", "2020-02-05 07:28:04.891589"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.892365"], ["updated_at", "2020-02-05 07:28:04.892365"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.892903"], ["updated_at", "2020-02-05 07:28:04.892903"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.893439"], ["updated_at", "2020-02-05 07:28:04.893439"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.893975"], ["updated_at", "2020-02-05 07:28:04.893975"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.894502"], ["updated_at", "2020-02-05 07:28:04.894502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:28:04.895444"], ["updated_at", "2020-02-05 07:28:04.895444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:28:04.898059' and '2020-02-05 07:28:04.898067' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:28:04.915683"], ["updated_at", "2020-02-05 07:28:04.915683"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:28:04.916873"], ["updated_at", "2020-02-05 07:28:04.916873"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:28:04.917855"], ["updated_at", "2020-02-05 07:28:04.917855"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.918531"], ["updated_at", "2020-02-05 07:28:04.918531"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:28:04.919235"], ["updated_at", "2020-02-05 07:28:04.919235"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.920057"], ["updated_at", "2020-02-05 07:28:04.920057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.920612"], ["updated_at", "2020-02-05 07:28:04.920612"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.921182"], ["updated_at", "2020-02-05 07:28:04.921182"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:04.921761"], ["updated_at", "2020-02-05 07:28:04.921761"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:28:04.922330"], ["updated_at", "2020-02-05 07:28:04.922330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:28:04.923267"], ["updated_at", "2020-02-05 07:28:04.923267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:28:04.924363' and '2020-02-05 07:28:04.924369' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:28:27.440146"], ["updated_at", "2020-02-05 07:28:27.440146"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:28:27.441854"], ["updated_at", "2020-02-05 07:28:27.441854"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:28:27.443467"], ["updated_at", "2020-02-05 07:28:27.443467"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:28:27.444468"], ["updated_at", "2020-02-05 07:28:27.444468"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:28:27.445038"], ["updated_at", "2020-02-05 07:28:27.445038"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:28:27.445874"], ["updated_at", "2020-02-05 07:28:27.445874"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:28:27.446821"], ["updated_at", "2020-02-05 07:28:27.446821"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:28:27.447236"], ["updated_at", "2020-02-05 07:28:27.447236"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:28:27.447793"], ["updated_at", "2020-02-05 07:28:27.447793"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:28:27.448355"], ["updated_at", "2020-02-05 07:28:27.448355"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:28:27.448741"], ["updated_at", "2020-02-05 07:28:27.448741"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:28:27.449686"], ["updated_at", "2020-02-05 07:28:27.449686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:28:27.487449"], ["updated_at", "2020-02-05 07:28:27.487449"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.488907"], ["updated_at", "2020-02-05 07:28:27.488907"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.490328"], ["updated_at", "2020-02-05 07:28:27.490328"]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.490871"], ["updated_at", "2020-02-05 07:28:27.490871"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.493256"], ["updated_at", "2020-02-05 07:28:27.493256"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.494560"], ["updated_at", "2020-02-05 07:28:27.494560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.495121"], ["updated_at", "2020-02-05 07:28:27.495121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:28:27.508899"], ["updated_at", "2020-02-05 07:28:27.508899"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:28:27.509899"], ["updated_at", "2020-02-05 07:28:27.509899"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:28:27.511049"], ["updated_at", "2020-02-05 07:28:27.511049"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.511613"], ["updated_at", "2020-02-05 07:28:27.511613"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:28:27.512253"], ["updated_at", "2020-02-05 07:28:27.512253"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.512971"], ["updated_at", "2020-02-05 07:28:27.512971"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.513533"], ["updated_at", "2020-02-05 07:28:27.513533"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.514060"], ["updated_at", "2020-02-05 07:28:27.514060"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:28:27.514628"], ["updated_at", "2020-02-05 07:28:27.514628"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:28:27.515169"], ["updated_at", "2020-02-05 07:28:27.515169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:28:27.516166"], ["updated_at", "2020-02-05 07:28:27.516166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:28:27.519092' and '2020-02-05 07:28:27.519101' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:29:27.950656"], ["updated_at", "2020-02-05 07:29:27.950656"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:29:27.952167"], ["updated_at", "2020-02-05 07:29:27.952167"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:29:27.952856"], ["updated_at", "2020-02-05 07:29:27.952856"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:27.953537"], ["updated_at", "2020-02-05 07:29:27.953537"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:29:27.954353"], ["updated_at", "2020-02-05 07:29:27.954353"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:27.955170"], ["updated_at", "2020-02-05 07:29:27.955170"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:27.956118"], ["updated_at", "2020-02-05 07:29:27.956118"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:27.956664"], ["updated_at", "2020-02-05 07:29:27.956664"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:27.957249"], ["updated_at", "2020-02-05 07:29:27.957249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:29:27.957745"], ["updated_at", "2020-02-05 07:29:27.957745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:29:27.958634"], ["updated_at", "2020-02-05 07:29:27.958634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:29:27.959714' and '2020-02-05 07:29:27.959719' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:29:52.701007"], ["updated_at", "2020-02-05 07:29:52.701007"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:29:52.702766"], ["updated_at", "2020-02-05 07:29:52.702766"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:29:52.704048"], ["updated_at", "2020-02-05 07:29:52.704048"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:29:52.705065"], ["updated_at", "2020-02-05 07:29:52.705065"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:29:52.705630"], ["updated_at", "2020-02-05 07:29:52.705630"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:29:52.706405"], ["updated_at", "2020-02-05 07:29:52.706405"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:29:52.707294"], ["updated_at", "2020-02-05 07:29:52.707294"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:29:52.707692"], ["updated_at", "2020-02-05 07:29:52.707692"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:29:52.708223"], ["updated_at", "2020-02-05 07:29:52.708223"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:29:52.708774"], ["updated_at", "2020-02-05 07:29:52.708774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:29:52.709149"], ["updated_at", "2020-02-05 07:29:52.709149"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:29:52.710035"], ["updated_at", "2020-02-05 07:29:52.710035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:29:52.755306"], ["updated_at", "2020-02-05 07:29:52.755306"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.757285"], ["updated_at", "2020-02-05 07:29:52.757285"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.758683"], ["updated_at", "2020-02-05 07:29:52.758683"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.759267"], ["updated_at", "2020-02-05 07:29:52.759267"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.761149"], ["updated_at", "2020-02-05 07:29:52.761149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.762232"], ["updated_at", "2020-02-05 07:29:52.762232"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.762799"], ["updated_at", "2020-02-05 07:29:52.762799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:29:52.779146"], ["updated_at", "2020-02-05 07:29:52.779146"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:29:52.780230"], ["updated_at", "2020-02-05 07:29:52.780230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:29:52.781456"], ["updated_at", "2020-02-05 07:29:52.781456"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.782042"], ["updated_at", "2020-02-05 07:29:52.782042"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:29:52.782775"], ["updated_at", "2020-02-05 07:29:52.782775"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.783645"], ["updated_at", "2020-02-05 07:29:52.783645"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.784274"], ["updated_at", "2020-02-05 07:29:52.784274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.784854"], ["updated_at", "2020-02-05 07:29:52.784854"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:29:52.785443"], ["updated_at", "2020-02-05 07:29:52.785443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:29:52.786024"], ["updated_at", "2020-02-05 07:29:52.786024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:29:52.787194"], ["updated_at", "2020-02-05 07:29:52.787194"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:29:57.647088' and '2020-02-05 07:29:57.647134' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:30:05.793527"], ["updated_at", "2020-02-05 07:30:05.793527"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:30:05.794717"], ["updated_at", "2020-02-05 07:30:05.794717"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:30:05.795391"], ["updated_at", "2020-02-05 07:30:05.795391"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:30:05.796003"], ["updated_at", "2020-02-05 07:30:05.796003"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:30:05.796719"], ["updated_at", "2020-02-05 07:30:05.796719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:30:05.803539"], ["updated_at", "2020-02-05 07:30:05.803539"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:30:05.804423"], ["updated_at", "2020-02-05 07:30:05.804423"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:30:05.805118"], ["updated_at", "2020-02-05 07:30:05.805118"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:30:05.805927"], ["updated_at", "2020-02-05 07:30:05.805927"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:30:05.806634"], ["updated_at", "2020-02-05 07:30:05.806634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:30:05.807797"], ["updated_at", "2020-02-05 07:30:05.807797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:30:06.703725' and '2020-02-05 07:30:06.703736' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:31:25.407426"], ["updated_at", "2020-02-05 07:31:25.407426"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:31:25.409160"], ["updated_at", "2020-02-05 07:31:25.409160"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:31:25.410643"], ["updated_at", "2020-02-05 07:31:25.410643"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:31:25.411534"], ["updated_at", "2020-02-05 07:31:25.411534"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:31:25.412107"], ["updated_at", "2020-02-05 07:31:25.412107"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:31:25.412877"], ["updated_at", "2020-02-05 07:31:25.412877"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:31:25.413843"], ["updated_at", "2020-02-05 07:31:25.413843"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:31:25.414286"], ["updated_at", "2020-02-05 07:31:25.414286"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:31:25.414850"], ["updated_at", "2020-02-05 07:31:25.414850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:31:25.415408"], ["updated_at", "2020-02-05 07:31:25.415408"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:31:25.415786"], ["updated_at", "2020-02-05 07:31:25.415786"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:31:25.416715"], ["updated_at", "2020-02-05 07:31:25.416715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:31:25.454134"], ["updated_at", "2020-02-05 07:31:25.454134"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.455505"], ["updated_at", "2020-02-05 07:31:25.455505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.457333"], ["updated_at", "2020-02-05 07:31:25.457333"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.458130"], ["updated_at", "2020-02-05 07:31:25.458130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.460015"], ["updated_at", "2020-02-05 07:31:25.460015"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.460572"], ["updated_at", "2020-02-05 07:31:25.460572"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.461113"], ["updated_at", "2020-02-05 07:31:25.461113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:31:25.474893"], ["updated_at", "2020-02-05 07:31:25.474893"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:31:25.475727"], ["updated_at", "2020-02-05 07:31:25.475727"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:31:25.476908"], ["updated_at", "2020-02-05 07:31:25.476908"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:31:25.477465"], ["updated_at", "2020-02-05 07:31:25.477465"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:31:25.478122"], ["updated_at", "2020-02-05 07:31:25.478122"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.478876"], ["updated_at", "2020-02-05 07:31:25.478876"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.479476"], ["updated_at", "2020-02-05 07:31:25.479476"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.480001"], ["updated_at", "2020-02-05 07:31:25.480001"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.480576"], ["updated_at", "2020-02-05 07:31:25.480576"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.481104"], ["updated_at", "2020-02-05 07:31:25.481104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:31:25.482105"], ["updated_at", "2020-02-05 07:31:25.482105"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:31:25.488433' and '2020-02-05 07:31:25.488444' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:31:25.494352"], ["updated_at", "2020-02-05 07:31:25.494352"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:31:25.495579"], ["updated_at", "2020-02-05 07:31:25.495579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:31:25.496347"], ["updated_at", "2020-02-05 07:31:25.496347"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:31:25.497002"], ["updated_at", "2020-02-05 07:31:25.497002"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:31:25.497859"], ["updated_at", "2020-02-05 07:31:25.497859"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.498690"], ["updated_at", "2020-02-05 07:31:25.498690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.499303"], ["updated_at", "2020-02-05 07:31:25.499303"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.499862"], ["updated_at", "2020-02-05 07:31:25.499862"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:31:25.511854"], ["updated_at", "2020-02-05 07:31:25.511854"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:31:25.512659"], ["updated_at", "2020-02-05 07:31:25.512659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:31:25.513675"], ["updated_at", "2020-02-05 07:31:25.513675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:31:25.515711' and '2020-02-05 07:31:25.515718' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:33:25.469779"], ["updated_at", "2020-02-05 07:33:25.469779"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:33:25.471456"], ["updated_at", "2020-02-05 07:33:25.471456"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:33:25.473284"], ["updated_at", "2020-02-05 07:33:25.473284"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:33:25.474168"], ["updated_at", "2020-02-05 07:33:25.474168"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:33:25.474844"], ["updated_at", "2020-02-05 07:33:25.474844"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:33:25.475594"], ["updated_at", "2020-02-05 07:33:25.475594"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:33:25.476472"], ["updated_at", "2020-02-05 07:33:25.476472"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:33:25.476861"], ["updated_at", "2020-02-05 07:33:25.476861"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:33:25.477416"], ["updated_at", "2020-02-05 07:33:25.477416"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:33:25.477977"], ["updated_at", "2020-02-05 07:33:25.477977"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:33:25.478368"], ["updated_at", "2020-02-05 07:33:25.478368"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:33:25.479290"], ["updated_at", "2020-02-05 07:33:25.479290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:33:25.519164"], ["updated_at", "2020-02-05 07:33:25.519164"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.520458"], ["updated_at", "2020-02-05 07:33:25.520458"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.521714"], ["updated_at", "2020-02-05 07:33:25.521714"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.522252"], ["updated_at", "2020-02-05 07:33:25.522252"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.523813"], ["updated_at", "2020-02-05 07:33:25.523813"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.524374"], ["updated_at", "2020-02-05 07:33:25.524374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.524908"], ["updated_at", "2020-02-05 07:33:25.524908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:33:25.538515"], ["updated_at", "2020-02-05 07:33:25.538515"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:33:25.539424"], ["updated_at", "2020-02-05 07:33:25.539424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:33:25.540442"], ["updated_at", "2020-02-05 07:33:25.540442"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:33:25.540984"], ["updated_at", "2020-02-05 07:33:25.540984"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:33:25.541617"], ["updated_at", "2020-02-05 07:33:25.541617"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.542328"], ["updated_at", "2020-02-05 07:33:25.542328"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.542863"], ["updated_at", "2020-02-05 07:33:25.542863"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.543397"], ["updated_at", "2020-02-05 07:33:25.543397"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.543948"], ["updated_at", "2020-02-05 07:33:25.543948"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.544486"], ["updated_at", "2020-02-05 07:33:25.544486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:33:25.545477"], ["updated_at", "2020-02-05 07:33:25.545477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:33:25.562207' and '2020-02-05 07:33:25.562218' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:33:25.563163"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:33:25.565516"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:33:25.566504"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:33:25.584361"], ["updated_at", "2020-02-05 07:33:25.584361"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:33:25.585242"], ["updated_at", "2020-02-05 07:33:25.585242"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:33:25.585851"], ["updated_at", "2020-02-05 07:33:25.585851"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:33:25.586378"], ["updated_at", "2020-02-05 07:33:25.586378"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:33:25.587023"], ["updated_at", "2020-02-05 07:33:25.587023"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.587747"], ["updated_at", "2020-02-05 07:33:25.587747"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.588301"], ["updated_at", "2020-02-05 07:33:25.588301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.588824"], ["updated_at", "2020-02-05 07:33:25.588824"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:33:25.589362"], ["updated_at", "2020-02-05 07:33:25.589362"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:33:25.589900"], ["updated_at", "2020-02-05 07:33:25.589900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:33:25.590799"], ["updated_at", "2020-02-05 07:33:25.590799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:33:25.592638' and '2020-02-05 07:33:25.592644' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:33:25.593221"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:33:25.594560"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:33:25.595553"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:34:32.564848"], ["updated_at", "2020-02-05 07:34:32.564848"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:34:32.567035"], ["updated_at", "2020-02-05 07:34:32.567035"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:34:32.569046"], ["updated_at", "2020-02-05 07:34:32.569046"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:34:32.570178"], ["updated_at", "2020-02-05 07:34:32.570178"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:34:32.570772"], ["updated_at", "2020-02-05 07:34:32.570772"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:34:32.571847"], ["updated_at", "2020-02-05 07:34:32.571847"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:34:32.573209"], ["updated_at", "2020-02-05 07:34:32.573209"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:34:32.573732"], ["updated_at", "2020-02-05 07:34:32.573732"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:34:32.574337"], ["updated_at", "2020-02-05 07:34:32.574337"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:34:32.574924"], ["updated_at", "2020-02-05 07:34:32.574924"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:34:32.575306"], ["updated_at", "2020-02-05 07:34:32.575306"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:34:32.576285"], ["updated_at", "2020-02-05 07:34:32.576285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:34:32.618939"], ["updated_at", "2020-02-05 07:34:32.618939"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.620205"], ["updated_at", "2020-02-05 07:34:32.620205"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.621501"], ["updated_at", "2020-02-05 07:34:32.621501"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.622031"], ["updated_at", "2020-02-05 07:34:32.622031"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.623550"], ["updated_at", "2020-02-05 07:34:32.623550"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.624100"], ["updated_at", "2020-02-05 07:34:32.624100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.624612"], ["updated_at", "2020-02-05 07:34:32.624612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:34:32.638764"], ["updated_at", "2020-02-05 07:34:32.638764"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:34:32.639631"], ["updated_at", "2020-02-05 07:34:32.639631"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:34:32.640730"], ["updated_at", "2020-02-05 07:34:32.640730"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:34:32.641252"], ["updated_at", "2020-02-05 07:34:32.641252"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:34:32.641862"], ["updated_at", "2020-02-05 07:34:32.641862"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.642567"], ["updated_at", "2020-02-05 07:34:32.642567"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.643093"], ["updated_at", "2020-02-05 07:34:32.643093"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.643604"], ["updated_at", "2020-02-05 07:34:32.643604"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.644141"], ["updated_at", "2020-02-05 07:34:32.644141"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.644658"], ["updated_at", "2020-02-05 07:34:32.644658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:34:32.645611"], ["updated_at", "2020-02-05 07:34:32.645611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:34:32.651619' and '2020-02-05 07:34:32.651629' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:34:32.652555"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:34:32.654310"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:34:32.655285"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:34:32.673810"], ["updated_at", "2020-02-05 07:34:32.673810"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:34:32.674827"], ["updated_at", "2020-02-05 07:34:32.674827"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:34:32.675491"], ["updated_at", "2020-02-05 07:34:32.675491"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:34:32.675959"], ["updated_at", "2020-02-05 07:34:32.675959"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:34:32.676497"], ["updated_at", "2020-02-05 07:34:32.676497"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.677099"], ["updated_at", "2020-02-05 07:34:32.677099"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.677620"], ["updated_at", "2020-02-05 07:34:32.677620"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.678134"], ["updated_at", "2020-02-05 07:34:32.678134"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:34:32.678726"], ["updated_at", "2020-02-05 07:34:32.678726"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:34:32.679273"], ["updated_at", "2020-02-05 07:34:32.679273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:34:32.680266"], ["updated_at", "2020-02-05 07:34:32.680266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:34:32.682341' and '2020-02-05 07:34:32.682349' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:34:32.682988"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:34:32.684586"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:34:32.685586"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:47:58.050390"], ["updated_at", "2020-02-05 07:47:58.050390"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:47:58.052097"], ["updated_at", "2020-02-05 07:47:58.052097"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:47:58.053415"], ["updated_at", "2020-02-05 07:47:58.053415"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:47:58.054421"], ["updated_at", "2020-02-05 07:47:58.054421"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:47:58.054996"], ["updated_at", "2020-02-05 07:47:58.054996"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:47:58.055745"], ["updated_at", "2020-02-05 07:47:58.055745"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:47:58.056665"], ["updated_at", "2020-02-05 07:47:58.056665"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:47:58.057574"], ["updated_at", "2020-02-05 07:47:58.057574"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:47:58.058127"], ["updated_at", "2020-02-05 07:47:58.058127"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:47:58.058855"], ["updated_at", "2020-02-05 07:47:58.058855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:47:58.059254"], ["updated_at", "2020-02-05 07:47:58.059254"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:47:58.060167"], ["updated_at", "2020-02-05 07:47:58.060167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:47:58.100363"], ["updated_at", "2020-02-05 07:47:58.100363"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.102374"], ["updated_at", "2020-02-05 07:47:58.102374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.103771"], ["updated_at", "2020-02-05 07:47:58.103771"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.104223"], ["updated_at", "2020-02-05 07:47:58.104223"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.105618"], ["updated_at", "2020-02-05 07:47:58.105618"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.106094"], ["updated_at", "2020-02-05 07:47:58.106094"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.106548"], ["updated_at", "2020-02-05 07:47:58.106548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:47:58.120531"], ["updated_at", "2020-02-05 07:47:58.120531"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:47:58.121273"], ["updated_at", "2020-02-05 07:47:58.121273"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:47:58.122251"], ["updated_at", "2020-02-05 07:47:58.122251"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:47:58.122800"], ["updated_at", "2020-02-05 07:47:58.122800"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:47:58.123360"], ["updated_at", "2020-02-05 07:47:58.123360"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.123972"], ["updated_at", "2020-02-05 07:47:58.123972"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.124533"], ["updated_at", "2020-02-05 07:47:58.124533"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.124983"], ["updated_at", "2020-02-05 07:47:58.124983"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.125454"], ["updated_at", "2020-02-05 07:47:58.125454"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.125904"], ["updated_at", "2020-02-05 07:47:58.125904"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:47:58.126706"], ["updated_at", "2020-02-05 07:47:58.126706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:47:58.132886' and '2020-02-05 07:47:58.132896' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:47:58.133725"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:47:58.135187"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:47:58.147993"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:47:58.155641"], ["updated_at", "2020-02-05 07:47:58.155641"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:47:58.156501"], ["updated_at", "2020-02-05 07:47:58.156501"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:47:58.157098"], ["updated_at", "2020-02-05 07:47:58.157098"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:47:58.157610"], ["updated_at", "2020-02-05 07:47:58.157610"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:47:58.158224"], ["updated_at", "2020-02-05 07:47:58.158224"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.158955"], ["updated_at", "2020-02-05 07:47:58.158955"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.159475"], ["updated_at", "2020-02-05 07:47:58.159475"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.159994"], ["updated_at", "2020-02-05 07:47:58.159994"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:47:58.160535"], ["updated_at", "2020-02-05 07:47:58.160535"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:47:58.161051"], ["updated_at", "2020-02-05 07:47:58.161051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:47:58.161913"], ["updated_at", "2020-02-05 07:47:58.161913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:47:58.163853' and '2020-02-05 07:47:58.163860' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:47:58.164495"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:47:58.166007"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:47:58.166917"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:48:17.393243"], ["updated_at", "2020-02-05 07:48:17.393243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:48:17.394425"], ["updated_at", "2020-02-05 07:48:17.394425"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:48:17.395127"], ["updated_at", "2020-02-05 07:48:17.395127"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:48:17.395778"], ["updated_at", "2020-02-05 07:48:17.395778"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:48:17.396321"], ["updated_at", "2020-02-05 07:48:17.396321"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:48:17.396756"], ["updated_at", "2020-02-05 07:48:17.396756"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:48:17.397379"], ["updated_at", "2020-02-05 07:48:17.397379"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:48:17.397750"], ["updated_at", "2020-02-05 07:48:17.397750"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:48:17.398276"], ["updated_at", "2020-02-05 07:48:17.398276"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:48:17.398814"], ["updated_at", "2020-02-05 07:48:17.398814"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:48:17.399185"], ["updated_at", "2020-02-05 07:48:17.399185"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:48:17.400068"], ["updated_at", "2020-02-05 07:48:17.400068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:48:17.436373"], ["updated_at", "2020-02-05 07:48:17.436373"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:17.437177"], ["updated_at", "2020-02-05 07:48:17.437177"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:17.437909"], ["updated_at", "2020-02-05 07:48:17.437909"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.438486"], ["updated_at", "2020-02-05 07:48:17.438486"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.439178"], ["updated_at", "2020-02-05 07:48:17.439178"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:17.439720"], ["updated_at", "2020-02-05 07:48:17.439720"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.440247"], ["updated_at", "2020-02-05 07:48:17.440247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:48:17.454562"], ["updated_at", "2020-02-05 07:48:17.454562"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:48:17.455405"], ["updated_at", "2020-02-05 07:48:17.455405"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:48:17.456043"], ["updated_at", "2020-02-05 07:48:17.456043"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:48:17.456576"], ["updated_at", "2020-02-05 07:48:17.456576"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:48:17.457193"], ["updated_at", "2020-02-05 07:48:17.457193"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:17.457906"], ["updated_at", "2020-02-05 07:48:17.457906"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.458479"], ["updated_at", "2020-02-05 07:48:17.458479"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.459001"], ["updated_at", "2020-02-05 07:48:17.459001"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:17.459540"], ["updated_at", "2020-02-05 07:48:17.459540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:48:17.460078"], ["updated_at", "2020-02-05 07:48:17.460078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:48:17.461007"], ["updated_at", "2020-02-05 07:48:17.461007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:48:17.466108' and '2020-02-05 07:48:17.466119' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:48:29.238962"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:48:29.243854"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:48:29.244936"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:48:29.254654"], ["updated_at", "2020-02-05 07:48:29.254654"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:48:29.255672"], ["updated_at", "2020-02-05 07:48:29.255672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:48:29.256564"], ["updated_at", "2020-02-05 07:48:29.256564"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:48:29.257195"], ["updated_at", "2020-02-05 07:48:29.257195"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:48:29.257878"], ["updated_at", "2020-02-05 07:48:29.257878"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:29.258687"], ["updated_at", "2020-02-05 07:48:29.258687"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:29.259245"], ["updated_at", "2020-02-05 07:48:29.259245"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:48:29.259786"], ["updated_at", "2020-02-05 07:48:29.259786"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:48:29.260414"], ["updated_at", "2020-02-05 07:48:29.260414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:48:29.261002"], ["updated_at", "2020-02-05 07:48:29.261002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:48:29.261984"], ["updated_at", "2020-02-05 07:48:29.261984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:48:29.264691' and '2020-02-05 07:48:29.264700' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "signing_result" = ?, "comment" = ?, "state" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["signing_result", 2], ["comment", "pass"], ["state", 3], ["updated_at", "2020-02-05 07:48:45.479344"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:48:45.480917"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:48:45.481833"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:49:38.067205"], ["updated_at", "2020-02-05 07:49:38.067205"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:49:38.068476"], ["updated_at", "2020-02-05 07:49:38.068476"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:49:38.069207"], ["updated_at", "2020-02-05 07:49:38.069207"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:49:38.069814"], ["updated_at", "2020-02-05 07:49:38.069814"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:49:38.070384"], ["updated_at", "2020-02-05 07:49:38.070384"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 1], ["role", "業務經理"], ["created_at", "2020-02-05 07:49:38.070742"], ["updated_at", "2020-02-05 07:49:38.070742"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:49:38.071252"], ["updated_at", "2020-02-05 07:49:38.071252"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 2], ["role", "工務經理"], ["created_at", "2020-02-05 07:49:38.071557"], ["updated_at", "2020-02-05 07:49:38.071557"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:49:38.071991"], ["updated_at", "2020-02-05 07:49:38.071991"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:49:38.072437"], ["updated_at", "2020-02-05 07:49:38.072437"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 3], ["role", "總經理"], ["created_at", "2020-02-05 07:49:38.072773"], ["updated_at", "2020-02-05 07:49:38.072773"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:49:38.073599"], ["updated_at", "2020-02-05 07:49:38.073599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:49:38.109864"], ["updated_at", "2020-02-05 07:49:38.109864"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:38.110698"], ["updated_at", "2020-02-05 07:49:38.110698"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:38.111407"], ["updated_at", "2020-02-05 07:49:38.111407"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 1], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.111950"], ["updated_at", "2020-02-05 07:49:38.111950"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.112665"], ["updated_at", "2020-02-05 07:49:38.112665"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:38.113298"], ["updated_at", "2020-02-05 07:49:38.113298"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 3], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.113822"], ["updated_at", "2020-02-05 07:49:38.113822"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:49:38.127996"], ["updated_at", "2020-02-05 07:49:38.127996"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:49:38.128863"], ["updated_at", "2020-02-05 07:49:38.128863"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:49:38.129483"], ["updated_at", "2020-02-05 07:49:38.129483"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:49:38.129991"], ["updated_at", "2020-02-05 07:49:38.129991"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:49:38.130619"], ["updated_at", "2020-02-05 07:49:38.130619"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:38.131345"], ["updated_at", "2020-02-05 07:49:38.131345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.131874"], ["updated_at", "2020-02-05 07:49:38.131874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.132441"], ["updated_at", "2020-02-05 07:49:38.132441"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:38.132981"], ["updated_at", "2020-02-05 07:49:38.132981"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:49:38.133512"], ["updated_at", "2020-02-05 07:49:38.133512"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:49:38.134763"], ["updated_at", "2020-02-05 07:49:38.134763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:49:39.718196' and '2020-02-05 07:49:39.718217' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:49:42.374754"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:49:42.377331"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:49:42.378559"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:49:42.400889"], ["updated_at", "2020-02-05 07:49:42.400889"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:49:42.401943"], ["updated_at", "2020-02-05 07:49:42.401943"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:49:42.402594"], ["updated_at", "2020-02-05 07:49:42.402594"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:49:42.403151"], ["updated_at", "2020-02-05 07:49:42.403151"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:49:42.403846"], ["updated_at", "2020-02-05 07:49:42.403846"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:42.404715"], ["updated_at", "2020-02-05 07:49:42.404715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:42.405327"], ["updated_at", "2020-02-05 07:49:42.405327"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:49:42.405875"], ["updated_at", "2020-02-05 07:49:42.405875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:49:42.406470"], ["updated_at", "2020-02-05 07:49:42.406470"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:49:42.407016"], ["updated_at", "2020-02-05 07:49:42.407016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:49:42.407983"], ["updated_at", "2020-02-05 07:49:42.407983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.3ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:50:31.904274' and '2020-02-05 07:50:31.904310' <= end_at)[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 07:51:15.636488"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 07:51:15.638229"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 07:51:15.639157"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:51:40.896072"], ["updated_at", "2020-02-05 07:51:40.896072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:51:40.899094"], ["updated_at", "2020-02-05 07:51:40.899094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:51:40.901389"], ["updated_at", "2020-02-05 07:51:40.901389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:51:40.902100"], ["updated_at", "2020-02-05 07:51:40.902100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:51:40.904240"], ["updated_at", "2020-02-05 07:51:40.904240"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:51:40.905700"], ["updated_at", "2020-02-05 07:51:40.905700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:51:40.968097"], ["updated_at", "2020-02-05 07:51:40.968097"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:51:40.969152"], ["updated_at", "2020-02-05 07:51:40.969152"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:51:40.970545"], ["updated_at", "2020-02-05 07:51:40.970545"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:51:40.971464"], ["updated_at", "2020-02-05 07:51:40.971464"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:51:40.972027"], ["updated_at", "2020-02-05 07:51:40.972027"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 07:51:40.972416"], ["updated_at", "2020-02-05 07:51:40.972416"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:51:40.973376"], ["updated_at", "2020-02-05 07:51:40.973376"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 07:51:40.973769"], ["updated_at", "2020-02-05 07:51:40.973769"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:51:40.974310"], ["updated_at", "2020-02-05 07:51:40.974310"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:51:40.974864"], ["updated_at", "2020-02-05 07:51:40.974864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 07:51:40.975253"], ["updated_at", "2020-02-05 07:51:40.975253"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:51:41.012370"], ["updated_at", "2020-02-05 07:51:41.012370"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:41.013739"], ["updated_at", "2020-02-05 07:51:41.013739"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:41.014997"], ["updated_at", "2020-02-05 07:51:41.014997"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.015591"], ["updated_at", "2020-02-05 07:51:41.015591"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.017296"], ["updated_at", "2020-02-05 07:51:41.017296"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:41.017849"], ["updated_at", "2020-02-05 07:51:41.017849"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.018376"], ["updated_at", "2020-02-05 07:51:41.018376"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:51:41.021303"], ["updated_at", "2020-02-05 07:51:41.021303"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:51:41.022252"], ["updated_at", "2020-02-05 07:51:41.022252"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:51:41.022916"], ["updated_at", "2020-02-05 07:51:41.022916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:51:41.023581"], ["updated_at", "2020-02-05 07:51:41.023581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:51:41.024229"], ["updated_at", "2020-02-05 07:51:41.024229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:51:41.024905"], ["updated_at", "2020-02-05 07:51:41.024905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:51:41.036577"], ["updated_at", "2020-02-05 07:51:41.036577"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:51:41.037280"], ["updated_at", "2020-02-05 07:51:41.037280"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:51:41.038294"], ["updated_at", "2020-02-05 07:51:41.038294"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:51:41.038842"], ["updated_at", "2020-02-05 07:51:41.038842"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:51:41.039472"], ["updated_at", "2020-02-05 07:51:41.039472"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:41.040191"], ["updated_at", "2020-02-05 07:51:41.040191"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.040729"], ["updated_at", "2020-02-05 07:51:41.040729"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.041263"], ["updated_at", "2020-02-05 07:51:41.041263"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:41.041811"], ["updated_at", "2020-02-05 07:51:41.041811"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:51:41.042353"], ["updated_at", "2020-02-05 07:51:41.042353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:51:43.002170' and '2020-02-05 07:51:43.002189' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:51:44.231295"], ["updated_at", "2020-02-05 07:51:44.231295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:51:44.232461"], ["updated_at", "2020-02-05 07:51:44.232461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:51:44.233137"], ["updated_at", "2020-02-05 07:51:44.233137"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:51:44.233808"], ["updated_at", "2020-02-05 07:51:44.233808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:51:44.234477"], ["updated_at", "2020-02-05 07:51:44.234477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:51:44.235145"], ["updated_at", "2020-02-05 07:51:44.235145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:51:44.237527"], ["updated_at", "2020-02-05 07:51:44.237527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:51:44.238367"], ["updated_at", "2020-02-05 07:51:44.238367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:51:44.239042"], ["updated_at", "2020-02-05 07:51:44.239042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:51:44.239699"], ["updated_at", "2020-02-05 07:51:44.239699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:51:44.240353"], ["updated_at", "2020-02-05 07:51:44.240353"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:51:44.241064"], ["updated_at", "2020-02-05 07:51:44.241064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:51:44.245108"], ["updated_at", "2020-02-05 07:51:44.245108"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:51:44.245843"], ["updated_at", "2020-02-05 07:51:44.245843"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:51:44.246461"], ["updated_at", "2020-02-05 07:51:44.246461"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:51:44.247124"], ["updated_at", "2020-02-05 07:51:44.247124"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:51:44.247820"], ["updated_at", "2020-02-05 07:51:44.247820"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:44.248543"], ["updated_at", "2020-02-05 07:51:44.248543"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:44.249085"], ["updated_at", "2020-02-05 07:51:44.249085"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:51:44.249624"], ["updated_at", "2020-02-05 07:51:44.249624"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:51:44.250182"], ["updated_at", "2020-02-05 07:51:44.250182"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:51:44.250727"], ["updated_at", "2020-02-05 07:51:44.250727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:52:14.024962' and '2020-02-05 07:52:14.024972' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.691697"], ["updated_at", "2020-02-05 07:52:22.691697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.692643"], ["updated_at", "2020-02-05 07:52:22.692643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.693251"], ["updated_at", "2020-02-05 07:52:22.693251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.693833"], ["updated_at", "2020-02-05 07:52:22.693833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.694418"], ["updated_at", "2020-02-05 07:52:22.694418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.695000"], ["updated_at", "2020-02-05 07:52:22.695000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.696288"], ["updated_at", "2020-02-05 07:52:22.696288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.697015"], ["updated_at", "2020-02-05 07:52:22.697015"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.697627"], ["updated_at", "2020-02-05 07:52:22.697627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.698242"], ["updated_at", "2020-02-05 07:52:22.698242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.698862"], ["updated_at", "2020-02-05 07:52:22.698862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.699524"], ["updated_at", "2020-02-05 07:52:22.699524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.700885"], ["updated_at", "2020-02-05 07:52:22.700885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.702294"], ["updated_at", "2020-02-05 07:52:22.702294"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.702880"], ["updated_at", "2020-02-05 07:52:22.702880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.703631"], ["updated_at", "2020-02-05 07:52:22.703631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.704301"], ["updated_at", "2020-02-05 07:52:22.704301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.704865"], ["updated_at", "2020-02-05 07:52:22.704865"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.706506"], ["updated_at", "2020-02-05 07:52:22.706506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.707743"], ["updated_at", "2020-02-05 07:52:22.707743"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.708581"], ["updated_at", "2020-02-05 07:52:22.708581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.709175"], ["updated_at", "2020-02-05 07:52:22.709175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.710081"], ["updated_at", "2020-02-05 07:52:22.710081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.710698"], ["updated_at", "2020-02-05 07:52:22.710698"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.712369"], ["updated_at", "2020-02-05 07:52:22.712369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.713689"], ["updated_at", "2020-02-05 07:52:22.713689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.714422"], ["updated_at", "2020-02-05 07:52:22.714422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.715020"], ["updated_at", "2020-02-05 07:52:22.715020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.715655"], ["updated_at", "2020-02-05 07:52:22.715655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.716187"], ["updated_at", "2020-02-05 07:52:22.716187"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.717811"], ["updated_at", "2020-02-05 07:52:22.717811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.718688"], ["updated_at", "2020-02-05 07:52:22.718688"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.719731"], ["updated_at", "2020-02-05 07:52:22.719731"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.720471"], ["updated_at", "2020-02-05 07:52:22.720471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.721094"], ["updated_at", "2020-02-05 07:52:22.721094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.721733"], ["updated_at", "2020-02-05 07:52:22.721733"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.724558"], ["updated_at", "2020-02-05 07:52:22.724558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.725412"], ["updated_at", "2020-02-05 07:52:22.725412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.725956"], ["updated_at", "2020-02-05 07:52:22.725956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.726609"], ["updated_at", "2020-02-05 07:52:22.726609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.727293"], ["updated_at", "2020-02-05 07:52:22.727293"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.728257"], ["updated_at", "2020-02-05 07:52:22.728257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:52:22.729607"], ["updated_at", "2020-02-05 07:52:22.729607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:52:22.730431"], ["updated_at", "2020-02-05 07:52:22.730431"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:52:22.731282"], ["updated_at", "2020-02-05 07:52:22.731282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:52:22.731841"], ["updated_at", "2020-02-05 07:52:22.731841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:52:22.732401"], ["updated_at", "2020-02-05 07:52:22.732401"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:52:22.732921"], ["updated_at", "2020-02-05 07:52:22.732921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.221703"], ["updated_at", "2020-02-05 07:53:12.221703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.224717"], ["updated_at", "2020-02-05 07:53:12.224717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.226906"], ["updated_at", "2020-02-05 07:53:12.226906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.228165"], ["updated_at", "2020-02-05 07:53:12.228165"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.229494"], ["updated_at", "2020-02-05 07:53:12.229494"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.230780"], ["updated_at", "2020-02-05 07:53:12.230780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:53:12.292579"], ["updated_at", "2020-02-05 07:53:12.292579"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:53:12.293672"], ["updated_at", "2020-02-05 07:53:12.293672"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:53:12.295547"], ["updated_at", "2020-02-05 07:53:12.295547"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:53:12.296706"], ["updated_at", "2020-02-05 07:53:12.296706"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.297378"], ["updated_at", "2020-02-05 07:53:12.297378"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 07:53:12.297807"], ["updated_at", "2020-02-05 07:53:12.297807"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.298925"], ["updated_at", "2020-02-05 07:53:12.298925"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 07:53:12.299322"], ["updated_at", "2020-02-05 07:53:12.299322"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:53:12.299861"], ["updated_at", "2020-02-05 07:53:12.299861"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.300411"], ["updated_at", "2020-02-05 07:53:12.300411"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 07:53:12.300785"], ["updated_at", "2020-02-05 07:53:12.300785"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:12.352772"], ["updated_at", "2020-02-05 07:53:12.352772"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.354016"], ["updated_at", "2020-02-05 07:53:12.354016"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.355272"], ["updated_at", "2020-02-05 07:53:12.355272"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.355808"], ["updated_at", "2020-02-05 07:53:12.355808"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.357341"], ["updated_at", "2020-02-05 07:53:12.357341"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.357908"], ["updated_at", "2020-02-05 07:53:12.357908"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.358443"], ["updated_at", "2020-02-05 07:53:12.358443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.361250"], ["updated_at", "2020-02-05 07:53:12.361250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.362163"], ["updated_at", "2020-02-05 07:53:12.362163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.362838"], ["updated_at", "2020-02-05 07:53:12.362838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.363496"], ["updated_at", "2020-02-05 07:53:12.363496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.364172"], ["updated_at", "2020-02-05 07:53:12.364172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.365238"], ["updated_at", "2020-02-05 07:53:12.365238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:12.377543"], ["updated_at", "2020-02-05 07:53:12.377543"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:53:12.378273"], ["updated_at", "2020-02-05 07:53:12.378273"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:53:12.379939"], ["updated_at", "2020-02-05 07:53:12.379939"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:53:12.380555"], ["updated_at", "2020-02-05 07:53:12.380555"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:53:12.381203"], ["updated_at", "2020-02-05 07:53:12.381203"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.381937"], ["updated_at", "2020-02-05 07:53:12.381937"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.382471"], ["updated_at", "2020-02-05 07:53:12.382471"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.383009"], ["updated_at", "2020-02-05 07:53:12.383009"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.383561"], ["updated_at", "2020-02-05 07:53:12.383561"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.384096"], ["updated_at", "2020-02-05 07:53:12.384096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:53:12.390622' and '2020-02-05 07:53:12.390636' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.425589"], ["updated_at", "2020-02-05 07:53:12.425589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.426610"], ["updated_at", "2020-02-05 07:53:12.426610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.427292"], ["updated_at", "2020-02-05 07:53:12.427292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.427980"], ["updated_at", "2020-02-05 07:53:12.427980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.428638"], ["updated_at", "2020-02-05 07:53:12.428638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.429294"], ["updated_at", "2020-02-05 07:53:12.429294"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.430806"], ["updated_at", "2020-02-05 07:53:12.430806"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.431683"], ["updated_at", "2020-02-05 07:53:12.431683"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.432387"], ["updated_at", "2020-02-05 07:53:12.432387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.433055"], ["updated_at", "2020-02-05 07:53:12.433055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.433715"], ["updated_at", "2020-02-05 07:53:12.433715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.434379"], ["updated_at", "2020-02-05 07:53:12.434379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:12.438044"], ["updated_at", "2020-02-05 07:53:12.438044"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:53:12.438807"], ["updated_at", "2020-02-05 07:53:12.438807"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:53:12.439411"], ["updated_at", "2020-02-05 07:53:12.439411"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:53:12.439939"], ["updated_at", "2020-02-05 07:53:12.439939"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:53:12.440575"], ["updated_at", "2020-02-05 07:53:12.440575"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.441313"], ["updated_at", "2020-02-05 07:53:12.441313"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.441855"], ["updated_at", "2020-02-05 07:53:12.441855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.442389"], ["updated_at", "2020-02-05 07:53:12.442389"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:12.442941"], ["updated_at", "2020-02-05 07:53:12.442941"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:12.443473"], ["updated_at", "2020-02-05 07:53:12.443473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:53:12.446104' and '2020-02-05 07:53:12.446114' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.449269"], ["updated_at", "2020-02-05 07:53:12.449269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.450451"], ["updated_at", "2020-02-05 07:53:12.450451"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.451300"], ["updated_at", "2020-02-05 07:53:12.451300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.451982"], ["updated_at", "2020-02-05 07:53:12.451982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.452624"], ["updated_at", "2020-02-05 07:53:12.452624"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.453266"], ["updated_at", "2020-02-05 07:53:12.453266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.454801"], ["updated_at", "2020-02-05 07:53:12.454801"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.456285"], ["updated_at", "2020-02-05 07:53:12.456285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.456997"], ["updated_at", "2020-02-05 07:53:12.456997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.457662"], ["updated_at", "2020-02-05 07:53:12.457662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.458318"], ["updated_at", "2020-02-05 07:53:12.458318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.459116"], ["updated_at", "2020-02-05 07:53:12.459116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.460727"], ["updated_at", "2020-02-05 07:53:12.460727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.461900"], ["updated_at", "2020-02-05 07:53:12.461900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.462727"], ["updated_at", "2020-02-05 07:53:12.462727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.464119"], ["updated_at", "2020-02-05 07:53:12.464119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.464869"], ["updated_at", "2020-02-05 07:53:12.464869"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.465533"], ["updated_at", "2020-02-05 07:53:12.465533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.467097"], ["updated_at", "2020-02-05 07:53:12.467097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.468121"], ["updated_at", "2020-02-05 07:53:12.468121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.468813"], ["updated_at", "2020-02-05 07:53:12.468813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.469458"], ["updated_at", "2020-02-05 07:53:12.469458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.470184"], ["updated_at", "2020-02-05 07:53:12.470184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.470841"], ["updated_at", "2020-02-05 07:53:12.470841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.472322"], ["updated_at", "2020-02-05 07:53:12.472322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.473245"], ["updated_at", "2020-02-05 07:53:12.473245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.473890"], ["updated_at", "2020-02-05 07:53:12.473890"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.474521"], ["updated_at", "2020-02-05 07:53:12.474521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.475147"], ["updated_at", "2020-02-05 07:53:12.475147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.475772"], ["updated_at", "2020-02-05 07:53:12.475772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.477275"], ["updated_at", "2020-02-05 07:53:12.477275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.478287"], ["updated_at", "2020-02-05 07:53:12.478287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.479039"], ["updated_at", "2020-02-05 07:53:12.479039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.479770"], ["updated_at", "2020-02-05 07:53:12.479770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.480570"], ["updated_at", "2020-02-05 07:53:12.480570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.481424"], ["updated_at", "2020-02-05 07:53:12.481424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.483185"], ["updated_at", "2020-02-05 07:53:12.483185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.484224"], ["updated_at", "2020-02-05 07:53:12.484224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.484911"], ["updated_at", "2020-02-05 07:53:12.484911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.485549"], ["updated_at", "2020-02-05 07:53:12.485549"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.486176"], ["updated_at", "2020-02-05 07:53:12.486176"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.486807"], ["updated_at", "2020-02-05 07:53:12.486807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:12.488285"], ["updated_at", "2020-02-05 07:53:12.488285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:12.489162"], ["updated_at", "2020-02-05 07:53:12.489162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:12.489823"], ["updated_at", "2020-02-05 07:53:12.489823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:12.490466"], ["updated_at", "2020-02-05 07:53:12.490466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:12.491098"], ["updated_at", "2020-02-05 07:53:12.491098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:12.491877"], ["updated_at", "2020-02-05 07:53:12.491877"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:45.831026"], ["updated_at", "2020-02-05 07:53:45.831026"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:45.833946"], ["updated_at", "2020-02-05 07:53:45.833946"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:45.834796"], ["updated_at", "2020-02-05 07:53:45.834796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:45.835526"], ["updated_at", "2020-02-05 07:53:45.835526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:45.836239"], ["updated_at", "2020-02-05 07:53:45.836239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:45.836963"], ["updated_at", "2020-02-05 07:53:45.836963"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:53:45.882190"], ["updated_at", "2020-02-05 07:53:45.882190"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:53:45.883256"], ["updated_at", "2020-02-05 07:53:45.883256"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:53:45.884675"], ["updated_at", "2020-02-05 07:53:45.884675"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:53:45.885568"], ["updated_at", "2020-02-05 07:53:45.885568"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:45.886135"], ["updated_at", "2020-02-05 07:53:45.886135"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 07:53:45.886541"], ["updated_at", "2020-02-05 07:53:45.886541"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:45.887505"], ["updated_at", "2020-02-05 07:53:45.887505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 07:53:45.887907"], ["updated_at", "2020-02-05 07:53:45.887907"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:53:45.888457"], ["updated_at", "2020-02-05 07:53:45.888457"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:45.889013"], ["updated_at", "2020-02-05 07:53:45.889013"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 07:53:45.889402"], ["updated_at", "2020-02-05 07:53:45.889402"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:45.923142"], ["updated_at", "2020-02-05 07:53:45.923142"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:45.924423"], ["updated_at", "2020-02-05 07:53:45.924423"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:45.925727"], ["updated_at", "2020-02-05 07:53:45.925727"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.926173"], ["updated_at", "2020-02-05 07:53:45.926173"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.927878"], ["updated_at", "2020-02-05 07:53:45.927878"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:45.928354"], ["updated_at", "2020-02-05 07:53:45.928354"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.928787"], ["updated_at", "2020-02-05 07:53:45.928787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:45.932080"], ["updated_at", "2020-02-05 07:53:45.932080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:45.932855"], ["updated_at", "2020-02-05 07:53:45.932855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:45.933595"], ["updated_at", "2020-02-05 07:53:45.933595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:45.934238"], ["updated_at", "2020-02-05 07:53:45.934238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:45.934813"], ["updated_at", "2020-02-05 07:53:45.934813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:45.935374"], ["updated_at", "2020-02-05 07:53:45.935374"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:45.958540"], ["updated_at", "2020-02-05 07:53:45.958540"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:53:45.959304"], ["updated_at", "2020-02-05 07:53:45.959304"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:53:45.960681"], ["updated_at", "2020-02-05 07:53:45.960681"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:53:45.961246"], ["updated_at", "2020-02-05 07:53:45.961246"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:53:45.961886"], ["updated_at", "2020-02-05 07:53:45.961886"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:45.962644"], ["updated_at", "2020-02-05 07:53:45.962644"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.963188"], ["updated_at", "2020-02-05 07:53:45.963188"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.963716"], ["updated_at", "2020-02-05 07:53:45.963716"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:45.964272"], ["updated_at", "2020-02-05 07:53:45.964272"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:45.964806"], ["updated_at", "2020-02-05 07:53:45.964806"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:53:45.971034' and '2020-02-05 07:53:45.971044' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:47.722153"], ["updated_at", "2020-02-05 07:53:47.722153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:47.723486"], ["updated_at", "2020-02-05 07:53:47.723486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:47.724327"], ["updated_at", "2020-02-05 07:53:47.724327"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:47.725047"], ["updated_at", "2020-02-05 07:53:47.725047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:47.725800"], ["updated_at", "2020-02-05 07:53:47.725800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:47.726703"], ["updated_at", "2020-02-05 07:53:47.726703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:53:47.728607"], ["updated_at", "2020-02-05 07:53:47.728607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:53:47.729623"], ["updated_at", "2020-02-05 07:53:47.729623"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:53:47.730362"], ["updated_at", "2020-02-05 07:53:47.730362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:53:47.731295"], ["updated_at", "2020-02-05 07:53:47.731295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:53:47.732175"], ["updated_at", "2020-02-05 07:53:47.732175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:53:47.732989"], ["updated_at", "2020-02-05 07:53:47.732989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:53:47.737842"], ["updated_at", "2020-02-05 07:53:47.737842"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:53:47.738651"], ["updated_at", "2020-02-05 07:53:47.738651"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:53:47.739309"], ["updated_at", "2020-02-05 07:53:47.739309"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:53:47.739875"], ["updated_at", "2020-02-05 07:53:47.739875"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:53:47.740563"], ["updated_at", "2020-02-05 07:53:47.740563"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:47.741364"], ["updated_at", "2020-02-05 07:53:47.741364"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:47.742002"], ["updated_at", "2020-02-05 07:53:47.742002"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:53:47.742728"], ["updated_at", "2020-02-05 07:53:47.742728"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:53:47.743443"], ["updated_at", "2020-02-05 07:53:47.743443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:53:47.744198"], ["updated_at", "2020-02-05 07:53:47.744198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:53:47.746647' and '2020-02-05 07:53:47.746655' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.841967"], ["updated_at", "2020-02-05 07:54:47.841967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.843402"], ["updated_at", "2020-02-05 07:54:47.843402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.844527"], ["updated_at", "2020-02-05 07:54:47.844527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.845422"], ["updated_at", "2020-02-05 07:54:47.845422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.846378"], ["updated_at", "2020-02-05 07:54:47.846378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.847264"], ["updated_at", "2020-02-05 07:54:47.847264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.849316"], ["updated_at", "2020-02-05 07:54:47.849316"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.850587"], ["updated_at", "2020-02-05 07:54:47.850587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.851519"], ["updated_at", "2020-02-05 07:54:47.851519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.852368"], ["updated_at", "2020-02-05 07:54:47.852368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.853202"], ["updated_at", "2020-02-05 07:54:47.853202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.854029"], ["updated_at", "2020-02-05 07:54:47.854029"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.855970"], ["updated_at", "2020-02-05 07:54:47.855970"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.857299"], ["updated_at", "2020-02-05 07:54:47.857299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.858290"], ["updated_at", "2020-02-05 07:54:47.858290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.859208"], ["updated_at", "2020-02-05 07:54:47.859208"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.860085"], ["updated_at", "2020-02-05 07:54:47.860085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.860946"], ["updated_at", "2020-02-05 07:54:47.860946"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.863264"], ["updated_at", "2020-02-05 07:54:47.863264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.864495"], ["updated_at", "2020-02-05 07:54:47.864495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.865598"], ["updated_at", "2020-02-05 07:54:47.865598"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.866569"], ["updated_at", "2020-02-05 07:54:47.866569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.867440"], ["updated_at", "2020-02-05 07:54:47.867440"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.868265"], ["updated_at", "2020-02-05 07:54:47.868265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.870022"], ["updated_at", "2020-02-05 07:54:47.870022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.871081"], ["updated_at", "2020-02-05 07:54:47.871081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.871889"], ["updated_at", "2020-02-05 07:54:47.871889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.872680"], ["updated_at", "2020-02-05 07:54:47.872680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.873563"], ["updated_at", "2020-02-05 07:54:47.873563"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.874444"], ["updated_at", "2020-02-05 07:54:47.874444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.876337"], ["updated_at", "2020-02-05 07:54:47.876337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.877412"], ["updated_at", "2020-02-05 07:54:47.877412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.878181"], ["updated_at", "2020-02-05 07:54:47.878181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.878918"], ["updated_at", "2020-02-05 07:54:47.878918"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.879670"], ["updated_at", "2020-02-05 07:54:47.879670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.880399"], ["updated_at", "2020-02-05 07:54:47.880399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.882090"], ["updated_at", "2020-02-05 07:54:47.882090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.883088"], ["updated_at", "2020-02-05 07:54:47.883088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.883774"], ["updated_at", "2020-02-05 07:54:47.883774"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.884557"], ["updated_at", "2020-02-05 07:54:47.884557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.885239"], ["updated_at", "2020-02-05 07:54:47.885239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.885847"], ["updated_at", "2020-02-05 07:54:47.885847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:54:47.887231"], ["updated_at", "2020-02-05 07:54:47.887231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:54:47.888101"], ["updated_at", "2020-02-05 07:54:47.888101"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:54:47.888760"], ["updated_at", "2020-02-05 07:54:47.888760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:54:47.889394"], ["updated_at", "2020-02-05 07:54:47.889394"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:54:47.889983"], ["updated_at", "2020-02-05 07:54:47.889983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:54:47.890623"], ["updated_at", "2020-02-05 07:54:47.890623"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.260602"], ["updated_at", "2020-02-05 07:55:09.260602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.263164"], ["updated_at", "2020-02-05 07:55:09.263164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.264113"], ["updated_at", "2020-02-05 07:55:09.264113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.265013"], ["updated_at", "2020-02-05 07:55:09.265013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.265902"], ["updated_at", "2020-02-05 07:55:09.265902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.266782"], ["updated_at", "2020-02-05 07:55:09.266782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:55:09.321153"], ["updated_at", "2020-02-05 07:55:09.321153"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:55:09.322408"], ["updated_at", "2020-02-05 07:55:09.322408"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:55:09.323948"], ["updated_at", "2020-02-05 07:55:09.323948"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:55:09.325153"], ["updated_at", "2020-02-05 07:55:09.325153"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.325859"], ["updated_at", "2020-02-05 07:55:09.325859"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 07:55:09.326359"], ["updated_at", "2020-02-05 07:55:09.326359"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.327508"], ["updated_at", "2020-02-05 07:55:09.327508"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 07:55:09.327988"], ["updated_at", "2020-02-05 07:55:09.327988"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:55:09.328674"], ["updated_at", "2020-02-05 07:55:09.328674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.329366"], ["updated_at", "2020-02-05 07:55:09.329366"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 07:55:09.329833"], ["updated_at", "2020-02-05 07:55:09.329833"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:55:09.377377"], ["updated_at", "2020-02-05 07:55:09.377377"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.378865"], ["updated_at", "2020-02-05 07:55:09.378865"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.380506"], ["updated_at", "2020-02-05 07:55:09.380506"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.381189"], ["updated_at", "2020-02-05 07:55:09.381189"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.383065"], ["updated_at", "2020-02-05 07:55:09.383065"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.383771"], ["updated_at", "2020-02-05 07:55:09.383771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.384461"], ["updated_at", "2020-02-05 07:55:09.384461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.388025"], ["updated_at", "2020-02-05 07:55:09.388025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.389179"], ["updated_at", "2020-02-05 07:55:09.389179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.390013"], ["updated_at", "2020-02-05 07:55:09.390013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.390829"], ["updated_at", "2020-02-05 07:55:09.390829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.391631"], ["updated_at", "2020-02-05 07:55:09.391631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.392435"], ["updated_at", "2020-02-05 07:55:09.392435"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:55:09.419851"], ["updated_at", "2020-02-05 07:55:09.419851"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:55:09.420823"], ["updated_at", "2020-02-05 07:55:09.420823"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:55:09.422293"], ["updated_at", "2020-02-05 07:55:09.422293"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:55:09.423005"], ["updated_at", "2020-02-05 07:55:09.423005"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:55:09.423819"], ["updated_at", "2020-02-05 07:55:09.423819"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.424753"], ["updated_at", "2020-02-05 07:55:09.424753"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.425451"], ["updated_at", "2020-02-05 07:55:09.425451"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.426104"], ["updated_at", "2020-02-05 07:55:09.426104"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.426780"], ["updated_at", "2020-02-05 07:55:09.426780"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.427432"], ["updated_at", "2020-02-05 07:55:09.427432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:55:09.434830' and '2020-02-05 07:55:09.434845' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.457553"], ["updated_at", "2020-02-05 07:55:09.457553"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.458867"], ["updated_at", "2020-02-05 07:55:09.458867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.459712"], ["updated_at", "2020-02-05 07:55:09.459712"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.460528"], ["updated_at", "2020-02-05 07:55:09.460528"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.461347"], ["updated_at", "2020-02-05 07:55:09.461347"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.462165"], ["updated_at", "2020-02-05 07:55:09.462165"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.464008"], ["updated_at", "2020-02-05 07:55:09.464008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.465089"], ["updated_at", "2020-02-05 07:55:09.465089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.465957"], ["updated_at", "2020-02-05 07:55:09.465957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.466839"], ["updated_at", "2020-02-05 07:55:09.466839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.467714"], ["updated_at", "2020-02-05 07:55:09.467714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.468518"], ["updated_at", "2020-02-05 07:55:09.468518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:55:09.472927"], ["updated_at", "2020-02-05 07:55:09.472927"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:55:09.473949"], ["updated_at", "2020-02-05 07:55:09.473949"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:55:09.474762"], ["updated_at", "2020-02-05 07:55:09.474762"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:55:09.475434"], ["updated_at", "2020-02-05 07:55:09.475434"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:55:09.476230"], ["updated_at", "2020-02-05 07:55:09.476230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.477172"], ["updated_at", "2020-02-05 07:55:09.477172"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.477885"], ["updated_at", "2020-02-05 07:55:09.477885"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.478577"], ["updated_at", "2020-02-05 07:55:09.478577"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:55:09.479275"], ["updated_at", "2020-02-05 07:55:09.479275"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:55:09.479955"], ["updated_at", "2020-02-05 07:55:09.479955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:55:09.482460' and '2020-02-05 07:55:09.482469' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.485730"], ["updated_at", "2020-02-05 07:55:09.485730"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.487202"], ["updated_at", "2020-02-05 07:55:09.487202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.488088"], ["updated_at", "2020-02-05 07:55:09.488088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.488997"], ["updated_at", "2020-02-05 07:55:09.488997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.489897"], ["updated_at", "2020-02-05 07:55:09.489897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.490823"], ["updated_at", "2020-02-05 07:55:09.490823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.492946"], ["updated_at", "2020-02-05 07:55:09.492946"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.494236"], ["updated_at", "2020-02-05 07:55:09.494236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.495194"], ["updated_at", "2020-02-05 07:55:09.495194"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.496261"], ["updated_at", "2020-02-05 07:55:09.496261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.497161"], ["updated_at", "2020-02-05 07:55:09.497161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.498022"], ["updated_at", "2020-02-05 07:55:09.498022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.500046"], ["updated_at", "2020-02-05 07:55:09.500046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.501201"], ["updated_at", "2020-02-05 07:55:09.501201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.502076"], ["updated_at", "2020-02-05 07:55:09.502076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.503094"], ["updated_at", "2020-02-05 07:55:09.503094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.504042"], ["updated_at", "2020-02-05 07:55:09.504042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.504924"], ["updated_at", "2020-02-05 07:55:09.504924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.507041"], ["updated_at", "2020-02-05 07:55:09.507041"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.508463"], ["updated_at", "2020-02-05 07:55:09.508463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.509518"], ["updated_at", "2020-02-05 07:55:09.509518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.510401"], ["updated_at", "2020-02-05 07:55:09.510401"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.511314"], ["updated_at", "2020-02-05 07:55:09.511314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.512276"], ["updated_at", "2020-02-05 07:55:09.512276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.514307"], ["updated_at", "2020-02-05 07:55:09.514307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.515475"], ["updated_at", "2020-02-05 07:55:09.515475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.516304"], ["updated_at", "2020-02-05 07:55:09.516304"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.517156"], ["updated_at", "2020-02-05 07:55:09.517156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.518032"], ["updated_at", "2020-02-05 07:55:09.518032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.518930"], ["updated_at", "2020-02-05 07:55:09.518930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.520957"], ["updated_at", "2020-02-05 07:55:09.520957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.522191"], ["updated_at", "2020-02-05 07:55:09.522191"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.523103"], ["updated_at", "2020-02-05 07:55:09.523103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.523996"], ["updated_at", "2020-02-05 07:55:09.523996"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.524890"], ["updated_at", "2020-02-05 07:55:09.524890"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.525774"], ["updated_at", "2020-02-05 07:55:09.525774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.527915"], ["updated_at", "2020-02-05 07:55:09.527915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.529182"], ["updated_at", "2020-02-05 07:55:09.529182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.530195"], ["updated_at", "2020-02-05 07:55:09.530195"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.531180"], ["updated_at", "2020-02-05 07:55:09.531180"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.532085"], ["updated_at", "2020-02-05 07:55:09.532085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.532955"], ["updated_at", "2020-02-05 07:55:09.532955"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:55:09.534866"], ["updated_at", "2020-02-05 07:55:09.534866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:55:09.536031"], ["updated_at", "2020-02-05 07:55:09.536031"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:55:09.537031"], ["updated_at", "2020-02-05 07:55:09.537031"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:55:09.537998"], ["updated_at", "2020-02-05 07:55:09.537998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:55:09.538951"], ["updated_at", "2020-02-05 07:55:09.538951"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:55:09.539895"], ["updated_at", "2020-02-05 07:55:09.539895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:58:24.033993"], ["updated_at", "2020-02-05 07:58:24.033993"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:58:24.036087"], ["updated_at", "2020-02-05 07:58:24.036087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:58:24.036845"], ["updated_at", "2020-02-05 07:58:24.036845"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:58:24.037538"], ["updated_at", "2020-02-05 07:58:24.037538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:58:24.038215"], ["updated_at", "2020-02-05 07:58:24.038215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:58:24.038887"], ["updated_at", "2020-02-05 07:58:24.038887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 07:58:24.084531"], ["updated_at", "2020-02-05 07:58:24.084531"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 07:58:24.085637"], ["updated_at", "2020-02-05 07:58:24.085637"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 07:58:24.087043"], ["updated_at", "2020-02-05 07:58:24.087043"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:58:24.087984"], ["updated_at", "2020-02-05 07:58:24.087984"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:58:24.088511"], ["updated_at", "2020-02-05 07:58:24.088511"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 07:58:24.088883"], ["updated_at", "2020-02-05 07:58:24.088883"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:58:24.089775"], ["updated_at", "2020-02-05 07:58:24.089775"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 07:58:24.090130"], ["updated_at", "2020-02-05 07:58:24.090130"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 07:58:24.090616"], ["updated_at", "2020-02-05 07:58:24.090616"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:58:24.091118"], ["updated_at", "2020-02-05 07:58:24.091118"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 07:58:24.091462"], ["updated_at", "2020-02-05 07:58:24.091462"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:58:24.127111"], ["updated_at", "2020-02-05 07:58:24.127111"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:24.128182"], ["updated_at", "2020-02-05 07:58:24.128182"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:24.129322"], ["updated_at", "2020-02-05 07:58:24.129322"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.129798"], ["updated_at", "2020-02-05 07:58:24.129798"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.131231"], ["updated_at", "2020-02-05 07:58:24.131231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:24.131735"], ["updated_at", "2020-02-05 07:58:24.131735"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.132217"], ["updated_at", "2020-02-05 07:58:24.132217"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:58:24.134888"], ["updated_at", "2020-02-05 07:58:24.134888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:58:24.135723"], ["updated_at", "2020-02-05 07:58:24.135723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:58:24.136321"], ["updated_at", "2020-02-05 07:58:24.136321"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:58:24.136913"], ["updated_at", "2020-02-05 07:58:24.136913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:58:24.137501"], ["updated_at", "2020-02-05 07:58:24.137501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:58:24.138097"], ["updated_at", "2020-02-05 07:58:24.138097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:58:24.162723"], ["updated_at", "2020-02-05 07:58:24.162723"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:58:24.163506"], ["updated_at", "2020-02-05 07:58:24.163506"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:58:24.164617"], ["updated_at", "2020-02-05 07:58:24.164617"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:58:24.165148"], ["updated_at", "2020-02-05 07:58:24.165148"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:58:24.165771"], ["updated_at", "2020-02-05 07:58:24.165771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:24.166482"], ["updated_at", "2020-02-05 07:58:24.166482"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.167011"], ["updated_at", "2020-02-05 07:58:24.167011"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.167540"], ["updated_at", "2020-02-05 07:58:24.167540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:24.169164"], ["updated_at", "2020-02-05 07:58:24.169164"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:58:24.169734"], ["updated_at", "2020-02-05 07:58:24.169734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:58:24.177154' and '2020-02-05 07:58:24.177168' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:58:26.353257"], ["updated_at", "2020-02-05 07:58:26.353257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:58:26.354634"], ["updated_at", "2020-02-05 07:58:26.354634"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:58:26.355536"], ["updated_at", "2020-02-05 07:58:26.355536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:58:26.356338"], ["updated_at", "2020-02-05 07:58:26.356338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:58:26.357143"], ["updated_at", "2020-02-05 07:58:26.357143"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:58:26.357864"], ["updated_at", "2020-02-05 07:58:26.357864"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:58:26.359456"], ["updated_at", "2020-02-05 07:58:26.359456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:58:26.360359"], ["updated_at", "2020-02-05 07:58:26.360359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:58:26.361043"], ["updated_at", "2020-02-05 07:58:26.361043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:58:26.361724"], ["updated_at", "2020-02-05 07:58:26.361724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:58:26.362471"], ["updated_at", "2020-02-05 07:58:26.362471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:58:26.363203"], ["updated_at", "2020-02-05 07:58:26.363203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 07:58:26.367374"], ["updated_at", "2020-02-05 07:58:26.367374"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 07:58:26.368141"], ["updated_at", "2020-02-05 07:58:26.368141"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 07:58:26.368813"], ["updated_at", "2020-02-05 07:58:26.368813"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 07:58:26.369373"], ["updated_at", "2020-02-05 07:58:26.369373"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 07:58:26.370041"], ["updated_at", "2020-02-05 07:58:26.370041"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:26.370828"], ["updated_at", "2020-02-05 07:58:26.370828"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:26.371410"], ["updated_at", "2020-02-05 07:58:26.371410"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 07:58:26.372092"], ["updated_at", "2020-02-05 07:58:26.372092"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 07:58:26.372688"], ["updated_at", "2020-02-05 07:58:26.372688"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 07:58:26.373266"], ["updated_at", "2020-02-05 07:58:26.373266"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 07:58:26.375867' and '2020-02-05 07:58:26.375876' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.135825"], ["updated_at", "2020-02-05 07:59:59.135825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.137816"], ["updated_at", "2020-02-05 07:59:59.137816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.138543"], ["updated_at", "2020-02-05 07:59:59.138543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.139225"], ["updated_at", "2020-02-05 07:59:59.139225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.139899"], ["updated_at", "2020-02-05 07:59:59.139899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.140568"], ["updated_at", "2020-02-05 07:59:59.140568"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.141978"], ["updated_at", "2020-02-05 07:59:59.141978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.142860"], ["updated_at", "2020-02-05 07:59:59.142860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.143560"], ["updated_at", "2020-02-05 07:59:59.143560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.144235"], ["updated_at", "2020-02-05 07:59:59.144235"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.144900"], ["updated_at", "2020-02-05 07:59:59.144900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.145948"], ["updated_at", "2020-02-05 07:59:59.145948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.147678"], ["updated_at", "2020-02-05 07:59:59.147678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.148591"], ["updated_at", "2020-02-05 07:59:59.148591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.149301"], ["updated_at", "2020-02-05 07:59:59.149301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.149990"], ["updated_at", "2020-02-05 07:59:59.149990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.150696"], ["updated_at", "2020-02-05 07:59:59.150696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.151402"], ["updated_at", "2020-02-05 07:59:59.151402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.152951"], ["updated_at", "2020-02-05 07:59:59.152951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.154025"], ["updated_at", "2020-02-05 07:59:59.154025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.154727"], ["updated_at", "2020-02-05 07:59:59.154727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.166293"], ["updated_at", "2020-02-05 07:59:59.166293"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.167240"], ["updated_at", "2020-02-05 07:59:59.167240"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.167970"], ["updated_at", "2020-02-05 07:59:59.167970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.169577"], ["updated_at", "2020-02-05 07:59:59.169577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.170472"], ["updated_at", "2020-02-05 07:59:59.170472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.171218"], ["updated_at", "2020-02-05 07:59:59.171218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.171936"], ["updated_at", "2020-02-05 07:59:59.171936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.172688"], ["updated_at", "2020-02-05 07:59:59.172688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.173433"], ["updated_at", "2020-02-05 07:59:59.173433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.175324"], ["updated_at", "2020-02-05 07:59:59.175324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.176387"], ["updated_at", "2020-02-05 07:59:59.176387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.177164"], ["updated_at", "2020-02-05 07:59:59.177164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.177889"], ["updated_at", "2020-02-05 07:59:59.177889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.179021"], ["updated_at", "2020-02-05 07:59:59.179021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.180284"], ["updated_at", "2020-02-05 07:59:59.180284"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.182465"], ["updated_at", "2020-02-05 07:59:59.182465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.183505"], ["updated_at", "2020-02-05 07:59:59.183505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.184204"], ["updated_at", "2020-02-05 07:59:59.184204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.184885"], ["updated_at", "2020-02-05 07:59:59.184885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.185564"], ["updated_at", "2020-02-05 07:59:59.185564"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.186307"], ["updated_at", "2020-02-05 07:59:59.186307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 07:59:59.188095"], ["updated_at", "2020-02-05 07:59:59.188095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 07:59:59.189141"], ["updated_at", "2020-02-05 07:59:59.189141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 07:59:59.189856"], ["updated_at", "2020-02-05 07:59:59.189856"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 07:59:59.190533"], ["updated_at", "2020-02-05 07:59:59.190533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 07:59:59.191209"], ["updated_at", "2020-02-05 07:59:59.191209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 07:59:59.192066"], ["updated_at", "2020-02-05 07:59:59.192066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.311073"], ["updated_at", "2020-02-05 08:00:02.311073"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.313854"], ["updated_at", "2020-02-05 08:00:02.313854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.314641"], ["updated_at", "2020-02-05 08:00:02.314641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.315359"], ["updated_at", "2020-02-05 08:00:02.315359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.316077"], ["updated_at", "2020-02-05 08:00:02.316077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.316808"], ["updated_at", "2020-02-05 08:00:02.316808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 08:00:02.370853"], ["updated_at", "2020-02-05 08:00:02.370853"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 08:00:02.375952"], ["updated_at", "2020-02-05 08:00:02.375952"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 08:00:02.377514"], ["updated_at", "2020-02-05 08:00:02.377514"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:00:02.378821"], ["updated_at", "2020-02-05 08:00:02.378821"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.379372"], ["updated_at", "2020-02-05 08:00:02.379372"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 08:00:02.379755"], ["updated_at", "2020-02-05 08:00:02.379755"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.381130"], ["updated_at", "2020-02-05 08:00:02.381130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 08:00:02.381511"], ["updated_at", "2020-02-05 08:00:02.381511"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:00:02.382037"], ["updated_at", "2020-02-05 08:00:02.382037"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.382572"], ["updated_at", "2020-02-05 08:00:02.382572"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 08:00:02.382948"], ["updated_at", "2020-02-05 08:00:02.382948"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (4.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:00:02.435548"], ["updated_at", "2020-02-05 08:00:02.435548"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.440494"], ["updated_at", "2020-02-05 08:00:02.440494"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.442287"], ["updated_at", "2020-02-05 08:00:02.442287"]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.442815"], ["updated_at", "2020-02-05 08:00:02.442815"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.445289"], ["updated_at", "2020-02-05 08:00:02.445289"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.445869"], ["updated_at", "2020-02-05 08:00:02.445869"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.446372"], ["updated_at", "2020-02-05 08:00:02.446372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.449349"], ["updated_at", "2020-02-05 08:00:02.449349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.450173"], ["updated_at", "2020-02-05 08:00:02.450173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.450746"], ["updated_at", "2020-02-05 08:00:02.450746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.451665"], ["updated_at", "2020-02-05 08:00:02.451665"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.452487"], ["updated_at", "2020-02-05 08:00:02.452487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.453122"], ["updated_at", "2020-02-05 08:00:02.453122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:00:02.475641"], ["updated_at", "2020-02-05 08:00:02.475641"]]
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:00:02.476472"], ["updated_at", "2020-02-05 08:00:02.476472"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:00:02.480487"], ["updated_at", "2020-02-05 08:00:02.480487"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:00:02.481087"], ["updated_at", "2020-02-05 08:00:02.481087"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:00:02.481895"], ["updated_at", "2020-02-05 08:00:02.481895"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.482602"], ["updated_at", "2020-02-05 08:00:02.482602"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.483135"], ["updated_at", "2020-02-05 08:00:02.483135"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.483652"], ["updated_at", "2020-02-05 08:00:02.483652"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.484177"], ["updated_at", "2020-02-05 08:00:02.484177"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.484691"], ["updated_at", "2020-02-05 08:00:02.484691"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:00:02.491446' and '2020-02-05 08:00:02.491456' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.519420"], ["updated_at", "2020-02-05 08:00:02.519420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.520445"], ["updated_at", "2020-02-05 08:00:02.520445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.521104"], ["updated_at", "2020-02-05 08:00:02.521104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.521728"], ["updated_at", "2020-02-05 08:00:02.521728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.522354"], ["updated_at", "2020-02-05 08:00:02.522354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.522972"], ["updated_at", "2020-02-05 08:00:02.522972"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.524505"], ["updated_at", "2020-02-05 08:00:02.524505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.525340"], ["updated_at", "2020-02-05 08:00:02.525340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.526019"], ["updated_at", "2020-02-05 08:00:02.526019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.526654"], ["updated_at", "2020-02-05 08:00:02.526654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.527306"], ["updated_at", "2020-02-05 08:00:02.527306"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.527970"], ["updated_at", "2020-02-05 08:00:02.527970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:00:02.531626"], ["updated_at", "2020-02-05 08:00:02.531626"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:00:02.532317"], ["updated_at", "2020-02-05 08:00:02.532317"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:00:02.532927"], ["updated_at", "2020-02-05 08:00:02.532927"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:00:02.533435"], ["updated_at", "2020-02-05 08:00:02.533435"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:00:02.534057"], ["updated_at", "2020-02-05 08:00:02.534057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.534760"], ["updated_at", "2020-02-05 08:00:02.534760"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.535277"], ["updated_at", "2020-02-05 08:00:02.535277"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.535786"], ["updated_at", "2020-02-05 08:00:02.535786"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:00:02.536339"], ["updated_at", "2020-02-05 08:00:02.536339"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:00:02.536876"], ["updated_at", "2020-02-05 08:00:02.536876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:00:02.538875' and '2020-02-05 08:00:02.538882' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.541330"], ["updated_at", "2020-02-05 08:00:02.541330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.542280"], ["updated_at", "2020-02-05 08:00:02.542280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.542917"], ["updated_at", "2020-02-05 08:00:02.542917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.543536"], ["updated_at", "2020-02-05 08:00:02.543536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.544155"], ["updated_at", "2020-02-05 08:00:02.544155"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.544824"], ["updated_at", "2020-02-05 08:00:02.544824"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.547095"], ["updated_at", "2020-02-05 08:00:02.547095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.548129"], ["updated_at", "2020-02-05 08:00:02.548129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.548868"], ["updated_at", "2020-02-05 08:00:02.548868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.549566"], ["updated_at", "2020-02-05 08:00:02.549566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.550241"], ["updated_at", "2020-02-05 08:00:02.550241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.550971"], ["updated_at", "2020-02-05 08:00:02.550971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.555450"], ["updated_at", "2020-02-05 08:00:02.555450"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.556522"], ["updated_at", "2020-02-05 08:00:02.556522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.557216"], ["updated_at", "2020-02-05 08:00:02.557216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.557879"], ["updated_at", "2020-02-05 08:00:02.557879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.558633"], ["updated_at", "2020-02-05 08:00:02.558633"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.559437"], ["updated_at", "2020-02-05 08:00:02.559437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.561280"], ["updated_at", "2020-02-05 08:00:02.561280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.562350"], ["updated_at", "2020-02-05 08:00:02.562350"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.563131"], ["updated_at", "2020-02-05 08:00:02.563131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.563884"], ["updated_at", "2020-02-05 08:00:02.563884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.564885"], ["updated_at", "2020-02-05 08:00:02.564885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.565585"], ["updated_at", "2020-02-05 08:00:02.565585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.567239"], ["updated_at", "2020-02-05 08:00:02.567239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.568282"], ["updated_at", "2020-02-05 08:00:02.568282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.569074"], ["updated_at", "2020-02-05 08:00:02.569074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.569861"], ["updated_at", "2020-02-05 08:00:02.569861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.570686"], ["updated_at", "2020-02-05 08:00:02.570686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.571556"], ["updated_at", "2020-02-05 08:00:02.571556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.573277"], ["updated_at", "2020-02-05 08:00:02.573277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.574262"], ["updated_at", "2020-02-05 08:00:02.574262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.574924"], ["updated_at", "2020-02-05 08:00:02.574924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.575606"], ["updated_at", "2020-02-05 08:00:02.575606"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.576248"], ["updated_at", "2020-02-05 08:00:02.576248"]]
  [1m[35m (3.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.580828"], ["updated_at", "2020-02-05 08:00:02.580828"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.582714"], ["updated_at", "2020-02-05 08:00:02.582714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.583698"], ["updated_at", "2020-02-05 08:00:02.583698"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.584470"], ["updated_at", "2020-02-05 08:00:02.584470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.585159"], ["updated_at", "2020-02-05 08:00:02.585159"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.585878"], ["updated_at", "2020-02-05 08:00:02.585878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.586681"], ["updated_at", "2020-02-05 08:00:02.586681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:00:02.589128"], ["updated_at", "2020-02-05 08:00:02.589128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:00:02.590151"], ["updated_at", "2020-02-05 08:00:02.590151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:00:02.590862"], ["updated_at", "2020-02-05 08:00:02.590862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:00:02.591517"], ["updated_at", "2020-02-05 08:00:02.591517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:00:02.592162"], ["updated_at", "2020-02-05 08:00:02.592162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:00:02.592871"], ["updated_at", "2020-02-05 08:00:02.592871"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:31.454099"], ["updated_at", "2020-02-05 08:01:31.454099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:31.456879"], ["updated_at", "2020-02-05 08:01:31.456879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:31.457725"], ["updated_at", "2020-02-05 08:01:31.457725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:31.458445"], ["updated_at", "2020-02-05 08:01:31.458445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:31.459158"], ["updated_at", "2020-02-05 08:01:31.459158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:31.459867"], ["updated_at", "2020-02-05 08:01:31.459867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 08:01:31.506110"], ["updated_at", "2020-02-05 08:01:31.506110"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 08:01:31.507236"], ["updated_at", "2020-02-05 08:01:31.507236"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 08:01:31.508707"], ["updated_at", "2020-02-05 08:01:31.508707"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:01:31.509727"], ["updated_at", "2020-02-05 08:01:31.509727"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:31.510280"], ["updated_at", "2020-02-05 08:01:31.510280"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 08:01:31.510681"], ["updated_at", "2020-02-05 08:01:31.510681"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:31.511605"], ["updated_at", "2020-02-05 08:01:31.511605"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 08:01:31.511991"], ["updated_at", "2020-02-05 08:01:31.511991"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:01:31.512519"], ["updated_at", "2020-02-05 08:01:31.512519"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:31.513062"], ["updated_at", "2020-02-05 08:01:31.513062"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 08:01:31.513447"], ["updated_at", "2020-02-05 08:01:31.513447"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:01:31.552209"], ["updated_at", "2020-02-05 08:01:31.552209"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:31.553569"], ["updated_at", "2020-02-05 08:01:31.553569"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:31.554918"], ["updated_at", "2020-02-05 08:01:31.554918"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.555440"], ["updated_at", "2020-02-05 08:01:31.555440"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.557081"], ["updated_at", "2020-02-05 08:01:31.557081"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:31.557694"], ["updated_at", "2020-02-05 08:01:31.557694"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.558201"], ["updated_at", "2020-02-05 08:01:31.558201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:31.560971"], ["updated_at", "2020-02-05 08:01:31.560971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:31.561882"], ["updated_at", "2020-02-05 08:01:31.561882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:31.562533"], ["updated_at", "2020-02-05 08:01:31.562533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:31.563171"], ["updated_at", "2020-02-05 08:01:31.563171"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:31.563829"], ["updated_at", "2020-02-05 08:01:31.563829"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:31.564467"], ["updated_at", "2020-02-05 08:01:31.564467"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:01:31.587623"], ["updated_at", "2020-02-05 08:01:31.587623"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:01:31.588392"], ["updated_at", "2020-02-05 08:01:31.588392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:01:31.589667"], ["updated_at", "2020-02-05 08:01:31.589667"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:01:31.590327"], ["updated_at", "2020-02-05 08:01:31.590327"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:01:31.590983"], ["updated_at", "2020-02-05 08:01:31.590983"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:31.591793"], ["updated_at", "2020-02-05 08:01:31.591793"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.592320"], ["updated_at", "2020-02-05 08:01:31.592320"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.592854"], ["updated_at", "2020-02-05 08:01:31.592854"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:31.593383"], ["updated_at", "2020-02-05 08:01:31.593383"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:01:31.593894"], ["updated_at", "2020-02-05 08:01:31.593894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:01:31.599974' and '2020-02-05 08:01:31.599985' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:48.121551"], ["updated_at", "2020-02-05 08:01:48.121551"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:48.123021"], ["updated_at", "2020-02-05 08:01:48.123021"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:48.123805"], ["updated_at", "2020-02-05 08:01:48.123805"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:48.124514"], ["updated_at", "2020-02-05 08:01:48.124514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:48.125381"], ["updated_at", "2020-02-05 08:01:48.125381"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:48.126025"], ["updated_at", "2020-02-05 08:01:48.126025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:48.127728"], ["updated_at", "2020-02-05 08:01:48.127728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:48.129358"], ["updated_at", "2020-02-05 08:01:48.129358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:48.130111"], ["updated_at", "2020-02-05 08:01:48.130111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:48.130813"], ["updated_at", "2020-02-05 08:01:48.130813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:48.131679"], ["updated_at", "2020-02-05 08:01:48.131679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:48.132429"], ["updated_at", "2020-02-05 08:01:48.132429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:01:48.137950"], ["updated_at", "2020-02-05 08:01:48.137950"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:01:48.138918"], ["updated_at", "2020-02-05 08:01:48.138918"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:01:48.139616"], ["updated_at", "2020-02-05 08:01:48.139616"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:01:48.140212"], ["updated_at", "2020-02-05 08:01:48.140212"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:01:48.140925"], ["updated_at", "2020-02-05 08:01:48.140925"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:48.141814"], ["updated_at", "2020-02-05 08:01:48.141814"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:48.142559"], ["updated_at", "2020-02-05 08:01:48.142559"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:48.143263"], ["updated_at", "2020-02-05 08:01:48.143263"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:48.143944"], ["updated_at", "2020-02-05 08:01:48.143944"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:01:48.144655"], ["updated_at", "2020-02-05 08:01:48.144655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:01:48.147388' and '2020-02-05 08:01:48.147398' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.343329"], ["updated_at", "2020-02-05 08:01:50.343329"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.344449"], ["updated_at", "2020-02-05 08:01:50.344449"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.345141"], ["updated_at", "2020-02-05 08:01:50.345141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.345810"], ["updated_at", "2020-02-05 08:01:50.345810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.346469"], ["updated_at", "2020-02-05 08:01:50.346469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.347136"], ["updated_at", "2020-02-05 08:01:50.347136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.348535"], ["updated_at", "2020-02-05 08:01:50.348535"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.349380"], ["updated_at", "2020-02-05 08:01:50.349380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.350043"], ["updated_at", "2020-02-05 08:01:50.350043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.350709"], ["updated_at", "2020-02-05 08:01:50.350709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.351373"], ["updated_at", "2020-02-05 08:01:50.351373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.352038"], ["updated_at", "2020-02-05 08:01:50.352038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.353594"], ["updated_at", "2020-02-05 08:01:50.353594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.354464"], ["updated_at", "2020-02-05 08:01:50.354464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.355145"], ["updated_at", "2020-02-05 08:01:50.355145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.355822"], ["updated_at", "2020-02-05 08:01:50.355822"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.357794"], ["updated_at", "2020-02-05 08:01:50.357794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.358639"], ["updated_at", "2020-02-05 08:01:50.358639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.360552"], ["updated_at", "2020-02-05 08:01:50.360552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.361760"], ["updated_at", "2020-02-05 08:01:50.361760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.362529"], ["updated_at", "2020-02-05 08:01:50.362529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.363226"], ["updated_at", "2020-02-05 08:01:50.363226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.363910"], ["updated_at", "2020-02-05 08:01:50.363910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.364605"], ["updated_at", "2020-02-05 08:01:50.364605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.372173"], ["updated_at", "2020-02-05 08:01:50.372173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.373847"], ["updated_at", "2020-02-05 08:01:50.373847"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.378811"], ["updated_at", "2020-02-05 08:01:50.378811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.379751"], ["updated_at", "2020-02-05 08:01:50.379751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.380746"], ["updated_at", "2020-02-05 08:01:50.380746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.381864"], ["updated_at", "2020-02-05 08:01:50.381864"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.388094"], ["updated_at", "2020-02-05 08:01:50.388094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.389875"], ["updated_at", "2020-02-05 08:01:50.389875"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.391166"], ["updated_at", "2020-02-05 08:01:50.391166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.392172"], ["updated_at", "2020-02-05 08:01:50.392172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.393002"], ["updated_at", "2020-02-05 08:01:50.393002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.393804"], ["updated_at", "2020-02-05 08:01:50.393804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.398332"], ["updated_at", "2020-02-05 08:01:50.398332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.399727"], ["updated_at", "2020-02-05 08:01:50.399727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.400727"], ["updated_at", "2020-02-05 08:01:50.400727"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.402489"], ["updated_at", "2020-02-05 08:01:50.402489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.403552"], ["updated_at", "2020-02-05 08:01:50.403552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.404592"], ["updated_at", "2020-02-05 08:01:50.404592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:50.407114"], ["updated_at", "2020-02-05 08:01:50.407114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:50.408768"], ["updated_at", "2020-02-05 08:01:50.408768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:50.409762"], ["updated_at", "2020-02-05 08:01:50.409762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:50.410617"], ["updated_at", "2020-02-05 08:01:50.410617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:50.411464"], ["updated_at", "2020-02-05 08:01:50.411464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:50.412315"], ["updated_at", "2020-02-05 08:01:50.412315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:59.167660"], ["updated_at", "2020-02-05 08:01:59.167660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:59.170491"], ["updated_at", "2020-02-05 08:01:59.170491"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:59.172126"], ["updated_at", "2020-02-05 08:01:59.172126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:59.173517"], ["updated_at", "2020-02-05 08:01:59.173517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:59.175851"], ["updated_at", "2020-02-05 08:01:59.175851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:59.177156"], ["updated_at", "2020-02-05 08:01:59.177156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 08:01:59.232991"], ["updated_at", "2020-02-05 08:01:59.232991"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 08:01:59.234352"], ["updated_at", "2020-02-05 08:01:59.234352"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 08:01:59.235864"], ["updated_at", "2020-02-05 08:01:59.235864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:01:59.236952"], ["updated_at", "2020-02-05 08:01:59.236952"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:59.237539"], ["updated_at", "2020-02-05 08:01:59.237539"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 08:01:59.237947"], ["updated_at", "2020-02-05 08:01:59.237947"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:59.239023"], ["updated_at", "2020-02-05 08:01:59.239023"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 08:01:59.239433"], ["updated_at", "2020-02-05 08:01:59.239433"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:01:59.240028"], ["updated_at", "2020-02-05 08:01:59.240028"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:59.240576"], ["updated_at", "2020-02-05 08:01:59.240576"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 08:01:59.240959"], ["updated_at", "2020-02-05 08:01:59.240959"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:01:59.280626"], ["updated_at", "2020-02-05 08:01:59.280626"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:59.281871"], ["updated_at", "2020-02-05 08:01:59.281871"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:59.283116"], ["updated_at", "2020-02-05 08:01:59.283116"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.283644"], ["updated_at", "2020-02-05 08:01:59.283644"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.285339"], ["updated_at", "2020-02-05 08:01:59.285339"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:59.285888"], ["updated_at", "2020-02-05 08:01:59.285888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.286415"], ["updated_at", "2020-02-05 08:01:59.286415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:01:59.289229"], ["updated_at", "2020-02-05 08:01:59.289229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:01:59.290123"], ["updated_at", "2020-02-05 08:01:59.290123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:01:59.290760"], ["updated_at", "2020-02-05 08:01:59.290760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:01:59.291403"], ["updated_at", "2020-02-05 08:01:59.291403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:01:59.292002"], ["updated_at", "2020-02-05 08:01:59.292002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:01:59.292600"], ["updated_at", "2020-02-05 08:01:59.292600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:01:59.304274"], ["updated_at", "2020-02-05 08:01:59.304274"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:01:59.305005"], ["updated_at", "2020-02-05 08:01:59.305005"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:01:59.306190"], ["updated_at", "2020-02-05 08:01:59.306190"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:01:59.306733"], ["updated_at", "2020-02-05 08:01:59.306733"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:01:59.307630"], ["updated_at", "2020-02-05 08:01:59.307630"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:59.308349"], ["updated_at", "2020-02-05 08:01:59.308349"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.308889"], ["updated_at", "2020-02-05 08:01:59.308889"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.309429"], ["updated_at", "2020-02-05 08:01:59.309429"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:01:59.309971"], ["updated_at", "2020-02-05 08:01:59.309971"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:01:59.310504"], ["updated_at", "2020-02-05 08:01:59.310504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:01:59.316752' and '2020-02-05 08:01:59.316763' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.5ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:02:13.578108"], ["updated_at", "2020-02-05 08:02:13.578108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:02:13.579285"], ["updated_at", "2020-02-05 08:02:13.579285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:02:13.579975"], ["updated_at", "2020-02-05 08:02:13.579975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:02:13.580642"], ["updated_at", "2020-02-05 08:02:13.580642"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:02:13.581314"], ["updated_at", "2020-02-05 08:02:13.581314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:02:13.581977"], ["updated_at", "2020-02-05 08:02:13.581977"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:02:13.583476"], ["updated_at", "2020-02-05 08:02:13.583476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:02:13.584457"], ["updated_at", "2020-02-05 08:02:13.584457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:02:13.585223"], ["updated_at", "2020-02-05 08:02:13.585223"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:02:13.585968"], ["updated_at", "2020-02-05 08:02:13.585968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:02:13.586653"], ["updated_at", "2020-02-05 08:02:13.586653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:02:13.587315"], ["updated_at", "2020-02-05 08:02:13.587315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:02:13.591409"], ["updated_at", "2020-02-05 08:02:13.591409"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:02:13.592165"], ["updated_at", "2020-02-05 08:02:13.592165"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:02:13.592770"], ["updated_at", "2020-02-05 08:02:13.592770"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:02:13.593304"], ["updated_at", "2020-02-05 08:02:13.593304"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:02:13.593953"], ["updated_at", "2020-02-05 08:02:13.593953"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:02:13.594687"], ["updated_at", "2020-02-05 08:02:13.594687"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:02:13.595246"], ["updated_at", "2020-02-05 08:02:13.595246"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:02:13.595781"], ["updated_at", "2020-02-05 08:02:13.595781"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:02:13.596348"], ["updated_at", "2020-02-05 08:02:13.596348"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:02:13.597014"], ["updated_at", "2020-02-05 08:02:13.597014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:02:13.599283' and '2020-02-05 08:02:13.599291' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.766639"], ["updated_at", "2020-02-05 08:03:13.766639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.767732"], ["updated_at", "2020-02-05 08:03:13.767732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.768412"], ["updated_at", "2020-02-05 08:03:13.768412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.769089"], ["updated_at", "2020-02-05 08:03:13.769089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.769750"], ["updated_at", "2020-02-05 08:03:13.769750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.770410"], ["updated_at", "2020-02-05 08:03:13.770410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.771839"], ["updated_at", "2020-02-05 08:03:13.771839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.772694"], ["updated_at", "2020-02-05 08:03:13.772694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.773354"], ["updated_at", "2020-02-05 08:03:13.773354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.774014"], ["updated_at", "2020-02-05 08:03:13.774014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.774669"], ["updated_at", "2020-02-05 08:03:13.774669"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.775363"], ["updated_at", "2020-02-05 08:03:13.775363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.776857"], ["updated_at", "2020-02-05 08:03:13.776857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.777745"], ["updated_at", "2020-02-05 08:03:13.777745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.778427"], ["updated_at", "2020-02-05 08:03:13.778427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.779164"], ["updated_at", "2020-02-05 08:03:13.779164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.785786"], ["updated_at", "2020-02-05 08:03:13.785786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.786860"], ["updated_at", "2020-02-05 08:03:13.786860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.788689"], ["updated_at", "2020-02-05 08:03:13.788689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.789689"], ["updated_at", "2020-02-05 08:03:13.789689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.790437"], ["updated_at", "2020-02-05 08:03:13.790437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.791162"], ["updated_at", "2020-02-05 08:03:13.791162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.791913"], ["updated_at", "2020-02-05 08:03:13.791913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.792611"], ["updated_at", "2020-02-05 08:03:13.792611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.794086"], ["updated_at", "2020-02-05 08:03:13.794086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.794962"], ["updated_at", "2020-02-05 08:03:13.794962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.795635"], ["updated_at", "2020-02-05 08:03:13.795635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.796298"], ["updated_at", "2020-02-05 08:03:13.796298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.796965"], ["updated_at", "2020-02-05 08:03:13.796965"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.797631"], ["updated_at", "2020-02-05 08:03:13.797631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.799360"], ["updated_at", "2020-02-05 08:03:13.799360"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.800457"], ["updated_at", "2020-02-05 08:03:13.800457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.801179"], ["updated_at", "2020-02-05 08:03:13.801179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.801886"], ["updated_at", "2020-02-05 08:03:13.801886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.802589"], ["updated_at", "2020-02-05 08:03:13.802589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.803261"], ["updated_at", "2020-02-05 08:03:13.803261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.804902"], ["updated_at", "2020-02-05 08:03:13.804902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.805744"], ["updated_at", "2020-02-05 08:03:13.805744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.806387"], ["updated_at", "2020-02-05 08:03:13.806387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.807028"], ["updated_at", "2020-02-05 08:03:13.807028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.807663"], ["updated_at", "2020-02-05 08:03:13.807663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.808304"], ["updated_at", "2020-02-05 08:03:13.808304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:03:13.809922"], ["updated_at", "2020-02-05 08:03:13.809922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:03:13.810962"], ["updated_at", "2020-02-05 08:03:13.810962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:03:13.811696"], ["updated_at", "2020-02-05 08:03:13.811696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:03:13.812365"], ["updated_at", "2020-02-05 08:03:13.812365"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:03:13.813043"], ["updated_at", "2020-02-05 08:03:13.813043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:03:13.813695"], ["updated_at", "2020-02-05 08:03:13.813695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:04:00.317585"], ["updated_at", "2020-02-05 08:04:00.317585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:04:00.320230"], ["updated_at", "2020-02-05 08:04:00.320230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:04:00.321270"], ["updated_at", "2020-02-05 08:04:00.321270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:04:00.322253"], ["updated_at", "2020-02-05 08:04:00.322253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:04:00.323178"], ["updated_at", "2020-02-05 08:04:00.323178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:04:00.324098"], ["updated_at", "2020-02-05 08:04:00.324098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 08:04:00.378640"], ["updated_at", "2020-02-05 08:04:00.378640"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 08:04:00.379934"], ["updated_at", "2020-02-05 08:04:00.379934"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 08:04:00.381493"], ["updated_at", "2020-02-05 08:04:00.381493"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:04:00.382671"], ["updated_at", "2020-02-05 08:04:00.382671"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:04:00.383396"], ["updated_at", "2020-02-05 08:04:00.383396"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 08:04:00.383908"], ["updated_at", "2020-02-05 08:04:00.383908"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:04:00.385099"], ["updated_at", "2020-02-05 08:04:00.385099"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 08:04:00.385620"], ["updated_at", "2020-02-05 08:04:00.385620"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:04:00.386327"], ["updated_at", "2020-02-05 08:04:00.386327"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:04:00.387053"], ["updated_at", "2020-02-05 08:04:00.387053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 08:04:00.387538"], ["updated_at", "2020-02-05 08:04:00.387538"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:04:00.434000"], ["updated_at", "2020-02-05 08:04:00.434000"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:04:00.435567"], ["updated_at", "2020-02-05 08:04:00.435567"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:04:00.436925"], ["updated_at", "2020-02-05 08:04:00.436925"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.437584"], ["updated_at", "2020-02-05 08:04:00.437584"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.439486"], ["updated_at", "2020-02-05 08:04:00.439486"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:04:00.440182"], ["updated_at", "2020-02-05 08:04:00.440182"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.440838"], ["updated_at", "2020-02-05 08:04:00.440838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:04:00.444227"], ["updated_at", "2020-02-05 08:04:00.444227"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:04:00.445376"], ["updated_at", "2020-02-05 08:04:00.445376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:04:00.446206"], ["updated_at", "2020-02-05 08:04:00.446206"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:04:00.447040"], ["updated_at", "2020-02-05 08:04:00.447040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:04:00.447849"], ["updated_at", "2020-02-05 08:04:00.447849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:04:00.448687"], ["updated_at", "2020-02-05 08:04:00.448687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:04:00.463323"], ["updated_at", "2020-02-05 08:04:00.463323"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:04:00.464276"], ["updated_at", "2020-02-05 08:04:00.464276"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:04:00.465532"], ["updated_at", "2020-02-05 08:04:00.465532"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:04:00.466191"], ["updated_at", "2020-02-05 08:04:00.466191"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:04:00.466987"], ["updated_at", "2020-02-05 08:04:00.466987"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:04:00.467882"], ["updated_at", "2020-02-05 08:04:00.467882"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.468548"], ["updated_at", "2020-02-05 08:04:00.468548"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.481955"], ["updated_at", "2020-02-05 08:04:00.481955"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:04:00.482795"], ["updated_at", "2020-02-05 08:04:00.482795"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:04:00.483509"], ["updated_at", "2020-02-05 08:04:00.483509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:04:00.491524' and '2020-02-05 08:04:00.491557' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.8ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:13.522156"], ["updated_at", "2020-02-05 08:08:13.522156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:13.528566"], ["updated_at", "2020-02-05 08:08:13.528566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:13.529673"], ["updated_at", "2020-02-05 08:08:13.529673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:13.530609"], ["updated_at", "2020-02-05 08:08:13.530609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:13.531525"], ["updated_at", "2020-02-05 08:08:13.531525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:13.532468"], ["updated_at", "2020-02-05 08:08:13.532468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:13.536852"], ["updated_at", "2020-02-05 08:08:13.536852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:13.538217"], ["updated_at", "2020-02-05 08:08:13.538217"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:13.539114"], ["updated_at", "2020-02-05 08:08:13.539114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:13.539973"], ["updated_at", "2020-02-05 08:08:13.539973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:13.540870"], ["updated_at", "2020-02-05 08:08:13.540870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:13.541707"], ["updated_at", "2020-02-05 08:08:13.541707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:08:13.555026"], ["updated_at", "2020-02-05 08:08:13.555026"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:08:13.556601"], ["updated_at", "2020-02-05 08:08:13.556601"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:08:13.557529"], ["updated_at", "2020-02-05 08:08:13.557529"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:08:13.558209"], ["updated_at", "2020-02-05 08:08:13.558209"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:08:13.559329"], ["updated_at", "2020-02-05 08:08:13.559329"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:13.560264"], ["updated_at", "2020-02-05 08:08:13.560264"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:13.560918"], ["updated_at", "2020-02-05 08:08:13.560918"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:13.561540"], ["updated_at", "2020-02-05 08:08:13.561540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:13.562212"], ["updated_at", "2020-02-05 08:08:13.562212"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:08:13.562860"], ["updated_at", "2020-02-05 08:08:13.562860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:08:13.567721' and '2020-02-05 08:08:13.567734' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.202493"], ["updated_at", "2020-02-05 08:08:15.202493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.203569"], ["updated_at", "2020-02-05 08:08:15.203569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.204293"], ["updated_at", "2020-02-05 08:08:15.204293"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.204983"], ["updated_at", "2020-02-05 08:08:15.204983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.205708"], ["updated_at", "2020-02-05 08:08:15.205708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.206408"], ["updated_at", "2020-02-05 08:08:15.206408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.207824"], ["updated_at", "2020-02-05 08:08:15.207824"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.208696"], ["updated_at", "2020-02-05 08:08:15.208696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.209406"], ["updated_at", "2020-02-05 08:08:15.209406"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.210113"], ["updated_at", "2020-02-05 08:08:15.210113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.210800"], ["updated_at", "2020-02-05 08:08:15.210800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.211539"], ["updated_at", "2020-02-05 08:08:15.211539"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.213495"], ["updated_at", "2020-02-05 08:08:15.213495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.214441"], ["updated_at", "2020-02-05 08:08:15.214441"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.215195"], ["updated_at", "2020-02-05 08:08:15.215195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.215909"], ["updated_at", "2020-02-05 08:08:15.215909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.216646"], ["updated_at", "2020-02-05 08:08:15.216646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.217357"], ["updated_at", "2020-02-05 08:08:15.217357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.219350"], ["updated_at", "2020-02-05 08:08:15.219350"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.220336"], ["updated_at", "2020-02-05 08:08:15.220336"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.221057"], ["updated_at", "2020-02-05 08:08:15.221057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.221766"], ["updated_at", "2020-02-05 08:08:15.221766"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.222560"], ["updated_at", "2020-02-05 08:08:15.222560"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.223929"], ["updated_at", "2020-02-05 08:08:15.223929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.225845"], ["updated_at", "2020-02-05 08:08:15.225845"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.226896"], ["updated_at", "2020-02-05 08:08:15.226896"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.227626"], ["updated_at", "2020-02-05 08:08:15.227626"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.228324"], ["updated_at", "2020-02-05 08:08:15.228324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.229033"], ["updated_at", "2020-02-05 08:08:15.229033"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.229735"], ["updated_at", "2020-02-05 08:08:15.229735"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.231245"], ["updated_at", "2020-02-05 08:08:15.231245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.232178"], ["updated_at", "2020-02-05 08:08:15.232178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.232874"], ["updated_at", "2020-02-05 08:08:15.232874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.233710"], ["updated_at", "2020-02-05 08:08:15.233710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.234415"], ["updated_at", "2020-02-05 08:08:15.234415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.235085"], ["updated_at", "2020-02-05 08:08:15.235085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.237071"], ["updated_at", "2020-02-05 08:08:15.237071"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.237959"], ["updated_at", "2020-02-05 08:08:15.237959"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.238662"], ["updated_at", "2020-02-05 08:08:15.238662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.239361"], ["updated_at", "2020-02-05 08:08:15.239361"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.240037"], ["updated_at", "2020-02-05 08:08:15.240037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.240728"], ["updated_at", "2020-02-05 08:08:15.240728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:15.242106"], ["updated_at", "2020-02-05 08:08:15.242106"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:15.242981"], ["updated_at", "2020-02-05 08:08:15.242981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:15.243684"], ["updated_at", "2020-02-05 08:08:15.243684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:15.244593"], ["updated_at", "2020-02-05 08:08:15.244593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:15.245300"], ["updated_at", "2020-02-05 08:08:15.245300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:15.246012"], ["updated_at", "2020-02-05 08:08:15.246012"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:31.426407"], ["updated_at", "2020-02-05 08:08:31.426407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:31.430318"], ["updated_at", "2020-02-05 08:08:31.430318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:31.432001"], ["updated_at", "2020-02-05 08:08:31.432001"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:31.433590"], ["updated_at", "2020-02-05 08:08:31.433590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:31.435890"], ["updated_at", "2020-02-05 08:08:31.435890"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:31.437554"], ["updated_at", "2020-02-05 08:08:31.437554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 08:08:31.498851"], ["updated_at", "2020-02-05 08:08:31.498851"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 08:08:31.499991"], ["updated_at", "2020-02-05 08:08:31.499991"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 08:08:31.501560"], ["updated_at", "2020-02-05 08:08:31.501560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:08:31.502940"], ["updated_at", "2020-02-05 08:08:31.502940"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:31.503554"], ["updated_at", "2020-02-05 08:08:31.503554"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 08:08:31.503970"], ["updated_at", "2020-02-05 08:08:31.503970"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:31.505200"], ["updated_at", "2020-02-05 08:08:31.505200"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 08:08:31.505726"], ["updated_at", "2020-02-05 08:08:31.505726"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 08:08:31.506371"], ["updated_at", "2020-02-05 08:08:31.506371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:31.507034"], ["updated_at", "2020-02-05 08:08:31.507034"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 08:08:31.507454"], ["updated_at", "2020-02-05 08:08:31.507454"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:08:31.550332"], ["updated_at", "2020-02-05 08:08:31.550332"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:31.551596"], ["updated_at", "2020-02-05 08:08:31.551596"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:31.552833"], ["updated_at", "2020-02-05 08:08:31.552833"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.553370"], ["updated_at", "2020-02-05 08:08:31.553370"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.555090"], ["updated_at", "2020-02-05 08:08:31.555090"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:31.555740"], ["updated_at", "2020-02-05 08:08:31.555740"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.556367"], ["updated_at", "2020-02-05 08:08:31.556367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:31.559337"], ["updated_at", "2020-02-05 08:08:31.559337"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:31.560263"], ["updated_at", "2020-02-05 08:08:31.560263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:31.560935"], ["updated_at", "2020-02-05 08:08:31.560935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:31.561590"], ["updated_at", "2020-02-05 08:08:31.561590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:31.562234"], ["updated_at", "2020-02-05 08:08:31.562234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:31.562917"], ["updated_at", "2020-02-05 08:08:31.562917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:08:31.575191"], ["updated_at", "2020-02-05 08:08:31.575191"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:08:31.575933"], ["updated_at", "2020-02-05 08:08:31.575933"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:08:31.577016"], ["updated_at", "2020-02-05 08:08:31.577016"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:08:31.577556"], ["updated_at", "2020-02-05 08:08:31.577556"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:08:31.578189"], ["updated_at", "2020-02-05 08:08:31.578189"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:31.578915"], ["updated_at", "2020-02-05 08:08:31.578915"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.579462"], ["updated_at", "2020-02-05 08:08:31.579462"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.579998"], ["updated_at", "2020-02-05 08:08:31.579998"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:31.580541"], ["updated_at", "2020-02-05 08:08:31.580541"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:08:31.581083"], ["updated_at", "2020-02-05 08:08:31.581083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:08:31.587399' and '2020-02-05 08:08:31.587408' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.727281"], ["updated_at", "2020-02-05 08:08:39.727281"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.728647"], ["updated_at", "2020-02-05 08:08:39.728647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.729347"], ["updated_at", "2020-02-05 08:08:39.729347"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.730019"], ["updated_at", "2020-02-05 08:08:39.730019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.730690"], ["updated_at", "2020-02-05 08:08:39.730690"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.731365"], ["updated_at", "2020-02-05 08:08:39.731365"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.732813"], ["updated_at", "2020-02-05 08:08:39.732813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.733692"], ["updated_at", "2020-02-05 08:08:39.733692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.734385"], ["updated_at", "2020-02-05 08:08:39.734385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.735068"], ["updated_at", "2020-02-05 08:08:39.735068"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.736464"], ["updated_at", "2020-02-05 08:08:39.736464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.737221"], ["updated_at", "2020-02-05 08:08:39.737221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 08:08:39.741561"], ["updated_at", "2020-02-05 08:08:39.741561"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 08:08:39.742496"], ["updated_at", "2020-02-05 08:08:39.742496"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 08:08:39.743172"], ["updated_at", "2020-02-05 08:08:39.743172"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 08:08:39.743754"], ["updated_at", "2020-02-05 08:08:39.743754"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 08:08:39.744465"], ["updated_at", "2020-02-05 08:08:39.744465"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:39.745237"], ["updated_at", "2020-02-05 08:08:39.745237"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:39.745808"], ["updated_at", "2020-02-05 08:08:39.745808"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 08:08:39.746366"], ["updated_at", "2020-02-05 08:08:39.746366"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 08:08:39.746937"], ["updated_at", "2020-02-05 08:08:39.746937"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 08:08:39.747487"], ["updated_at", "2020-02-05 08:08:39.747487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 08:08:39.749734' and '2020-02-05 08:08:39.749742' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.752502"], ["updated_at", "2020-02-05 08:08:39.752502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.753781"], ["updated_at", "2020-02-05 08:08:39.753781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.754505"], ["updated_at", "2020-02-05 08:08:39.754505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.755308"], ["updated_at", "2020-02-05 08:08:39.755308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.756137"], ["updated_at", "2020-02-05 08:08:39.756137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.757252"], ["updated_at", "2020-02-05 08:08:39.757252"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.759555"], ["updated_at", "2020-02-05 08:08:39.759555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.760665"], ["updated_at", "2020-02-05 08:08:39.760665"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.761377"], ["updated_at", "2020-02-05 08:08:39.761377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.762058"], ["updated_at", "2020-02-05 08:08:39.762058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.763480"], ["updated_at", "2020-02-05 08:08:39.763480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.764242"], ["updated_at", "2020-02-05 08:08:39.764242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.765894"], ["updated_at", "2020-02-05 08:08:39.765894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.766797"], ["updated_at", "2020-02-05 08:08:39.766797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.768058"], ["updated_at", "2020-02-05 08:08:39.768058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.768738"], ["updated_at", "2020-02-05 08:08:39.768738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.769411"], ["updated_at", "2020-02-05 08:08:39.769411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.770086"], ["updated_at", "2020-02-05 08:08:39.770086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.771463"], ["updated_at", "2020-02-05 08:08:39.771463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.772330"], ["updated_at", "2020-02-05 08:08:39.772330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.773007"], ["updated_at", "2020-02-05 08:08:39.773007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.773683"], ["updated_at", "2020-02-05 08:08:39.773683"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.774362"], ["updated_at", "2020-02-05 08:08:39.774362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.775036"], ["updated_at", "2020-02-05 08:08:39.775036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.776747"], ["updated_at", "2020-02-05 08:08:39.776747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.777760"], ["updated_at", "2020-02-05 08:08:39.777760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.778524"], ["updated_at", "2020-02-05 08:08:39.778524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.779294"], ["updated_at", "2020-02-05 08:08:39.779294"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.779995"], ["updated_at", "2020-02-05 08:08:39.779995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.780673"], ["updated_at", "2020-02-05 08:08:39.780673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.782198"], ["updated_at", "2020-02-05 08:08:39.782198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.783064"], ["updated_at", "2020-02-05 08:08:39.783064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.783741"], ["updated_at", "2020-02-05 08:08:39.783741"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.784430"], ["updated_at", "2020-02-05 08:08:39.784430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.785122"], ["updated_at", "2020-02-05 08:08:39.785122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.785907"], ["updated_at", "2020-02-05 08:08:39.785907"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.787476"], ["updated_at", "2020-02-05 08:08:39.787476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.788355"], ["updated_at", "2020-02-05 08:08:39.788355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.789052"], ["updated_at", "2020-02-05 08:08:39.789052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.789735"], ["updated_at", "2020-02-05 08:08:39.789735"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.790410"], ["updated_at", "2020-02-05 08:08:39.790410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.791085"], ["updated_at", "2020-02-05 08:08:39.791085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 08:08:39.792493"], ["updated_at", "2020-02-05 08:08:39.792493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 08:08:39.793369"], ["updated_at", "2020-02-05 08:08:39.793369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 08:08:39.794047"], ["updated_at", "2020-02-05 08:08:39.794047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 08:08:39.794721"], ["updated_at", "2020-02-05 08:08:39.794721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 08:08:39.795503"], ["updated_at", "2020-02-05 08:08:39.795503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 08:08:39.796215"], ["updated_at", "2020-02-05 08:08:39.796215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:44.376544"], ["updated_at", "2020-02-05 09:30:44.376544"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:44.378814"], ["updated_at", "2020-02-05 09:30:44.378814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:44.379657"], ["updated_at", "2020-02-05 09:30:44.379657"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:44.380244"], ["updated_at", "2020-02-05 09:30:44.380244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:44.380903"], ["updated_at", "2020-02-05 09:30:44.380903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:44.381527"], ["updated_at", "2020-02-05 09:30:44.381527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:30:44.431314"], ["updated_at", "2020-02-05 09:30:44.431314"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:30:44.432373"], ["updated_at", "2020-02-05 09:30:44.432373"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:30:44.433864"], ["updated_at", "2020-02-05 09:30:44.433864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:30:44.435077"], ["updated_at", "2020-02-05 09:30:44.435077"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:44.435665"], ["updated_at", "2020-02-05 09:30:44.435665"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:30:44.436082"], ["updated_at", "2020-02-05 09:30:44.436082"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:44.436989"], ["updated_at", "2020-02-05 09:30:44.436989"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:30:44.437376"], ["updated_at", "2020-02-05 09:30:44.437376"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:30:44.437898"], ["updated_at", "2020-02-05 09:30:44.437898"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:44.438429"], ["updated_at", "2020-02-05 09:30:44.438429"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:30:44.438804"], ["updated_at", "2020-02-05 09:30:44.438804"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:30:44.478910"], ["updated_at", "2020-02-05 09:30:44.478910"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:44.480180"], ["updated_at", "2020-02-05 09:30:44.480180"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:44.481492"], ["updated_at", "2020-02-05 09:30:44.481492"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.482027"], ["updated_at", "2020-02-05 09:30:44.482027"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.483724"], ["updated_at", "2020-02-05 09:30:44.483724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:44.484271"], ["updated_at", "2020-02-05 09:30:44.484271"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.484800"], ["updated_at", "2020-02-05 09:30:44.484800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:44.487739"], ["updated_at", "2020-02-05 09:30:44.487739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:44.488728"], ["updated_at", "2020-02-05 09:30:44.488728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:44.489427"], ["updated_at", "2020-02-05 09:30:44.489427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:44.490096"], ["updated_at", "2020-02-05 09:30:44.490096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:44.490746"], ["updated_at", "2020-02-05 09:30:44.490746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:44.491417"], ["updated_at", "2020-02-05 09:30:44.491417"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (10.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:30:44.514318"], ["updated_at", "2020-02-05 09:30:44.514318"]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:30:44.515210"], ["updated_at", "2020-02-05 09:30:44.515210"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:30:44.518084"], ["updated_at", "2020-02-05 09:30:44.518084"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:30:44.518704"], ["updated_at", "2020-02-05 09:30:44.518704"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:30:44.519370"], ["updated_at", "2020-02-05 09:30:44.519370"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:44.520181"], ["updated_at", "2020-02-05 09:30:44.520181"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.520708"], ["updated_at", "2020-02-05 09:30:44.520708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.521206"], ["updated_at", "2020-02-05 09:30:44.521206"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:44.521807"], ["updated_at", "2020-02-05 09:30:44.521807"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:30:44.522355"], ["updated_at", "2020-02-05 09:30:44.522355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:30:44.528630' and '2020-02-05 09:30:44.528639' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:54.978588"], ["updated_at", "2020-02-05 09:30:54.978588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:54.980101"], ["updated_at", "2020-02-05 09:30:54.980101"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:54.980858"], ["updated_at", "2020-02-05 09:30:54.980858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:54.981552"], ["updated_at", "2020-02-05 09:30:54.981552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:54.982246"], ["updated_at", "2020-02-05 09:30:54.982246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:54.982936"], ["updated_at", "2020-02-05 09:30:54.982936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:54.986688"], ["updated_at", "2020-02-05 09:30:54.986688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:54.987745"], ["updated_at", "2020-02-05 09:30:54.987745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:54.988466"], ["updated_at", "2020-02-05 09:30:54.988466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:54.989147"], ["updated_at", "2020-02-05 09:30:54.989147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:54.989807"], ["updated_at", "2020-02-05 09:30:54.989807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:54.990465"], ["updated_at", "2020-02-05 09:30:54.990465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:30:54.996405"], ["updated_at", "2020-02-05 09:30:54.996405"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:30:54.997383"], ["updated_at", "2020-02-05 09:30:54.997383"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:30:54.998217"], ["updated_at", "2020-02-05 09:30:54.998217"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:30:54.998841"], ["updated_at", "2020-02-05 09:30:54.998841"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:30:54.999552"], ["updated_at", "2020-02-05 09:30:54.999552"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:55.000765"], ["updated_at", "2020-02-05 09:30:55.000765"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:55.001360"], ["updated_at", "2020-02-05 09:30:55.001360"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:30:55.002075"], ["updated_at", "2020-02-05 09:30:55.002075"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:30:55.002688"], ["updated_at", "2020-02-05 09:30:55.002688"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:30:55.003846"], ["updated_at", "2020-02-05 09:30:55.003846"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:30:55.006593' and '2020-02-05 09:30:55.006605' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.009318"], ["updated_at", "2020-02-05 09:30:55.009318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.010307"], ["updated_at", "2020-02-05 09:30:55.010307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.011025"], ["updated_at", "2020-02-05 09:30:55.011025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.011704"], ["updated_at", "2020-02-05 09:30:55.011704"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.012382"], ["updated_at", "2020-02-05 09:30:55.012382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.013057"], ["updated_at", "2020-02-05 09:30:55.013057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.014948"], ["updated_at", "2020-02-05 09:30:55.014948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.015844"], ["updated_at", "2020-02-05 09:30:55.015844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.016754"], ["updated_at", "2020-02-05 09:30:55.016754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.017505"], ["updated_at", "2020-02-05 09:30:55.017505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.018220"], ["updated_at", "2020-02-05 09:30:55.018220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.019620"], ["updated_at", "2020-02-05 09:30:55.019620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.021341"], ["updated_at", "2020-02-05 09:30:55.021341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.022274"], ["updated_at", "2020-02-05 09:30:55.022274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.022991"], ["updated_at", "2020-02-05 09:30:55.022991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.023676"], ["updated_at", "2020-02-05 09:30:55.023676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.024382"], ["updated_at", "2020-02-05 09:30:55.024382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.025052"], ["updated_at", "2020-02-05 09:30:55.025052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.027693"], ["updated_at", "2020-02-05 09:30:55.027693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.028947"], ["updated_at", "2020-02-05 09:30:55.028947"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.029791"], ["updated_at", "2020-02-05 09:30:55.029791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.030586"], ["updated_at", "2020-02-05 09:30:55.030586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.031363"], ["updated_at", "2020-02-05 09:30:55.031363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.032081"], ["updated_at", "2020-02-05 09:30:55.032081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.034524"], ["updated_at", "2020-02-05 09:30:55.034524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.036345"], ["updated_at", "2020-02-05 09:30:55.036345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.038133"], ["updated_at", "2020-02-05 09:30:55.038133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.038940"], ["updated_at", "2020-02-05 09:30:55.038940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.039645"], ["updated_at", "2020-02-05 09:30:55.039645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.040325"], ["updated_at", "2020-02-05 09:30:55.040325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.042508"], ["updated_at", "2020-02-05 09:30:55.042508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.043529"], ["updated_at", "2020-02-05 09:30:55.043529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.044781"], ["updated_at", "2020-02-05 09:30:55.044781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.045590"], ["updated_at", "2020-02-05 09:30:55.045590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.046234"], ["updated_at", "2020-02-05 09:30:55.046234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.047132"], ["updated_at", "2020-02-05 09:30:55.047132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.049393"], ["updated_at", "2020-02-05 09:30:55.049393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.050262"], ["updated_at", "2020-02-05 09:30:55.050262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.050903"], ["updated_at", "2020-02-05 09:30:55.050903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.051511"], ["updated_at", "2020-02-05 09:30:55.051511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.052329"], ["updated_at", "2020-02-05 09:30:55.052329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.053048"], ["updated_at", "2020-02-05 09:30:55.053048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:30:55.054454"], ["updated_at", "2020-02-05 09:30:55.054454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:30:55.055213"], ["updated_at", "2020-02-05 09:30:55.055213"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:30:55.055797"], ["updated_at", "2020-02-05 09:30:55.055797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:30:55.056379"], ["updated_at", "2020-02-05 09:30:55.056379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:30:55.057347"], ["updated_at", "2020-02-05 09:30:55.057347"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:30:55.058802"], ["updated_at", "2020-02-05 09:30:55.058802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:25.212661"], ["updated_at", "2020-02-05 09:31:25.212661"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:25.216267"], ["updated_at", "2020-02-05 09:31:25.216267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:25.217879"], ["updated_at", "2020-02-05 09:31:25.217879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:25.219577"], ["updated_at", "2020-02-05 09:31:25.219577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:25.221764"], ["updated_at", "2020-02-05 09:31:25.221764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:25.223216"], ["updated_at", "2020-02-05 09:31:25.223216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:31:25.283213"], ["updated_at", "2020-02-05 09:31:25.283213"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:31:25.284283"], ["updated_at", "2020-02-05 09:31:25.284283"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:31:25.285621"], ["updated_at", "2020-02-05 09:31:25.285621"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:31:25.286582"], ["updated_at", "2020-02-05 09:31:25.286582"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:25.287130"], ["updated_at", "2020-02-05 09:31:25.287130"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:31:25.287610"], ["updated_at", "2020-02-05 09:31:25.287610"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:25.288756"], ["updated_at", "2020-02-05 09:31:25.288756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:31:25.289138"], ["updated_at", "2020-02-05 09:31:25.289138"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:31:25.289667"], ["updated_at", "2020-02-05 09:31:25.289667"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:25.290207"], ["updated_at", "2020-02-05 09:31:25.290207"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:31:25.290580"], ["updated_at", "2020-02-05 09:31:25.290580"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:31:25.327627"], ["updated_at", "2020-02-05 09:31:25.327627"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:25.328820"], ["updated_at", "2020-02-05 09:31:25.328820"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:25.330190"], ["updated_at", "2020-02-05 09:31:25.330190"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.330805"], ["updated_at", "2020-02-05 09:31:25.330805"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.332619"], ["updated_at", "2020-02-05 09:31:25.332619"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:25.333178"], ["updated_at", "2020-02-05 09:31:25.333178"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.333697"], ["updated_at", "2020-02-05 09:31:25.333697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:25.336320"], ["updated_at", "2020-02-05 09:31:25.336320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:25.337143"], ["updated_at", "2020-02-05 09:31:25.337143"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:25.337761"], ["updated_at", "2020-02-05 09:31:25.337761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:25.338340"], ["updated_at", "2020-02-05 09:31:25.338340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:25.338915"], ["updated_at", "2020-02-05 09:31:25.338915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:25.339486"], ["updated_at", "2020-02-05 09:31:25.339486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:31:25.350195"], ["updated_at", "2020-02-05 09:31:25.350195"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:31:25.350922"], ["updated_at", "2020-02-05 09:31:25.350922"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:31:25.352108"], ["updated_at", "2020-02-05 09:31:25.352108"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:31:25.352672"], ["updated_at", "2020-02-05 09:31:25.352672"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:31:25.353289"], ["updated_at", "2020-02-05 09:31:25.353289"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:25.354006"], ["updated_at", "2020-02-05 09:31:25.354006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.354541"], ["updated_at", "2020-02-05 09:31:25.354541"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.355090"], ["updated_at", "2020-02-05 09:31:25.355090"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:25.355637"], ["updated_at", "2020-02-05 09:31:25.355637"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:31:25.356269"], ["updated_at", "2020-02-05 09:31:25.356269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:31:25.362769' and '2020-02-05 09:31:25.362782' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.561030"], ["updated_at", "2020-02-05 09:31:28.561030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.562653"], ["updated_at", "2020-02-05 09:31:28.562653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.563416"], ["updated_at", "2020-02-05 09:31:28.563416"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.564264"], ["updated_at", "2020-02-05 09:31:28.564264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.565120"], ["updated_at", "2020-02-05 09:31:28.565120"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.566009"], ["updated_at", "2020-02-05 09:31:28.566009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.567940"], ["updated_at", "2020-02-05 09:31:28.567940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.568949"], ["updated_at", "2020-02-05 09:31:28.568949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.569670"], ["updated_at", "2020-02-05 09:31:28.569670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.570352"], ["updated_at", "2020-02-05 09:31:28.570352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.571050"], ["updated_at", "2020-02-05 09:31:28.571050"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.571744"], ["updated_at", "2020-02-05 09:31:28.571744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:31:28.576733"], ["updated_at", "2020-02-05 09:31:28.576733"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:31:28.577522"], ["updated_at", "2020-02-05 09:31:28.577522"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:31:28.578151"], ["updated_at", "2020-02-05 09:31:28.578151"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:31:28.578689"], ["updated_at", "2020-02-05 09:31:28.578689"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:31:28.579354"], ["updated_at", "2020-02-05 09:31:28.579354"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:28.580110"], ["updated_at", "2020-02-05 09:31:28.580110"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:28.580740"], ["updated_at", "2020-02-05 09:31:28.580740"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:31:28.581421"], ["updated_at", "2020-02-05 09:31:28.581421"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:31:28.582073"], ["updated_at", "2020-02-05 09:31:28.582073"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:31:28.582676"], ["updated_at", "2020-02-05 09:31:28.582676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:31:28.585060' and '2020-02-05 09:31:28.585067' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.587821"], ["updated_at", "2020-02-05 09:31:28.587821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.588890"], ["updated_at", "2020-02-05 09:31:28.588890"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.589727"], ["updated_at", "2020-02-05 09:31:28.589727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.590450"], ["updated_at", "2020-02-05 09:31:28.590450"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.591139"], ["updated_at", "2020-02-05 09:31:28.591139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.591820"], ["updated_at", "2020-02-05 09:31:28.591820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.593362"], ["updated_at", "2020-02-05 09:31:28.593362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.594339"], ["updated_at", "2020-02-05 09:31:28.594339"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.595143"], ["updated_at", "2020-02-05 09:31:28.595143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.596424"], ["updated_at", "2020-02-05 09:31:28.596424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.597189"], ["updated_at", "2020-02-05 09:31:28.597189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.598015"], ["updated_at", "2020-02-05 09:31:28.598015"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.599807"], ["updated_at", "2020-02-05 09:31:28.599807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.600804"], ["updated_at", "2020-02-05 09:31:28.600804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.601527"], ["updated_at", "2020-02-05 09:31:28.601527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.602229"], ["updated_at", "2020-02-05 09:31:28.602229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.602937"], ["updated_at", "2020-02-05 09:31:28.602937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.603707"], ["updated_at", "2020-02-05 09:31:28.603707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.605328"], ["updated_at", "2020-02-05 09:31:28.605328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.606333"], ["updated_at", "2020-02-05 09:31:28.606333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.607042"], ["updated_at", "2020-02-05 09:31:28.607042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.607715"], ["updated_at", "2020-02-05 09:31:28.607715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.608387"], ["updated_at", "2020-02-05 09:31:28.608387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.609064"], ["updated_at", "2020-02-05 09:31:28.609064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.610869"], ["updated_at", "2020-02-05 09:31:28.610869"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.611863"], ["updated_at", "2020-02-05 09:31:28.611863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.612596"], ["updated_at", "2020-02-05 09:31:28.612596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.613319"], ["updated_at", "2020-02-05 09:31:28.613319"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.614114"], ["updated_at", "2020-02-05 09:31:28.614114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.614875"], ["updated_at", "2020-02-05 09:31:28.614875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.616981"], ["updated_at", "2020-02-05 09:31:28.616981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.618059"], ["updated_at", "2020-02-05 09:31:28.618059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.618818"], ["updated_at", "2020-02-05 09:31:28.618818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.619531"], ["updated_at", "2020-02-05 09:31:28.619531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.620247"], ["updated_at", "2020-02-05 09:31:28.620247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.620989"], ["updated_at", "2020-02-05 09:31:28.620989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.622779"], ["updated_at", "2020-02-05 09:31:28.622779"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.624369"], ["updated_at", "2020-02-05 09:31:28.624369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.625119"], ["updated_at", "2020-02-05 09:31:28.625119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.625834"], ["updated_at", "2020-02-05 09:31:28.625834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.626529"], ["updated_at", "2020-02-05 09:31:28.626529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.627224"], ["updated_at", "2020-02-05 09:31:28.627224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:31:28.628863"], ["updated_at", "2020-02-05 09:31:28.628863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:31:28.629792"], ["updated_at", "2020-02-05 09:31:28.629792"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:31:28.630568"], ["updated_at", "2020-02-05 09:31:28.630568"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:31:28.631355"], ["updated_at", "2020-02-05 09:31:28.631355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:31:28.632089"], ["updated_at", "2020-02-05 09:31:28.632089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:31:28.632823"], ["updated_at", "2020-02-05 09:31:28.632823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:32:57.988020"], ["updated_at", "2020-02-05 09:32:57.988020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:32:57.991471"], ["updated_at", "2020-02-05 09:32:57.991471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:32:57.992973"], ["updated_at", "2020-02-05 09:32:57.992973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:32:57.994434"], ["updated_at", "2020-02-05 09:32:57.994434"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:32:57.996437"], ["updated_at", "2020-02-05 09:32:57.996437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:32:57.997883"], ["updated_at", "2020-02-05 09:32:57.997883"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:32:58.053193"], ["updated_at", "2020-02-05 09:32:58.053193"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:32:58.054663"], ["updated_at", "2020-02-05 09:32:58.054663"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:32:58.056706"], ["updated_at", "2020-02-05 09:32:58.056706"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:32:58.057970"], ["updated_at", "2020-02-05 09:32:58.057970"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:32:58.058563"], ["updated_at", "2020-02-05 09:32:58.058563"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:32:58.058978"], ["updated_at", "2020-02-05 09:32:58.058978"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:32:58.060019"], ["updated_at", "2020-02-05 09:32:58.060019"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:32:58.060418"], ["updated_at", "2020-02-05 09:32:58.060418"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:32:58.060971"], ["updated_at", "2020-02-05 09:32:58.060971"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:32:58.061549"], ["updated_at", "2020-02-05 09:32:58.061549"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:32:58.061940"], ["updated_at", "2020-02-05 09:32:58.061940"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:32:58.100315"], ["updated_at", "2020-02-05 09:32:58.100315"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:32:58.101652"], ["updated_at", "2020-02-05 09:32:58.101652"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:32:58.102841"], ["updated_at", "2020-02-05 09:32:58.102841"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.103371"], ["updated_at", "2020-02-05 09:32:58.103371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.104875"], ["updated_at", "2020-02-05 09:32:58.104875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:32:58.105338"], ["updated_at", "2020-02-05 09:32:58.105338"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.105781"], ["updated_at", "2020-02-05 09:32:58.105781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:32:58.108973"], ["updated_at", "2020-02-05 09:32:58.108973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:32:58.109868"], ["updated_at", "2020-02-05 09:32:58.109868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:32:58.110426"], ["updated_at", "2020-02-05 09:32:58.110426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:32:58.110973"], ["updated_at", "2020-02-05 09:32:58.110973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:32:58.111528"], ["updated_at", "2020-02-05 09:32:58.111528"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:32:58.112072"], ["updated_at", "2020-02-05 09:32:58.112072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:32:58.123358"], ["updated_at", "2020-02-05 09:32:58.123358"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:32:58.123989"], ["updated_at", "2020-02-05 09:32:58.123989"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:32:58.125130"], ["updated_at", "2020-02-05 09:32:58.125130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:32:58.125617"], ["updated_at", "2020-02-05 09:32:58.125617"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:32:58.126150"], ["updated_at", "2020-02-05 09:32:58.126150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:32:58.126759"], ["updated_at", "2020-02-05 09:32:58.126759"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.127230"], ["updated_at", "2020-02-05 09:32:58.127230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.127674"], ["updated_at", "2020-02-05 09:32:58.127674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:32:58.128824"], ["updated_at", "2020-02-05 09:32:58.128824"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:32:58.129508"], ["updated_at", "2020-02-05 09:32:58.129508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:32:58.136213' and '2020-02-05 09:32:58.136224' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.535320"], ["updated_at", "2020-02-05 09:33:08.535320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.537031"], ["updated_at", "2020-02-05 09:33:08.537031"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.538174"], ["updated_at", "2020-02-05 09:33:08.538174"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.539029"], ["updated_at", "2020-02-05 09:33:08.539029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.539838"], ["updated_at", "2020-02-05 09:33:08.539838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.540902"], ["updated_at", "2020-02-05 09:33:08.540902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.543140"], ["updated_at", "2020-02-05 09:33:08.543140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.544386"], ["updated_at", "2020-02-05 09:33:08.544386"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.545228"], ["updated_at", "2020-02-05 09:33:08.545228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.546013"], ["updated_at", "2020-02-05 09:33:08.546013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.546951"], ["updated_at", "2020-02-05 09:33:08.546951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.547670"], ["updated_at", "2020-02-05 09:33:08.547670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:33:08.552202"], ["updated_at", "2020-02-05 09:33:08.552202"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:33:08.552968"], ["updated_at", "2020-02-05 09:33:08.552968"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:33:08.553665"], ["updated_at", "2020-02-05 09:33:08.553665"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:33:08.554308"], ["updated_at", "2020-02-05 09:33:08.554308"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:33:08.555066"], ["updated_at", "2020-02-05 09:33:08.555066"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:33:08.555896"], ["updated_at", "2020-02-05 09:33:08.555896"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:33:08.556509"], ["updated_at", "2020-02-05 09:33:08.556509"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:33:08.557091"], ["updated_at", "2020-02-05 09:33:08.557091"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:33:08.557677"], ["updated_at", "2020-02-05 09:33:08.557677"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:33:08.558243"], ["updated_at", "2020-02-05 09:33:08.558243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:33:08.560564' and '2020-02-05 09:33:08.560572' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.563727"], ["updated_at", "2020-02-05 09:33:08.563727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.564810"], ["updated_at", "2020-02-05 09:33:08.564810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.565500"], ["updated_at", "2020-02-05 09:33:08.565500"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.566168"], ["updated_at", "2020-02-05 09:33:08.566168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.566824"], ["updated_at", "2020-02-05 09:33:08.566824"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.567479"], ["updated_at", "2020-02-05 09:33:08.567479"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.569467"], ["updated_at", "2020-02-05 09:33:08.569467"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.570990"], ["updated_at", "2020-02-05 09:33:08.570990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.572215"], ["updated_at", "2020-02-05 09:33:08.572215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.573301"], ["updated_at", "2020-02-05 09:33:08.573301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.574125"], ["updated_at", "2020-02-05 09:33:08.574125"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.574861"], ["updated_at", "2020-02-05 09:33:08.574861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.576461"], ["updated_at", "2020-02-05 09:33:08.576461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.577357"], ["updated_at", "2020-02-05 09:33:08.577357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.578080"], ["updated_at", "2020-02-05 09:33:08.578080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.578804"], ["updated_at", "2020-02-05 09:33:08.578804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.579525"], ["updated_at", "2020-02-05 09:33:08.579525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.580335"], ["updated_at", "2020-02-05 09:33:08.580335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.581906"], ["updated_at", "2020-02-05 09:33:08.581906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.582908"], ["updated_at", "2020-02-05 09:33:08.582908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.583681"], ["updated_at", "2020-02-05 09:33:08.583681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.584356"], ["updated_at", "2020-02-05 09:33:08.584356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.585036"], ["updated_at", "2020-02-05 09:33:08.585036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.585769"], ["updated_at", "2020-02-05 09:33:08.585769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.587475"], ["updated_at", "2020-02-05 09:33:08.587475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.588517"], ["updated_at", "2020-02-05 09:33:08.588517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.589271"], ["updated_at", "2020-02-05 09:33:08.589271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.589987"], ["updated_at", "2020-02-05 09:33:08.589987"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.591343"], ["updated_at", "2020-02-05 09:33:08.591343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.592056"], ["updated_at", "2020-02-05 09:33:08.592056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.593706"], ["updated_at", "2020-02-05 09:33:08.593706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.594726"], ["updated_at", "2020-02-05 09:33:08.594726"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.595430"], ["updated_at", "2020-02-05 09:33:08.595430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.596108"], ["updated_at", "2020-02-05 09:33:08.596108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.596798"], ["updated_at", "2020-02-05 09:33:08.596798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.597482"], ["updated_at", "2020-02-05 09:33:08.597482"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.599499"], ["updated_at", "2020-02-05 09:33:08.599499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.600490"], ["updated_at", "2020-02-05 09:33:08.600490"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.601214"], ["updated_at", "2020-02-05 09:33:08.601214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.601907"], ["updated_at", "2020-02-05 09:33:08.601907"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.602617"], ["updated_at", "2020-02-05 09:33:08.602617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.603442"], ["updated_at", "2020-02-05 09:33:08.603442"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:33:08.606244"], ["updated_at", "2020-02-05 09:33:08.606244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:33:08.607395"], ["updated_at", "2020-02-05 09:33:08.607395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:33:08.608166"], ["updated_at", "2020-02-05 09:33:08.608166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:33:08.609652"], ["updated_at", "2020-02-05 09:33:08.609652"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:33:08.610620"], ["updated_at", "2020-02-05 09:33:08.610620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:33:08.611368"], ["updated_at", "2020-02-05 09:33:08.611368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:34:25.739240"], ["updated_at", "2020-02-05 09:34:25.739240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:34:25.744054"], ["updated_at", "2020-02-05 09:34:25.744054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:34:25.745972"], ["updated_at", "2020-02-05 09:34:25.745972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:34:25.748166"], ["updated_at", "2020-02-05 09:34:25.748166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:34:25.750150"], ["updated_at", "2020-02-05 09:34:25.750150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:34:25.752480"], ["updated_at", "2020-02-05 09:34:25.752480"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:34:25.821104"], ["updated_at", "2020-02-05 09:34:25.821104"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:34:25.822438"], ["updated_at", "2020-02-05 09:34:25.822438"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:34:25.824124"], ["updated_at", "2020-02-05 09:34:25.824124"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:34:25.825317"], ["updated_at", "2020-02-05 09:34:25.825317"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:34:25.826048"], ["updated_at", "2020-02-05 09:34:25.826048"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:34:25.826576"], ["updated_at", "2020-02-05 09:34:25.826576"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:34:25.827888"], ["updated_at", "2020-02-05 09:34:25.827888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:34:25.828452"], ["updated_at", "2020-02-05 09:34:25.828452"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:34:25.829176"], ["updated_at", "2020-02-05 09:34:25.829176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:34:25.829888"], ["updated_at", "2020-02-05 09:34:25.829888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:34:25.830423"], ["updated_at", "2020-02-05 09:34:25.830423"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:34:25.879411"], ["updated_at", "2020-02-05 09:34:25.879411"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:25.880976"], ["updated_at", "2020-02-05 09:34:25.880976"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:25.882571"], ["updated_at", "2020-02-05 09:34:25.882571"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.883247"], ["updated_at", "2020-02-05 09:34:25.883247"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.885118"], ["updated_at", "2020-02-05 09:34:25.885118"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:25.885842"], ["updated_at", "2020-02-05 09:34:25.885842"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.886546"], ["updated_at", "2020-02-05 09:34:25.886546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:34:25.890192"], ["updated_at", "2020-02-05 09:34:25.890192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:34:25.891476"], ["updated_at", "2020-02-05 09:34:25.891476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:34:25.892351"], ["updated_at", "2020-02-05 09:34:25.892351"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:34:25.893190"], ["updated_at", "2020-02-05 09:34:25.893190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:34:25.894036"], ["updated_at", "2020-02-05 09:34:25.894036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:34:25.895076"], ["updated_at", "2020-02-05 09:34:25.895076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:34:25.910099"], ["updated_at", "2020-02-05 09:34:25.910099"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:34:25.911088"], ["updated_at", "2020-02-05 09:34:25.911088"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:34:25.912472"], ["updated_at", "2020-02-05 09:34:25.912472"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:34:25.913236"], ["updated_at", "2020-02-05 09:34:25.913236"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:34:25.914093"], ["updated_at", "2020-02-05 09:34:25.914093"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:25.915072"], ["updated_at", "2020-02-05 09:34:25.915072"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.915822"], ["updated_at", "2020-02-05 09:34:25.915822"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.916417"], ["updated_at", "2020-02-05 09:34:25.916417"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:25.916993"], ["updated_at", "2020-02-05 09:34:25.916993"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:34:25.917718"], ["updated_at", "2020-02-05 09:34:25.917718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:34:25.938939' and '2020-02-05 09:34:25.938954' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:34:56.613082"], ["updated_at", "2020-02-05 09:34:56.613082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:34:56.615268"], ["updated_at", "2020-02-05 09:34:56.615268"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:34:56.616063"], ["updated_at", "2020-02-05 09:34:56.616063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:34:56.616798"], ["updated_at", "2020-02-05 09:34:56.616798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:34:56.617479"], ["updated_at", "2020-02-05 09:34:56.617479"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:34:56.618173"], ["updated_at", "2020-02-05 09:34:56.618173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:34:56.619802"], ["updated_at", "2020-02-05 09:34:56.619802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:34:56.620987"], ["updated_at", "2020-02-05 09:34:56.620987"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:34:56.621714"], ["updated_at", "2020-02-05 09:34:56.621714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:34:56.622376"], ["updated_at", "2020-02-05 09:34:56.622376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:34:56.623022"], ["updated_at", "2020-02-05 09:34:56.623022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:34:56.623684"], ["updated_at", "2020-02-05 09:34:56.623684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:34:56.628973"], ["updated_at", "2020-02-05 09:34:56.628973"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:34:56.630135"], ["updated_at", "2020-02-05 09:34:56.630135"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:34:56.631286"], ["updated_at", "2020-02-05 09:34:56.631286"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:34:56.631934"], ["updated_at", "2020-02-05 09:34:56.631934"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:34:56.633065"], ["updated_at", "2020-02-05 09:34:56.633065"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:56.633882"], ["updated_at", "2020-02-05 09:34:56.633882"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:56.634469"], ["updated_at", "2020-02-05 09:34:56.634469"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:34:56.635046"], ["updated_at", "2020-02-05 09:34:56.635046"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:34:56.636119"], ["updated_at", "2020-02-05 09:34:56.636119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:34:56.636786"], ["updated_at", "2020-02-05 09:34:56.636786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:34:56.639188' and '2020-02-05 09:34:56.639195' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.653949"], ["updated_at", "2020-02-05 09:35:00.653949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.654905"], ["updated_at", "2020-02-05 09:35:00.654905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.655569"], ["updated_at", "2020-02-05 09:35:00.655569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.656204"], ["updated_at", "2020-02-05 09:35:00.656204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.656951"], ["updated_at", "2020-02-05 09:35:00.656951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.657587"], ["updated_at", "2020-02-05 09:35:00.657587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.658930"], ["updated_at", "2020-02-05 09:35:00.658930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.659758"], ["updated_at", "2020-02-05 09:35:00.659758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.660405"], ["updated_at", "2020-02-05 09:35:00.660405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.661054"], ["updated_at", "2020-02-05 09:35:00.661054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.661713"], ["updated_at", "2020-02-05 09:35:00.661713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.662338"], ["updated_at", "2020-02-05 09:35:00.662338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.663754"], ["updated_at", "2020-02-05 09:35:00.663754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.664524"], ["updated_at", "2020-02-05 09:35:00.664524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.665331"], ["updated_at", "2020-02-05 09:35:00.665331"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.665942"], ["updated_at", "2020-02-05 09:35:00.665942"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.666569"], ["updated_at", "2020-02-05 09:35:00.666569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.667214"], ["updated_at", "2020-02-05 09:35:00.667214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.669163"], ["updated_at", "2020-02-05 09:35:00.669163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.670140"], ["updated_at", "2020-02-05 09:35:00.670140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.670803"], ["updated_at", "2020-02-05 09:35:00.670803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.671468"], ["updated_at", "2020-02-05 09:35:00.671468"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.672122"], ["updated_at", "2020-02-05 09:35:00.672122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.672776"], ["updated_at", "2020-02-05 09:35:00.672776"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.674352"], ["updated_at", "2020-02-05 09:35:00.674352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.675228"], ["updated_at", "2020-02-05 09:35:00.675228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.675868"], ["updated_at", "2020-02-05 09:35:00.675868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.676502"], ["updated_at", "2020-02-05 09:35:00.676502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.677135"], ["updated_at", "2020-02-05 09:35:00.677135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.677770"], ["updated_at", "2020-02-05 09:35:00.677770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.679046"], ["updated_at", "2020-02-05 09:35:00.679046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.679863"], ["updated_at", "2020-02-05 09:35:00.679863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.680502"], ["updated_at", "2020-02-05 09:35:00.680502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.681138"], ["updated_at", "2020-02-05 09:35:00.681138"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.681773"], ["updated_at", "2020-02-05 09:35:00.681773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.682411"], ["updated_at", "2020-02-05 09:35:00.682411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.683775"], ["updated_at", "2020-02-05 09:35:00.683775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.684600"], ["updated_at", "2020-02-05 09:35:00.684600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.685243"], ["updated_at", "2020-02-05 09:35:00.685243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.685876"], ["updated_at", "2020-02-05 09:35:00.685876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.686509"], ["updated_at", "2020-02-05 09:35:00.686509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.687162"], ["updated_at", "2020-02-05 09:35:00.687162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:00.688509"], ["updated_at", "2020-02-05 09:35:00.688509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:00.689545"], ["updated_at", "2020-02-05 09:35:00.689545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:00.690284"], ["updated_at", "2020-02-05 09:35:00.690284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:00.690974"], ["updated_at", "2020-02-05 09:35:00.690974"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:00.691648"], ["updated_at", "2020-02-05 09:35:00.691648"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:00.692300"], ["updated_at", "2020-02-05 09:35:00.692300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:03.502166"], ["updated_at", "2020-02-05 09:35:03.502166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:03.504188"], ["updated_at", "2020-02-05 09:35:03.504188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:03.504924"], ["updated_at", "2020-02-05 09:35:03.504924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:03.505816"], ["updated_at", "2020-02-05 09:35:03.505816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:03.506520"], ["updated_at", "2020-02-05 09:35:03.506520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:03.507211"], ["updated_at", "2020-02-05 09:35:03.507211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:35:03.550899"], ["updated_at", "2020-02-05 09:35:03.550899"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:35:03.551949"], ["updated_at", "2020-02-05 09:35:03.551949"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:35:03.553245"], ["updated_at", "2020-02-05 09:35:03.553245"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:35:03.554176"], ["updated_at", "2020-02-05 09:35:03.554176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:03.554755"], ["updated_at", "2020-02-05 09:35:03.554755"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:35:03.555157"], ["updated_at", "2020-02-05 09:35:03.555157"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:03.556129"], ["updated_at", "2020-02-05 09:35:03.556129"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:35:03.556509"], ["updated_at", "2020-02-05 09:35:03.556509"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:35:03.557055"], ["updated_at", "2020-02-05 09:35:03.557055"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:03.557609"], ["updated_at", "2020-02-05 09:35:03.557609"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:35:03.557994"], ["updated_at", "2020-02-05 09:35:03.557994"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:35:03.594581"], ["updated_at", "2020-02-05 09:35:03.594581"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:03.596580"], ["updated_at", "2020-02-05 09:35:03.596580"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:03.598333"], ["updated_at", "2020-02-05 09:35:03.598333"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.598908"], ["updated_at", "2020-02-05 09:35:03.598908"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.600532"], ["updated_at", "2020-02-05 09:35:03.600532"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:03.601111"], ["updated_at", "2020-02-05 09:35:03.601111"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.601753"], ["updated_at", "2020-02-05 09:35:03.601753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:03.604775"], ["updated_at", "2020-02-05 09:35:03.604775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:03.605723"], ["updated_at", "2020-02-05 09:35:03.605723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:03.606397"], ["updated_at", "2020-02-05 09:35:03.606397"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:03.607049"], ["updated_at", "2020-02-05 09:35:03.607049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:03.617941"], ["updated_at", "2020-02-05 09:35:03.617941"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:03.618650"], ["updated_at", "2020-02-05 09:35:03.618650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:35:03.632868"], ["updated_at", "2020-02-05 09:35:03.632868"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:35:03.633899"], ["updated_at", "2020-02-05 09:35:03.633899"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:35:03.635191"], ["updated_at", "2020-02-05 09:35:03.635191"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:35:03.635786"], ["updated_at", "2020-02-05 09:35:03.635786"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:35:03.636610"], ["updated_at", "2020-02-05 09:35:03.636610"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:03.637403"], ["updated_at", "2020-02-05 09:35:03.637403"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.637960"], ["updated_at", "2020-02-05 09:35:03.637960"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.638492"], ["updated_at", "2020-02-05 09:35:03.638492"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:03.639146"], ["updated_at", "2020-02-05 09:35:03.639146"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:35:03.639731"], ["updated_at", "2020-02-05 09:35:03.639731"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.3ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:35:03.648456' and '2020-02-05 09:35:03.648471' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.3ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:18.354980"], ["updated_at", "2020-02-05 09:35:18.354980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:18.357592"], ["updated_at", "2020-02-05 09:35:18.357592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:18.358368"], ["updated_at", "2020-02-05 09:35:18.358368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:18.359095"], ["updated_at", "2020-02-05 09:35:18.359095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:18.359827"], ["updated_at", "2020-02-05 09:35:18.359827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:18.360649"], ["updated_at", "2020-02-05 09:35:18.360649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:18.387504"], ["updated_at", "2020-02-05 09:35:18.387504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:18.388670"], ["updated_at", "2020-02-05 09:35:18.388670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:18.389552"], ["updated_at", "2020-02-05 09:35:18.389552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:18.390367"], ["updated_at", "2020-02-05 09:35:18.390367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:18.391134"], ["updated_at", "2020-02-05 09:35:18.391134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:18.391866"], ["updated_at", "2020-02-05 09:35:18.391866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:35:18.396842"], ["updated_at", "2020-02-05 09:35:18.396842"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:35:18.397758"], ["updated_at", "2020-02-05 09:35:18.397758"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:35:18.398557"], ["updated_at", "2020-02-05 09:35:18.398557"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:35:18.399168"], ["updated_at", "2020-02-05 09:35:18.399168"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:35:18.399836"], ["updated_at", "2020-02-05 09:35:18.399836"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:18.400599"], ["updated_at", "2020-02-05 09:35:18.400599"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:18.401149"], ["updated_at", "2020-02-05 09:35:18.401149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:18.401704"], ["updated_at", "2020-02-05 09:35:18.401704"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:18.402276"], ["updated_at", "2020-02-05 09:35:18.402276"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:35:18.402847"], ["updated_at", "2020-02-05 09:35:18.402847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:35:18.405277' and '2020-02-05 09:35:18.405285' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.400930"], ["updated_at", "2020-02-05 09:35:19.400930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.401930"], ["updated_at", "2020-02-05 09:35:19.401930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.402610"], ["updated_at", "2020-02-05 09:35:19.402610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.403269"], ["updated_at", "2020-02-05 09:35:19.403269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.403920"], ["updated_at", "2020-02-05 09:35:19.403920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.404573"], ["updated_at", "2020-02-05 09:35:19.404573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.405889"], ["updated_at", "2020-02-05 09:35:19.405889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.406718"], ["updated_at", "2020-02-05 09:35:19.406718"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.407372"], ["updated_at", "2020-02-05 09:35:19.407372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.408021"], ["updated_at", "2020-02-05 09:35:19.408021"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.408686"], ["updated_at", "2020-02-05 09:35:19.408686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.409338"], ["updated_at", "2020-02-05 09:35:19.409338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.410694"], ["updated_at", "2020-02-05 09:35:19.410694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.411529"], ["updated_at", "2020-02-05 09:35:19.411529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.412187"], ["updated_at", "2020-02-05 09:35:19.412187"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.412839"], ["updated_at", "2020-02-05 09:35:19.412839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.413489"], ["updated_at", "2020-02-05 09:35:19.413489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.414139"], ["updated_at", "2020-02-05 09:35:19.414139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.415591"], ["updated_at", "2020-02-05 09:35:19.415591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.416684"], ["updated_at", "2020-02-05 09:35:19.416684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.417382"], ["updated_at", "2020-02-05 09:35:19.417382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.418038"], ["updated_at", "2020-02-05 09:35:19.418038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.418695"], ["updated_at", "2020-02-05 09:35:19.418695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.419383"], ["updated_at", "2020-02-05 09:35:19.419383"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.421023"], ["updated_at", "2020-02-05 09:35:19.421023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.421945"], ["updated_at", "2020-02-05 09:35:19.421945"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.422635"], ["updated_at", "2020-02-05 09:35:19.422635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.423301"], ["updated_at", "2020-02-05 09:35:19.423301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.423961"], ["updated_at", "2020-02-05 09:35:19.423961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.424652"], ["updated_at", "2020-02-05 09:35:19.424652"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.426039"], ["updated_at", "2020-02-05 09:35:19.426039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.426898"], ["updated_at", "2020-02-05 09:35:19.426898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.427560"], ["updated_at", "2020-02-05 09:35:19.427560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.428225"], ["updated_at", "2020-02-05 09:35:19.428225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.428892"], ["updated_at", "2020-02-05 09:35:19.428892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.429557"], ["updated_at", "2020-02-05 09:35:19.429557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.431020"], ["updated_at", "2020-02-05 09:35:19.431020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.431886"], ["updated_at", "2020-02-05 09:35:19.431886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.432566"], ["updated_at", "2020-02-05 09:35:19.432566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.433237"], ["updated_at", "2020-02-05 09:35:19.433237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.433913"], ["updated_at", "2020-02-05 09:35:19.433913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.434596"], ["updated_at", "2020-02-05 09:35:19.434596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:19.436413"], ["updated_at", "2020-02-05 09:35:19.436413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:19.437359"], ["updated_at", "2020-02-05 09:35:19.437359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:19.438019"], ["updated_at", "2020-02-05 09:35:19.438019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:19.438693"], ["updated_at", "2020-02-05 09:35:19.438693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:19.439468"], ["updated_at", "2020-02-05 09:35:19.439468"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:19.440250"], ["updated_at", "2020-02-05 09:35:19.440250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:52.165098"], ["updated_at", "2020-02-05 09:35:52.165098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:52.166986"], ["updated_at", "2020-02-05 09:35:52.166986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:52.167608"], ["updated_at", "2020-02-05 09:35:52.167608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:52.168198"], ["updated_at", "2020-02-05 09:35:52.168198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:52.168798"], ["updated_at", "2020-02-05 09:35:52.168798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:52.169387"], ["updated_at", "2020-02-05 09:35:52.169387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:35:52.221911"], ["updated_at", "2020-02-05 09:35:52.221911"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:35:52.223548"], ["updated_at", "2020-02-05 09:35:52.223548"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:35:52.225140"], ["updated_at", "2020-02-05 09:35:52.225140"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:35:52.226505"], ["updated_at", "2020-02-05 09:35:52.226505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:52.227625"], ["updated_at", "2020-02-05 09:35:52.227625"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:35:52.228032"], ["updated_at", "2020-02-05 09:35:52.228032"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:52.229072"], ["updated_at", "2020-02-05 09:35:52.229072"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:35:52.229469"], ["updated_at", "2020-02-05 09:35:52.229469"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:35:52.230113"], ["updated_at", "2020-02-05 09:35:52.230113"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:52.230928"], ["updated_at", "2020-02-05 09:35:52.230928"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:35:52.231324"], ["updated_at", "2020-02-05 09:35:52.231324"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:35:52.275299"], ["updated_at", "2020-02-05 09:35:52.275299"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:52.277164"], ["updated_at", "2020-02-05 09:35:52.277164"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:52.278595"], ["updated_at", "2020-02-05 09:35:52.278595"]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.279133"], ["updated_at", "2020-02-05 09:35:52.279133"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.281634"], ["updated_at", "2020-02-05 09:35:52.281634"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:52.282116"], ["updated_at", "2020-02-05 09:35:52.282116"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.282573"], ["updated_at", "2020-02-05 09:35:52.282573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:35:52.285122"], ["updated_at", "2020-02-05 09:35:52.285122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:35:52.285916"], ["updated_at", "2020-02-05 09:35:52.285916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:35:52.286485"], ["updated_at", "2020-02-05 09:35:52.286485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:35:52.287072"], ["updated_at", "2020-02-05 09:35:52.287072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:35:52.287634"], ["updated_at", "2020-02-05 09:35:52.287634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:35:52.288197"], ["updated_at", "2020-02-05 09:35:52.288197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:35:52.310651"], ["updated_at", "2020-02-05 09:35:52.310651"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:35:52.311508"], ["updated_at", "2020-02-05 09:35:52.311508"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:35:52.312594"], ["updated_at", "2020-02-05 09:35:52.312594"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:35:52.313139"], ["updated_at", "2020-02-05 09:35:52.313139"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:35:52.313774"], ["updated_at", "2020-02-05 09:35:52.313774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:52.314497"], ["updated_at", "2020-02-05 09:35:52.314497"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.315055"], ["updated_at", "2020-02-05 09:35:52.315055"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.315749"], ["updated_at", "2020-02-05 09:35:52.315749"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:35:52.316307"], ["updated_at", "2020-02-05 09:35:52.316307"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:35:52.316819"], ["updated_at", "2020-02-05 09:35:52.316819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:35:52.323748' and '2020-02-05 09:35:52.323759' <= end_at)[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:29.681278"], ["updated_at", "2020-02-05 09:37:29.681278"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:29.683054"], ["updated_at", "2020-02-05 09:37:29.683054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:29.683846"], ["updated_at", "2020-02-05 09:37:29.683846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:29.684599"], ["updated_at", "2020-02-05 09:37:29.684599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:29.685349"], ["updated_at", "2020-02-05 09:37:29.685349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:29.686088"], ["updated_at", "2020-02-05 09:37:29.686088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:29.688318"], ["updated_at", "2020-02-05 09:37:29.688318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:29.689268"], ["updated_at", "2020-02-05 09:37:29.689268"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:29.690054"], ["updated_at", "2020-02-05 09:37:29.690054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:29.690775"], ["updated_at", "2020-02-05 09:37:29.690775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:29.691480"], ["updated_at", "2020-02-05 09:37:29.691480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:29.692192"], ["updated_at", "2020-02-05 09:37:29.692192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:37:29.706771"], ["updated_at", "2020-02-05 09:37:29.706771"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:37:29.707581"], ["updated_at", "2020-02-05 09:37:29.707581"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:37:29.708206"], ["updated_at", "2020-02-05 09:37:29.708206"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:37:29.708758"], ["updated_at", "2020-02-05 09:37:29.708758"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 1], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:37:29.709426"], ["updated_at", "2020-02-05 09:37:29.709426"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:37:29.710189"], ["updated_at", "2020-02-05 09:37:29.710189"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:37:29.710761"], ["updated_at", "2020-02-05 09:37:29.710761"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 2], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:37:29.711325"], ["updated_at", "2020-02-05 09:37:29.711325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:37:29.711927"], ["updated_at", "2020-02-05 09:37:29.711927"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 4], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:37:29.712501"], ["updated_at", "2020-02-05 09:37:29.712501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:37:29.715280' and '2020-02-05 09:37:29.715287' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.527950"], ["updated_at", "2020-02-05 09:37:30.527950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.529239"], ["updated_at", "2020-02-05 09:37:30.529239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.530063"], ["updated_at", "2020-02-05 09:37:30.530063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.530855"], ["updated_at", "2020-02-05 09:37:30.530855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.531646"], ["updated_at", "2020-02-05 09:37:30.531646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.532444"], ["updated_at", "2020-02-05 09:37:30.532444"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.534329"], ["updated_at", "2020-02-05 09:37:30.534329"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.535352"], ["updated_at", "2020-02-05 09:37:30.535352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.536158"], ["updated_at", "2020-02-05 09:37:30.536158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.536980"], ["updated_at", "2020-02-05 09:37:30.536980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.537775"], ["updated_at", "2020-02-05 09:37:30.537775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.538558"], ["updated_at", "2020-02-05 09:37:30.538558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.541224"], ["updated_at", "2020-02-05 09:37:30.541224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.542575"], ["updated_at", "2020-02-05 09:37:30.542575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.543437"], ["updated_at", "2020-02-05 09:37:30.543437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.544341"], ["updated_at", "2020-02-05 09:37:30.544341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.545162"], ["updated_at", "2020-02-05 09:37:30.545162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.546022"], ["updated_at", "2020-02-05 09:37:30.546022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.547826"], ["updated_at", "2020-02-05 09:37:30.547826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.548917"], ["updated_at", "2020-02-05 09:37:30.548917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.549704"], ["updated_at", "2020-02-05 09:37:30.549704"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.550454"], ["updated_at", "2020-02-05 09:37:30.550454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.551229"], ["updated_at", "2020-02-05 09:37:30.551229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.551995"], ["updated_at", "2020-02-05 09:37:30.551995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.553438"], ["updated_at", "2020-02-05 09:37:30.553438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.554382"], ["updated_at", "2020-02-05 09:37:30.554382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.555141"], ["updated_at", "2020-02-05 09:37:30.555141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.555833"], ["updated_at", "2020-02-05 09:37:30.555833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.556515"], ["updated_at", "2020-02-05 09:37:30.556515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.557204"], ["updated_at", "2020-02-05 09:37:30.557204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.559161"], ["updated_at", "2020-02-05 09:37:30.559161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.560189"], ["updated_at", "2020-02-05 09:37:30.560189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.560937"], ["updated_at", "2020-02-05 09:37:30.560937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.561650"], ["updated_at", "2020-02-05 09:37:30.561650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.562340"], ["updated_at", "2020-02-05 09:37:30.562340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.563019"], ["updated_at", "2020-02-05 09:37:30.563019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.565649"], ["updated_at", "2020-02-05 09:37:30.565649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.566769"], ["updated_at", "2020-02-05 09:37:30.566769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.567585"], ["updated_at", "2020-02-05 09:37:30.567585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.568328"], ["updated_at", "2020-02-05 09:37:30.568328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.569043"], ["updated_at", "2020-02-05 09:37:30.569043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.569747"], ["updated_at", "2020-02-05 09:37:30.569747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:37:30.571272"], ["updated_at", "2020-02-05 09:37:30.571272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:37:30.572179"], ["updated_at", "2020-02-05 09:37:30.572179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:37:30.572870"], ["updated_at", "2020-02-05 09:37:30.572870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:37:30.573593"], ["updated_at", "2020-02-05 09:37:30.573593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:37:30.574342"], ["updated_at", "2020-02-05 09:37:30.574342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:37:30.575116"], ["updated_at", "2020-02-05 09:37:30.575116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:15.825498"], ["updated_at", "2020-02-05 09:51:15.825498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:15.828433"], ["updated_at", "2020-02-05 09:51:15.828433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:15.831034"], ["updated_at", "2020-02-05 09:51:15.831034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:15.832534"], ["updated_at", "2020-02-05 09:51:15.832534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:15.833880"], ["updated_at", "2020-02-05 09:51:15.833880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:15.836246"], ["updated_at", "2020-02-05 09:51:15.836246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-05 09:51:15.901109"], ["updated_at", "2020-02-05 09:51:15.901109"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-05 09:51:15.902289"], ["updated_at", "2020-02-05 09:51:15.902289"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-05 09:51:15.904046"], ["updated_at", "2020-02-05 09:51:15.904046"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:51:15.906037"], ["updated_at", "2020-02-05 09:51:15.906037"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:15.906656"], ["updated_at", "2020-02-05 09:51:15.906656"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-05 09:51:15.907063"], ["updated_at", "2020-02-05 09:51:15.907063"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:15.908408"], ["updated_at", "2020-02-05 09:51:15.908408"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-05 09:51:15.908790"], ["updated_at", "2020-02-05 09:51:15.908790"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-05 09:51:15.909319"], ["updated_at", "2020-02-05 09:51:15.909319"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:15.909858"], ["updated_at", "2020-02-05 09:51:15.909858"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-05 09:51:15.910230"], ["updated_at", "2020-02-05 09:51:15.910230"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-05001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:51:15.954745"], ["updated_at", "2020-02-05 09:51:15.954745"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:15.956295"], ["updated_at", "2020-02-05 09:51:15.956295"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:15.958129"], ["updated_at", "2020-02-05 09:51:15.958129"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.958751"], ["updated_at", "2020-02-05 09:51:15.958751"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.960453"], ["updated_at", "2020-02-05 09:51:15.960453"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:15.961041"], ["updated_at", "2020-02-05 09:51:15.961041"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.961593"], ["updated_at", "2020-02-05 09:51:15.961593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:15.965576"], ["updated_at", "2020-02-05 09:51:15.965576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:15.966579"], ["updated_at", "2020-02-05 09:51:15.966579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:15.967273"], ["updated_at", "2020-02-05 09:51:15.967273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:15.967925"], ["updated_at", "2020-02-05 09:51:15.967925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:15.968489"], ["updated_at", "2020-02-05 09:51:15.968489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:15.969064"], ["updated_at", "2020-02-05 09:51:15.969064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:51:15.981489"], ["updated_at", "2020-02-05 09:51:15.981489"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:51:15.982269"], ["updated_at", "2020-02-05 09:51:15.982269"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:51:15.983538"], ["updated_at", "2020-02-05 09:51:15.983538"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:51:15.984120"], ["updated_at", "2020-02-05 09:51:15.984120"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:51:15.984764"], ["updated_at", "2020-02-05 09:51:15.984764"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:15.985536"], ["updated_at", "2020-02-05 09:51:15.985536"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.986097"], ["updated_at", "2020-02-05 09:51:15.986097"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.986637"], ["updated_at", "2020-02-05 09:51:15.986637"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:15.987185"], ["updated_at", "2020-02-05 09:51:15.987185"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:51:15.987765"], ["updated_at", "2020-02-05 09:51:15.987765"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:51:15.995244' and '2020-02-05 09:51:15.995255' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-05 09:51:15.996176"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-05 09:51:15.997821"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-05 09:51:15.998775"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.276727"], ["updated_at", "2020-02-05 09:51:23.276727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.277954"], ["updated_at", "2020-02-05 09:51:23.277954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.278681"], ["updated_at", "2020-02-05 09:51:23.278681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.279418"], ["updated_at", "2020-02-05 09:51:23.279418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.280121"], ["updated_at", "2020-02-05 09:51:23.280121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.280819"], ["updated_at", "2020-02-05 09:51:23.280819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.282221"], ["updated_at", "2020-02-05 09:51:23.282221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.283078"], ["updated_at", "2020-02-05 09:51:23.283078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.283754"], ["updated_at", "2020-02-05 09:51:23.283754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.284436"], ["updated_at", "2020-02-05 09:51:23.284436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.285158"], ["updated_at", "2020-02-05 09:51:23.285158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.285836"], ["updated_at", "2020-02-05 09:51:23.285836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-05 00:00:00"], ["created_at", "2020-02-05 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-05001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-05 09:51:23.305148"], ["updated_at", "2020-02-05 09:51:23.305148"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-05 09:51:23.306124"], ["updated_at", "2020-02-05 09:51:23.306124"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-05 09:51:23.306974"], ["updated_at", "2020-02-05 09:51:23.306974"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-05 09:51:23.307583"], ["updated_at", "2020-02-05 09:51:23.307583"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-05 09:51:23.308296"], ["updated_at", "2020-02-05 09:51:23.308296"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:23.309089"], ["updated_at", "2020-02-05 09:51:23.309089"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:23.309669"], ["updated_at", "2020-02-05 09:51:23.309669"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-05 09:51:23.310225"], ["updated_at", "2020-02-05 09:51:23.310225"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-05 09:51:23.310809"], ["updated_at", "2020-02-05 09:51:23.310809"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-05 09:51:23.311374"], ["updated_at", "2020-02-05 09:51:23.311374"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-05 09:51:23.313624' and '2020-02-05 09:51:23.313634' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.321798"], ["updated_at", "2020-02-05 09:51:23.321798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.322812"], ["updated_at", "2020-02-05 09:51:23.322812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.323515"], ["updated_at", "2020-02-05 09:51:23.323515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.324202"], ["updated_at", "2020-02-05 09:51:23.324202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.324883"], ["updated_at", "2020-02-05 09:51:23.324883"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.325563"], ["updated_at", "2020-02-05 09:51:23.325563"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.326905"], ["updated_at", "2020-02-05 09:51:23.326905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.327782"], ["updated_at", "2020-02-05 09:51:23.327782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.328354"], ["updated_at", "2020-02-05 09:51:23.328354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.328956"], ["updated_at", "2020-02-05 09:51:23.328956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.329596"], ["updated_at", "2020-02-05 09:51:23.329596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.330271"], ["updated_at", "2020-02-05 09:51:23.330271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.331744"], ["updated_at", "2020-02-05 09:51:23.331744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.332591"], ["updated_at", "2020-02-05 09:51:23.332591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.333247"], ["updated_at", "2020-02-05 09:51:23.333247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.333900"], ["updated_at", "2020-02-05 09:51:23.333900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.334565"], ["updated_at", "2020-02-05 09:51:23.334565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.335234"], ["updated_at", "2020-02-05 09:51:23.335234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.336627"], ["updated_at", "2020-02-05 09:51:23.336627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.337504"], ["updated_at", "2020-02-05 09:51:23.337504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.338287"], ["updated_at", "2020-02-05 09:51:23.338287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.339016"], ["updated_at", "2020-02-05 09:51:23.339016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.339730"], ["updated_at", "2020-02-05 09:51:23.339730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.340423"], ["updated_at", "2020-02-05 09:51:23.340423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.342105"], ["updated_at", "2020-02-05 09:51:23.342105"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.342997"], ["updated_at", "2020-02-05 09:51:23.342997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.343676"], ["updated_at", "2020-02-05 09:51:23.343676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.344364"], ["updated_at", "2020-02-05 09:51:23.344364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.345040"], ["updated_at", "2020-02-05 09:51:23.345040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.345714"], ["updated_at", "2020-02-05 09:51:23.345714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.347198"], ["updated_at", "2020-02-05 09:51:23.347198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.348105"], ["updated_at", "2020-02-05 09:51:23.348105"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.348818"], ["updated_at", "2020-02-05 09:51:23.348818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.349674"], ["updated_at", "2020-02-05 09:51:23.349674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.350385"], ["updated_at", "2020-02-05 09:51:23.350385"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.351096"], ["updated_at", "2020-02-05 09:51:23.351096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.353170"], ["updated_at", "2020-02-05 09:51:23.353170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.354239"], ["updated_at", "2020-02-05 09:51:23.354239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.355083"], ["updated_at", "2020-02-05 09:51:23.355083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.355875"], ["updated_at", "2020-02-05 09:51:23.355875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.356615"], ["updated_at", "2020-02-05 09:51:23.356615"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.357342"], ["updated_at", "2020-02-05 09:51:23.357342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-05 09:51:23.359124"], ["updated_at", "2020-02-05 09:51:23.359124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-05 09:51:23.360145"], ["updated_at", "2020-02-05 09:51:23.360145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-05 09:51:23.360878"], ["updated_at", "2020-02-05 09:51:23.360878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-05 09:51:23.362292"], ["updated_at", "2020-02-05 09:51:23.362292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-05 09:51:23.363157"], ["updated_at", "2020-02-05 09:51:23.363157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-05 09:51:23.364080"], ["updated_at", "2020-02-05 09:51:23.364080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.689458"], ["updated_at", "2020-02-07 04:41:19.689458"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.693602"], ["updated_at", "2020-02-07 04:41:19.693602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.694832"], ["updated_at", "2020-02-07 04:41:19.694832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.695805"], ["updated_at", "2020-02-07 04:41:19.695805"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.696816"], ["updated_at", "2020-02-07 04:41:19.696816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.697782"], ["updated_at", "2020-02-07 04:41:19.697782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:41:19.762729"], ["updated_at", "2020-02-07 04:41:19.762729"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:41:19.764106"], ["updated_at", "2020-02-07 04:41:19.764106"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:41:19.767419"], ["updated_at", "2020-02-07 04:41:19.767419"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:41:19.768637"], ["updated_at", "2020-02-07 04:41:19.768637"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.769398"], ["updated_at", "2020-02-07 04:41:19.769398"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:41:19.769927"], ["updated_at", "2020-02-07 04:41:19.769927"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.771117"], ["updated_at", "2020-02-07 04:41:19.771117"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:41:19.771620"], ["updated_at", "2020-02-07 04:41:19.771620"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:41:19.772963"], ["updated_at", "2020-02-07 04:41:19.772963"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.775486"], ["updated_at", "2020-02-07 04:41:19.775486"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:41:19.776719"], ["updated_at", "2020-02-07 04:41:19.776719"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.7ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:41:19.843787"], ["updated_at", "2020-02-07 04:41:19.843787"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:19.845566"], ["updated_at", "2020-02-07 04:41:19.845566"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:19.847794"], ["updated_at", "2020-02-07 04:41:19.847794"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:19.849216"], ["updated_at", "2020-02-07 04:41:19.849216"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:19.851168"], ["updated_at", "2020-02-07 04:41:19.851168"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:19.851920"], ["updated_at", "2020-02-07 04:41:19.851920"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:41:19.852617"], ["updated_at", "2020-02-07 04:41:19.852617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.857322"], ["updated_at", "2020-02-07 04:41:19.857322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.860078"], ["updated_at", "2020-02-07 04:41:19.860078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.861044"], ["updated_at", "2020-02-07 04:41:19.861044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.861917"], ["updated_at", "2020-02-07 04:41:19.861917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.876815"], ["updated_at", "2020-02-07 04:41:19.876815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.877761"], ["updated_at", "2020-02-07 04:41:19.877761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.882891"], ["updated_at", "2020-02-07 04:41:19.882891"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.884178"], ["updated_at", "2020-02-07 04:41:19.884178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.885281"], ["updated_at", "2020-02-07 04:41:19.885281"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.886279"], ["updated_at", "2020-02-07 04:41:19.886279"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.887481"], ["updated_at", "2020-02-07 04:41:19.887481"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.888541"], ["updated_at", "2020-02-07 04:41:19.888541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.891151"], ["updated_at", "2020-02-07 04:41:19.891151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.892466"], ["updated_at", "2020-02-07 04:41:19.892466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.893378"], ["updated_at", "2020-02-07 04:41:19.893378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.894978"], ["updated_at", "2020-02-07 04:41:19.894978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.895930"], ["updated_at", "2020-02-07 04:41:19.895930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.896790"], ["updated_at", "2020-02-07 04:41:19.896790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.899584"], ["updated_at", "2020-02-07 04:41:19.899584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.901064"], ["updated_at", "2020-02-07 04:41:19.901064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.902055"], ["updated_at", "2020-02-07 04:41:19.902055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.902955"], ["updated_at", "2020-02-07 04:41:19.902955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.904263"], ["updated_at", "2020-02-07 04:41:19.904263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.905308"], ["updated_at", "2020-02-07 04:41:19.905308"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.908122"], ["updated_at", "2020-02-07 04:41:19.908122"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.909905"], ["updated_at", "2020-02-07 04:41:19.909905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.911619"], ["updated_at", "2020-02-07 04:41:19.911619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.912736"], ["updated_at", "2020-02-07 04:41:19.912736"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.913709"], ["updated_at", "2020-02-07 04:41:19.913709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.915164"], ["updated_at", "2020-02-07 04:41:19.915164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.917360"], ["updated_at", "2020-02-07 04:41:19.917360"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.918685"], ["updated_at", "2020-02-07 04:41:19.918685"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.919947"], ["updated_at", "2020-02-07 04:41:19.919947"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.921747"], ["updated_at", "2020-02-07 04:41:19.921747"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.922756"], ["updated_at", "2020-02-07 04:41:19.922756"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.923866"], ["updated_at", "2020-02-07 04:41:19.923866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.926151"], ["updated_at", "2020-02-07 04:41:19.926151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.927836"], ["updated_at", "2020-02-07 04:41:19.927836"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.928873"], ["updated_at", "2020-02-07 04:41:19.928873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.929739"], ["updated_at", "2020-02-07 04:41:19.929739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.930546"], ["updated_at", "2020-02-07 04:41:19.930546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.931373"], ["updated_at", "2020-02-07 04:41:19.931373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.936158"], ["updated_at", "2020-02-07 04:41:19.936158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.937661"], ["updated_at", "2020-02-07 04:41:19.937661"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.938605"], ["updated_at", "2020-02-07 04:41:19.938605"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.939492"], ["updated_at", "2020-02-07 04:41:19.939492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.941210"], ["updated_at", "2020-02-07 04:41:19.941210"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.942906"], ["updated_at", "2020-02-07 04:41:19.942906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.945129"], ["updated_at", "2020-02-07 04:41:19.945129"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.947111"], ["updated_at", "2020-02-07 04:41:19.947111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.948062"], ["updated_at", "2020-02-07 04:41:19.948062"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.948911"], ["updated_at", "2020-02-07 04:41:19.948911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.949721"], ["updated_at", "2020-02-07 04:41:19.949721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.950572"], ["updated_at", "2020-02-07 04:41:19.950572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.952969"], ["updated_at", "2020-02-07 04:41:19.952969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.954198"], ["updated_at", "2020-02-07 04:41:19.954198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.955038"], ["updated_at", "2020-02-07 04:41:19.955038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.955919"], ["updated_at", "2020-02-07 04:41:19.955919"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.956834"], ["updated_at", "2020-02-07 04:41:19.956834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.957771"], ["updated_at", "2020-02-07 04:41:19.957771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:19.960401"], ["updated_at", "2020-02-07 04:41:19.960401"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:19.961902"], ["updated_at", "2020-02-07 04:41:19.961902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:19.963560"], ["updated_at", "2020-02-07 04:41:19.963560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:19.964436"], ["updated_at", "2020-02-07 04:41:19.964436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:19.965259"], ["updated_at", "2020-02-07 04:41:19.965259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:19.966076"], ["updated_at", "2020-02-07 04:41:19.966076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInquirements (20200207034308)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "inquirements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "state" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200207034308"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_agent_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_agents_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_title' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_signing_number' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_resource_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_docs_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_flow_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_members_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_flow_stages_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_parent_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signing_result' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_dept_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_signer_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_records_on_larvata_signing_stage_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_resourceable' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resource_records_on_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_code' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_resources_on_larvata_signing_flow_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_stages_on_larvata_signing_doc_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_typing' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_larvata_signing_todos_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:39.987224"], ["updated_at", "2020-02-07 04:41:39.987224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:39.989952"], ["updated_at", "2020-02-07 04:41:39.989952"]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:39.991884"], ["updated_at", "2020-02-07 04:41:39.991884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:39.994094"], ["updated_at", "2020-02-07 04:41:39.994094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.004126"], ["updated_at", "2020-02-07 04:41:40.004126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.005179"], ["updated_at", "2020-02-07 04:41:40.005179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:41:40.058733"], ["updated_at", "2020-02-07 04:41:40.058733"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:41:40.059693"], ["updated_at", "2020-02-07 04:41:40.059693"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:41:40.060742"], ["updated_at", "2020-02-07 04:41:40.060742"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:41:40.061619"], ["updated_at", "2020-02-07 04:41:40.061619"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.062330"], ["updated_at", "2020-02-07 04:41:40.062330"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:41:40.062822"], ["updated_at", "2020-02-07 04:41:40.062822"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.063614"], ["updated_at", "2020-02-07 04:41:40.063614"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:41:40.064111"], ["updated_at", "2020-02-07 04:41:40.064111"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:41:40.064788"], ["updated_at", "2020-02-07 04:41:40.064788"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.065476"], ["updated_at", "2020-02-07 04:41:40.065476"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:41:40.065961"], ["updated_at", "2020-02-07 04:41:40.065961"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:41:40.112844"], ["updated_at", "2020-02-07 04:41:40.112844"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.113873"], ["updated_at", "2020-02-07 04:41:40.113873"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.114742"], ["updated_at", "2020-02-07 04:41:40.114742"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.115416"], ["updated_at", "2020-02-07 04:41:40.115416"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.116301"], ["updated_at", "2020-02-07 04:41:40.116301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.116969"], ["updated_at", "2020-02-07 04:41:40.116969"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.117653"], ["updated_at", "2020-02-07 04:41:40.117653"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.121188"], ["updated_at", "2020-02-07 04:41:40.121188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.122345"], ["updated_at", "2020-02-07 04:41:40.122345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.123180"], ["updated_at", "2020-02-07 04:41:40.123180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.124056"], ["updated_at", "2020-02-07 04:41:40.124056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.124902"], ["updated_at", "2020-02-07 04:41:40.124902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.125716"], ["updated_at", "2020-02-07 04:41:40.125716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:41:40.133230"], ["updated_at", "2020-02-07 04:41:40.133230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:41:40.134475"], ["updated_at", "2020-02-07 04:41:40.134475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:41:40.135458"], ["updated_at", "2020-02-07 04:41:40.135458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:41:40.163287"], ["updated_at", "2020-02-07 04:41:40.163287"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:41:40.164245"], ["updated_at", "2020-02-07 04:41:40.164245"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:41:40.165040"], ["updated_at", "2020-02-07 04:41:40.165040"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:41:40.165626"], ["updated_at", "2020-02-07 04:41:40.165626"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:41:40.166337"], ["updated_at", "2020-02-07 04:41:40.166337"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:41:40.167203"], ["updated_at", "2020-02-07 04:41:40.167203"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.168093"], ["updated_at", "2020-02-07 04:41:40.168093"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.168823"], ["updated_at", "2020-02-07 04:41:40.168823"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.169622"], ["updated_at", "2020-02-07 04:41:40.169622"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.170380"], ["updated_at", "2020-02-07 04:41:40.170380"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.171076"], ["updated_at", "2020-02-07 04:41:40.171076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:41:40.178717' and '2020-02-07 04:41:40.178730' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 04:41:40.179652"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:41:40.182004"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:41:40.183221"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.187436"], ["updated_at", "2020-02-07 04:41:40.187436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.188604"], ["updated_at", "2020-02-07 04:41:40.188604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.189450"], ["updated_at", "2020-02-07 04:41:40.189450"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.190273"], ["updated_at", "2020-02-07 04:41:40.190273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.191099"], ["updated_at", "2020-02-07 04:41:40.191099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.191946"], ["updated_at", "2020-02-07 04:41:40.191946"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:41:40.193162"], ["updated_at", "2020-02-07 04:41:40.193162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:41:40.194191"], ["updated_at", "2020-02-07 04:41:40.194191"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:41:40.195076"], ["updated_at", "2020-02-07 04:41:40.195076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:41:40.199767"], ["updated_at", "2020-02-07 04:41:40.199767"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:41:40.200719"], ["updated_at", "2020-02-07 04:41:40.200719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:41:40.201546"], ["updated_at", "2020-02-07 04:41:40.201546"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:41:40.202153"], ["updated_at", "2020-02-07 04:41:40.202153"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:41:40.202911"], ["updated_at", "2020-02-07 04:41:40.202911"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:41:40.203813"], ["updated_at", "2020-02-07 04:41:40.203813"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.204816"], ["updated_at", "2020-02-07 04:41:40.204816"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.205552"], ["updated_at", "2020-02-07 04:41:40.205552"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.206263"], ["updated_at", "2020-02-07 04:41:40.206263"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.207208"], ["updated_at", "2020-02-07 04:41:40.207208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.207960"], ["updated_at", "2020-02-07 04:41:40.207960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:41:40.210625' and '2020-02-07 04:41:40.210633' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "reject"], ["updated_at", "2020-02-07 04:41:40.211414"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:41:40.213196"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (1.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:41:40.215377"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.217998"], ["updated_at", "2020-02-07 04:41:40.217998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.219136"], ["updated_at", "2020-02-07 04:41:40.219136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.220036"], ["updated_at", "2020-02-07 04:41:40.220036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.220848"], ["updated_at", "2020-02-07 04:41:40.220848"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.221652"], ["updated_at", "2020-02-07 04:41:40.221652"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.222735"], ["updated_at", "2020-02-07 04:41:40.222735"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:41:40.224103"], ["updated_at", "2020-02-07 04:41:40.224103"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:41:40.225221"], ["updated_at", "2020-02-07 04:41:40.225221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:41:40.226163"], ["updated_at", "2020-02-07 04:41:40.226163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:41:40.231335"], ["updated_at", "2020-02-07 04:41:40.231335"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:41:40.232344"], ["updated_at", "2020-02-07 04:41:40.232344"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:41:40.233131"], ["updated_at", "2020-02-07 04:41:40.233131"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:41:40.233736"], ["updated_at", "2020-02-07 04:41:40.233736"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:41:40.234411"], ["updated_at", "2020-02-07 04:41:40.234411"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:41:40.235331"], ["updated_at", "2020-02-07 04:41:40.235331"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.236402"], ["updated_at", "2020-02-07 04:41:40.236402"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.237164"], ["updated_at", "2020-02-07 04:41:40.237164"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.237885"], ["updated_at", "2020-02-07 04:41:40.237885"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:41:40.238616"], ["updated_at", "2020-02-07 04:41:40.238616"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:41:40.239315"], ["updated_at", "2020-02-07 04:41:40.239315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:41:40.241988' and '2020-02-07 04:41:40.241997' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.251733"], ["updated_at", "2020-02-07 04:41:40.251733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.252983"], ["updated_at", "2020-02-07 04:41:40.252983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.253826"], ["updated_at", "2020-02-07 04:41:40.253826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.254645"], ["updated_at", "2020-02-07 04:41:40.254645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.255475"], ["updated_at", "2020-02-07 04:41:40.255475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.256299"], ["updated_at", "2020-02-07 04:41:40.256299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.258094"], ["updated_at", "2020-02-07 04:41:40.258094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.259269"], ["updated_at", "2020-02-07 04:41:40.259269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.260169"], ["updated_at", "2020-02-07 04:41:40.260169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.261102"], ["updated_at", "2020-02-07 04:41:40.261102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.262126"], ["updated_at", "2020-02-07 04:41:40.262126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.263001"], ["updated_at", "2020-02-07 04:41:40.263001"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.265005"], ["updated_at", "2020-02-07 04:41:40.265005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.266235"], ["updated_at", "2020-02-07 04:41:40.266235"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.267126"], ["updated_at", "2020-02-07 04:41:40.267126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.267985"], ["updated_at", "2020-02-07 04:41:40.267985"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.268950"], ["updated_at", "2020-02-07 04:41:40.268950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.269856"], ["updated_at", "2020-02-07 04:41:40.269856"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.271818"], ["updated_at", "2020-02-07 04:41:40.271818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.272982"], ["updated_at", "2020-02-07 04:41:40.272982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.273861"], ["updated_at", "2020-02-07 04:41:40.273861"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.274928"], ["updated_at", "2020-02-07 04:41:40.274928"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.276650"], ["updated_at", "2020-02-07 04:41:40.276650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.277618"], ["updated_at", "2020-02-07 04:41:40.277618"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.279600"], ["updated_at", "2020-02-07 04:41:40.279600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.280799"], ["updated_at", "2020-02-07 04:41:40.280799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.281678"], ["updated_at", "2020-02-07 04:41:40.281678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.282537"], ["updated_at", "2020-02-07 04:41:40.282537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.283398"], ["updated_at", "2020-02-07 04:41:40.283398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.284255"], ["updated_at", "2020-02-07 04:41:40.284255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.287086"], ["updated_at", "2020-02-07 04:41:40.287086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.288454"], ["updated_at", "2020-02-07 04:41:40.288454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.289437"], ["updated_at", "2020-02-07 04:41:40.289437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.290462"], ["updated_at", "2020-02-07 04:41:40.290462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.291429"], ["updated_at", "2020-02-07 04:41:40.291429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.292365"], ["updated_at", "2020-02-07 04:41:40.292365"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.294737"], ["updated_at", "2020-02-07 04:41:40.294737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.296113"], ["updated_at", "2020-02-07 04:41:40.296113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.297079"], ["updated_at", "2020-02-07 04:41:40.297079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.297984"], ["updated_at", "2020-02-07 04:41:40.297984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.298867"], ["updated_at", "2020-02-07 04:41:40.298867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.299735"], ["updated_at", "2020-02-07 04:41:40.299735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:41:40.302548"], ["updated_at", "2020-02-07 04:41:40.302548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:41:40.303862"], ["updated_at", "2020-02-07 04:41:40.303862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:41:40.305086"], ["updated_at", "2020-02-07 04:41:40.305086"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:41:40.306122"], ["updated_at", "2020-02-07 04:41:40.306122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:41:40.307096"], ["updated_at", "2020-02-07 04:41:40.307096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:41:40.308205"], ["updated_at", "2020-02-07 04:41:40.308205"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.639909"], ["updated_at", "2020-02-07 04:43:03.639909"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.642780"], ["updated_at", "2020-02-07 04:43:03.642780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.645042"], ["updated_at", "2020-02-07 04:43:03.645042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.646127"], ["updated_at", "2020-02-07 04:43:03.646127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.654119"], ["updated_at", "2020-02-07 04:43:03.654119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.654939"], ["updated_at", "2020-02-07 04:43:03.654939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:43:03.703725"], ["updated_at", "2020-02-07 04:43:03.703725"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:43:03.705374"], ["updated_at", "2020-02-07 04:43:03.705374"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:43:03.706804"], ["updated_at", "2020-02-07 04:43:03.706804"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:03.707793"], ["updated_at", "2020-02-07 04:43:03.707793"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.708358"], ["updated_at", "2020-02-07 04:43:03.708358"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:43:03.708819"], ["updated_at", "2020-02-07 04:43:03.708819"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.710095"], ["updated_at", "2020-02-07 04:43:03.710095"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:43:03.710474"], ["updated_at", "2020-02-07 04:43:03.710474"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:03.711018"], ["updated_at", "2020-02-07 04:43:03.711018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.711562"], ["updated_at", "2020-02-07 04:43:03.711562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:43:03.711923"], ["updated_at", "2020-02-07 04:43:03.711923"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:03.746918"], ["updated_at", "2020-02-07 04:43:03.746918"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.748025"], ["updated_at", "2020-02-07 04:43:03.748025"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.749273"], ["updated_at", "2020-02-07 04:43:03.749273"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.749719"], ["updated_at", "2020-02-07 04:43:03.749719"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.751194"], ["updated_at", "2020-02-07 04:43:03.751194"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.751883"], ["updated_at", "2020-02-07 04:43:03.751883"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.752382"], ["updated_at", "2020-02-07 04:43:03.752382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.756451"], ["updated_at", "2020-02-07 04:43:03.756451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.757246"], ["updated_at", "2020-02-07 04:43:03.757246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.757815"], ["updated_at", "2020-02-07 04:43:03.757815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.758376"], ["updated_at", "2020-02-07 04:43:03.758376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.758936"], ["updated_at", "2020-02-07 04:43:03.758936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.759660"], ["updated_at", "2020-02-07 04:43:03.759660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:03.766625"], ["updated_at", "2020-02-07 04:43:03.766625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:03.767834"], ["updated_at", "2020-02-07 04:43:03.767834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:03.768473"], ["updated_at", "2020-02-07 04:43:03.768473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:03.790827"], ["updated_at", "2020-02-07 04:43:03.790827"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:03.791653"], ["updated_at", "2020-02-07 04:43:03.791653"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:03.792733"], ["updated_at", "2020-02-07 04:43:03.792733"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:03.793203"], ["updated_at", "2020-02-07 04:43:03.793203"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:03.793719"], ["updated_at", "2020-02-07 04:43:03.793719"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:03.794418"], ["updated_at", "2020-02-07 04:43:03.794418"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.795297"], ["updated_at", "2020-02-07 04:43:03.795297"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.795929"], ["updated_at", "2020-02-07 04:43:03.795929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.796548"], ["updated_at", "2020-02-07 04:43:03.796548"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.797262"], ["updated_at", "2020-02-07 04:43:03.797262"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.797995"], ["updated_at", "2020-02-07 04:43:03.797995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:03.804131' and '2020-02-07 04:43:03.804141' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 04:43:03.805009"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:43:03.806633"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:43:03.807645"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.810953"], ["updated_at", "2020-02-07 04:43:03.810953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.811860"], ["updated_at", "2020-02-07 04:43:03.811860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.812517"], ["updated_at", "2020-02-07 04:43:03.812517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.813168"], ["updated_at", "2020-02-07 04:43:03.813168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.813808"], ["updated_at", "2020-02-07 04:43:03.813808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.814439"], ["updated_at", "2020-02-07 04:43:03.814439"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:03.815386"], ["updated_at", "2020-02-07 04:43:03.815386"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:03.816150"], ["updated_at", "2020-02-07 04:43:03.816150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:03.816830"], ["updated_at", "2020-02-07 04:43:03.816830"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:03.820235"], ["updated_at", "2020-02-07 04:43:03.820235"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:03.820891"], ["updated_at", "2020-02-07 04:43:03.820891"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:03.821513"], ["updated_at", "2020-02-07 04:43:03.821513"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:03.821975"], ["updated_at", "2020-02-07 04:43:03.821975"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:03.822487"], ["updated_at", "2020-02-07 04:43:03.822487"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:03.823102"], ["updated_at", "2020-02-07 04:43:03.823102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.823819"], ["updated_at", "2020-02-07 04:43:03.823819"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.824356"], ["updated_at", "2020-02-07 04:43:03.824356"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.824929"], ["updated_at", "2020-02-07 04:43:03.824929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.825476"], ["updated_at", "2020-02-07 04:43:03.825476"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.826063"], ["updated_at", "2020-02-07 04:43:03.826063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:03.828162' and '2020-02-07 04:43:03.828170' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "reject"], ["updated_at", "2020-02-07 04:43:03.828833"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:43:03.830375"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:43:03.831272"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.844142"], ["updated_at", "2020-02-07 04:43:03.844142"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.845326"], ["updated_at", "2020-02-07 04:43:03.845326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.846082"], ["updated_at", "2020-02-07 04:43:03.846082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.846785"], ["updated_at", "2020-02-07 04:43:03.846785"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.847464"], ["updated_at", "2020-02-07 04:43:03.847464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.848141"], ["updated_at", "2020-02-07 04:43:03.848141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:03.849100"], ["updated_at", "2020-02-07 04:43:03.849100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:03.849882"], ["updated_at", "2020-02-07 04:43:03.849882"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:03.879949"], ["updated_at", "2020-02-07 04:43:03.879949"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:03.885226"], ["updated_at", "2020-02-07 04:43:03.885226"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:03.886035"], ["updated_at", "2020-02-07 04:43:03.886035"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:03.886713"], ["updated_at", "2020-02-07 04:43:03.886713"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:03.887243"], ["updated_at", "2020-02-07 04:43:03.887243"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:03.887824"], ["updated_at", "2020-02-07 04:43:03.887824"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:03.888446"], ["updated_at", "2020-02-07 04:43:03.888446"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.889159"], ["updated_at", "2020-02-07 04:43:03.889159"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.889688"], ["updated_at", "2020-02-07 04:43:03.889688"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.890309"], ["updated_at", "2020-02-07 04:43:03.890309"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:03.890850"], ["updated_at", "2020-02-07 04:43:03.890850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:03.891370"], ["updated_at", "2020-02-07 04:43:03.891370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:03.893339' and '2020-02-07 04:43:03.893345' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.901636"], ["updated_at", "2020-02-07 04:43:03.901636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.902574"], ["updated_at", "2020-02-07 04:43:03.902574"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.903228"], ["updated_at", "2020-02-07 04:43:03.903228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.903878"], ["updated_at", "2020-02-07 04:43:03.903878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.904531"], ["updated_at", "2020-02-07 04:43:03.904531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.905173"], ["updated_at", "2020-02-07 04:43:03.905173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.906580"], ["updated_at", "2020-02-07 04:43:03.906580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.907446"], ["updated_at", "2020-02-07 04:43:03.907446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.908095"], ["updated_at", "2020-02-07 04:43:03.908095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.908732"], ["updated_at", "2020-02-07 04:43:03.908732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.909359"], ["updated_at", "2020-02-07 04:43:03.909359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.910000"], ["updated_at", "2020-02-07 04:43:03.910000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.911761"], ["updated_at", "2020-02-07 04:43:03.911761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.912704"], ["updated_at", "2020-02-07 04:43:03.912704"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.913990"], ["updated_at", "2020-02-07 04:43:03.913990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.914739"], ["updated_at", "2020-02-07 04:43:03.914739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.915381"], ["updated_at", "2020-02-07 04:43:03.915381"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.916016"], ["updated_at", "2020-02-07 04:43:03.916016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.917359"], ["updated_at", "2020-02-07 04:43:03.917359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.918184"], ["updated_at", "2020-02-07 04:43:03.918184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.918824"], ["updated_at", "2020-02-07 04:43:03.918824"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.919463"], ["updated_at", "2020-02-07 04:43:03.919463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.920098"], ["updated_at", "2020-02-07 04:43:03.920098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.920759"], ["updated_at", "2020-02-07 04:43:03.920759"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.922092"], ["updated_at", "2020-02-07 04:43:03.922092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.922929"], ["updated_at", "2020-02-07 04:43:03.922929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.923583"], ["updated_at", "2020-02-07 04:43:03.923583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.924333"], ["updated_at", "2020-02-07 04:43:03.924333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.925017"], ["updated_at", "2020-02-07 04:43:03.925017"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.925682"], ["updated_at", "2020-02-07 04:43:03.925682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.927164"], ["updated_at", "2020-02-07 04:43:03.927164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.928030"], ["updated_at", "2020-02-07 04:43:03.928030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.928769"], ["updated_at", "2020-02-07 04:43:03.928769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.929498"], ["updated_at", "2020-02-07 04:43:03.929498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.930202"], ["updated_at", "2020-02-07 04:43:03.930202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.930868"], ["updated_at", "2020-02-07 04:43:03.930868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.932640"], ["updated_at", "2020-02-07 04:43:03.932640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.933570"], ["updated_at", "2020-02-07 04:43:03.933570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.934255"], ["updated_at", "2020-02-07 04:43:03.934255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.934951"], ["updated_at", "2020-02-07 04:43:03.934951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.935740"], ["updated_at", "2020-02-07 04:43:03.935740"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.936436"], ["updated_at", "2020-02-07 04:43:03.936436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:03.938020"], ["updated_at", "2020-02-07 04:43:03.938020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:03.938930"], ["updated_at", "2020-02-07 04:43:03.938930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:03.939620"], ["updated_at", "2020-02-07 04:43:03.939620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:03.940326"], ["updated_at", "2020-02-07 04:43:03.940326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:03.940991"], ["updated_at", "2020-02-07 04:43:03.940991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:03.941661"], ["updated_at", "2020-02-07 04:43:03.941661"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.255968"], ["updated_at", "2020-02-07 04:43:19.255968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.258087"], ["updated_at", "2020-02-07 04:43:19.258087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.258825"], ["updated_at", "2020-02-07 04:43:19.258825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.259519"], ["updated_at", "2020-02-07 04:43:19.259519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.260207"], ["updated_at", "2020-02-07 04:43:19.260207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.260910"], ["updated_at", "2020-02-07 04:43:19.260910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:43:19.303873"], ["updated_at", "2020-02-07 04:43:19.303873"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:43:19.304970"], ["updated_at", "2020-02-07 04:43:19.304970"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:43:19.306339"], ["updated_at", "2020-02-07 04:43:19.306339"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:19.307270"], ["updated_at", "2020-02-07 04:43:19.307270"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.307832"], ["updated_at", "2020-02-07 04:43:19.307832"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:43:19.308223"], ["updated_at", "2020-02-07 04:43:19.308223"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.309193"], ["updated_at", "2020-02-07 04:43:19.309193"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:43:19.309587"], ["updated_at", "2020-02-07 04:43:19.309587"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:19.310137"], ["updated_at", "2020-02-07 04:43:19.310137"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.310716"], ["updated_at", "2020-02-07 04:43:19.310716"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:43:19.311096"], ["updated_at", "2020-02-07 04:43:19.311096"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:19.350143"], ["updated_at", "2020-02-07 04:43:19.350143"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.351378"], ["updated_at", "2020-02-07 04:43:19.351378"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.352663"], ["updated_at", "2020-02-07 04:43:19.352663"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.353208"], ["updated_at", "2020-02-07 04:43:19.353208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.354759"], ["updated_at", "2020-02-07 04:43:19.354759"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.355377"], ["updated_at", "2020-02-07 04:43:19.355377"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.355898"], ["updated_at", "2020-02-07 04:43:19.355898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.358720"], ["updated_at", "2020-02-07 04:43:19.358720"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.359698"], ["updated_at", "2020-02-07 04:43:19.359698"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.360415"], ["updated_at", "2020-02-07 04:43:19.360415"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.361083"], ["updated_at", "2020-02-07 04:43:19.361083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.361749"], ["updated_at", "2020-02-07 04:43:19.361749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.362408"], ["updated_at", "2020-02-07 04:43:19.362408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:19.368250"], ["updated_at", "2020-02-07 04:43:19.368250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:19.369602"], ["updated_at", "2020-02-07 04:43:19.369602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:19.370345"], ["updated_at", "2020-02-07 04:43:19.370345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:19.393259"], ["updated_at", "2020-02-07 04:43:19.393259"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:19.393995"], ["updated_at", "2020-02-07 04:43:19.393995"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:19.395100"], ["updated_at", "2020-02-07 04:43:19.395100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:19.395555"], ["updated_at", "2020-02-07 04:43:19.395555"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:19.396066"], ["updated_at", "2020-02-07 04:43:19.396066"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:19.396676"], ["updated_at", "2020-02-07 04:43:19.396676"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.397392"], ["updated_at", "2020-02-07 04:43:19.397392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.397917"], ["updated_at", "2020-02-07 04:43:19.397917"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.398430"], ["updated_at", "2020-02-07 04:43:19.398430"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.398959"], ["updated_at", "2020-02-07 04:43:19.398959"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.399488"], ["updated_at", "2020-02-07 04:43:19.399488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:19.405691' and '2020-02-07 04:43:19.405701' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 04:43:19.406629"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:43:19.408303"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:43:19.409284"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.412582"], ["updated_at", "2020-02-07 04:43:19.412582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.413513"], ["updated_at", "2020-02-07 04:43:19.413513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.414172"], ["updated_at", "2020-02-07 04:43:19.414172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.414818"], ["updated_at", "2020-02-07 04:43:19.414818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.415458"], ["updated_at", "2020-02-07 04:43:19.415458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.416112"], ["updated_at", "2020-02-07 04:43:19.416112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:19.417039"], ["updated_at", "2020-02-07 04:43:19.417039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:19.417779"], ["updated_at", "2020-02-07 04:43:19.417779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:19.418437"], ["updated_at", "2020-02-07 04:43:19.418437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:19.421838"], ["updated_at", "2020-02-07 04:43:19.421838"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:19.422497"], ["updated_at", "2020-02-07 04:43:19.422497"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:19.423114"], ["updated_at", "2020-02-07 04:43:19.423114"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:19.423569"], ["updated_at", "2020-02-07 04:43:19.423569"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:19.424186"], ["updated_at", "2020-02-07 04:43:19.424186"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:19.424799"], ["updated_at", "2020-02-07 04:43:19.424799"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.425512"], ["updated_at", "2020-02-07 04:43:19.425512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.426047"], ["updated_at", "2020-02-07 04:43:19.426047"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.426570"], ["updated_at", "2020-02-07 04:43:19.426570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.427107"], ["updated_at", "2020-02-07 04:43:19.427107"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.427630"], ["updated_at", "2020-02-07 04:43:19.427630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:19.429605' and '2020-02-07 04:43:19.429613' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "reject"], ["updated_at", "2020-02-07 04:43:19.430265"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:43:19.431740"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:43:19.432712"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.445345"], ["updated_at", "2020-02-07 04:43:19.445345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.446334"], ["updated_at", "2020-02-07 04:43:19.446334"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.446989"], ["updated_at", "2020-02-07 04:43:19.446989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.447636"], ["updated_at", "2020-02-07 04:43:19.447636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.448276"], ["updated_at", "2020-02-07 04:43:19.448276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.448912"], ["updated_at", "2020-02-07 04:43:19.448912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:19.449849"], ["updated_at", "2020-02-07 04:43:19.449849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:19.450595"], ["updated_at", "2020-02-07 04:43:19.450595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:19.451256"], ["updated_at", "2020-02-07 04:43:19.451256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:19.454718"], ["updated_at", "2020-02-07 04:43:19.454718"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:19.455417"], ["updated_at", "2020-02-07 04:43:19.455417"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:19.456011"], ["updated_at", "2020-02-07 04:43:19.456011"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:19.456466"], ["updated_at", "2020-02-07 04:43:19.456466"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:19.456977"], ["updated_at", "2020-02-07 04:43:19.456977"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:19.457587"], ["updated_at", "2020-02-07 04:43:19.457587"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.458301"], ["updated_at", "2020-02-07 04:43:19.458301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.458829"], ["updated_at", "2020-02-07 04:43:19.458829"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.459344"], ["updated_at", "2020-02-07 04:43:19.459344"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:19.459884"], ["updated_at", "2020-02-07 04:43:19.459884"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:19.460407"], ["updated_at", "2020-02-07 04:43:19.460407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:19.462318' and '2020-02-07 04:43:19.462326' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.470099"], ["updated_at", "2020-02-07 04:43:19.470099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.471305"], ["updated_at", "2020-02-07 04:43:19.471305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.472078"], ["updated_at", "2020-02-07 04:43:19.472078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.472790"], ["updated_at", "2020-02-07 04:43:19.472790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.473464"], ["updated_at", "2020-02-07 04:43:19.473464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.474132"], ["updated_at", "2020-02-07 04:43:19.474132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.475612"], ["updated_at", "2020-02-07 04:43:19.475612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.476488"], ["updated_at", "2020-02-07 04:43:19.476488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.477165"], ["updated_at", "2020-02-07 04:43:19.477165"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.477816"], ["updated_at", "2020-02-07 04:43:19.477816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.478454"], ["updated_at", "2020-02-07 04:43:19.478454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.479209"], ["updated_at", "2020-02-07 04:43:19.479209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.481687"], ["updated_at", "2020-02-07 04:43:19.481687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.482795"], ["updated_at", "2020-02-07 04:43:19.482795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.483527"], ["updated_at", "2020-02-07 04:43:19.483527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.484214"], ["updated_at", "2020-02-07 04:43:19.484214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.484871"], ["updated_at", "2020-02-07 04:43:19.484871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.485558"], ["updated_at", "2020-02-07 04:43:19.485558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.487130"], ["updated_at", "2020-02-07 04:43:19.487130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.488090"], ["updated_at", "2020-02-07 04:43:19.488090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.488858"], ["updated_at", "2020-02-07 04:43:19.488858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.489578"], ["updated_at", "2020-02-07 04:43:19.489578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.490265"], ["updated_at", "2020-02-07 04:43:19.490265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.490950"], ["updated_at", "2020-02-07 04:43:19.490950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.492508"], ["updated_at", "2020-02-07 04:43:19.492508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.493389"], ["updated_at", "2020-02-07 04:43:19.493389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.494053"], ["updated_at", "2020-02-07 04:43:19.494053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.494897"], ["updated_at", "2020-02-07 04:43:19.494897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.495583"], ["updated_at", "2020-02-07 04:43:19.495583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.496274"], ["updated_at", "2020-02-07 04:43:19.496274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.497872"], ["updated_at", "2020-02-07 04:43:19.497872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.498855"], ["updated_at", "2020-02-07 04:43:19.498855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.499557"], ["updated_at", "2020-02-07 04:43:19.499557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.500224"], ["updated_at", "2020-02-07 04:43:19.500224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.500943"], ["updated_at", "2020-02-07 04:43:19.500943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.501596"], ["updated_at", "2020-02-07 04:43:19.501596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.503184"], ["updated_at", "2020-02-07 04:43:19.503184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.504074"], ["updated_at", "2020-02-07 04:43:19.504074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.504753"], ["updated_at", "2020-02-07 04:43:19.504753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.505422"], ["updated_at", "2020-02-07 04:43:19.505422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.506109"], ["updated_at", "2020-02-07 04:43:19.506109"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.506764"], ["updated_at", "2020-02-07 04:43:19.506764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:19.508082"], ["updated_at", "2020-02-07 04:43:19.508082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:19.508950"], ["updated_at", "2020-02-07 04:43:19.508950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:19.509659"], ["updated_at", "2020-02-07 04:43:19.509659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:19.510327"], ["updated_at", "2020-02-07 04:43:19.510327"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:19.511572"], ["updated_at", "2020-02-07 04:43:19.511572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:19.521430"], ["updated_at", "2020-02-07 04:43:19.521430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.432485"], ["updated_at", "2020-02-07 04:43:42.432485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.436042"], ["updated_at", "2020-02-07 04:43:42.436042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.437717"], ["updated_at", "2020-02-07 04:43:42.437717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.440216"], ["updated_at", "2020-02-07 04:43:42.440216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.441779"], ["updated_at", "2020-02-07 04:43:42.441779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.443325"], ["updated_at", "2020-02-07 04:43:42.443325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:43:42.501465"], ["updated_at", "2020-02-07 04:43:42.501465"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:43:42.504101"], ["updated_at", "2020-02-07 04:43:42.504101"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:43:42.505529"], ["updated_at", "2020-02-07 04:43:42.505529"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:42.506674"], ["updated_at", "2020-02-07 04:43:42.506674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.507232"], ["updated_at", "2020-02-07 04:43:42.507232"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:43:42.507637"], ["updated_at", "2020-02-07 04:43:42.507637"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.508645"], ["updated_at", "2020-02-07 04:43:42.508645"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:43:42.509094"], ["updated_at", "2020-02-07 04:43:42.509094"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:43:42.509640"], ["updated_at", "2020-02-07 04:43:42.509640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.510179"], ["updated_at", "2020-02-07 04:43:42.510179"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:43:42.510567"], ["updated_at", "2020-02-07 04:43:42.510567"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:42.549913"], ["updated_at", "2020-02-07 04:43:42.549913"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.551176"], ["updated_at", "2020-02-07 04:43:42.551176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.552536"], ["updated_at", "2020-02-07 04:43:42.552536"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.553077"], ["updated_at", "2020-02-07 04:43:42.553077"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.554672"], ["updated_at", "2020-02-07 04:43:42.554672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.555219"], ["updated_at", "2020-02-07 04:43:42.555219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.555744"], ["updated_at", "2020-02-07 04:43:42.555744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.558641"], ["updated_at", "2020-02-07 04:43:42.558641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.560175"], ["updated_at", "2020-02-07 04:43:42.560175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.560850"], ["updated_at", "2020-02-07 04:43:42.560850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.561499"], ["updated_at", "2020-02-07 04:43:42.561499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.562162"], ["updated_at", "2020-02-07 04:43:42.562162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.562827"], ["updated_at", "2020-02-07 04:43:42.562827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:42.568506"], ["updated_at", "2020-02-07 04:43:42.568506"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:42.569678"], ["updated_at", "2020-02-07 04:43:42.569678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:42.570426"], ["updated_at", "2020-02-07 04:43:42.570426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:42.582205"], ["updated_at", "2020-02-07 04:43:42.582205"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:42.583060"], ["updated_at", "2020-02-07 04:43:42.583060"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:42.584129"], ["updated_at", "2020-02-07 04:43:42.584129"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:42.584615"], ["updated_at", "2020-02-07 04:43:42.584615"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:42.585164"], ["updated_at", "2020-02-07 04:43:42.585164"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:42.585821"], ["updated_at", "2020-02-07 04:43:42.585821"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.586599"], ["updated_at", "2020-02-07 04:43:42.586599"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.587172"], ["updated_at", "2020-02-07 04:43:42.587172"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.587705"], ["updated_at", "2020-02-07 04:43:42.587705"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.588270"], ["updated_at", "2020-02-07 04:43:42.588270"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.588809"], ["updated_at", "2020-02-07 04:43:42.588809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:42.606024' and '2020-02-07 04:43:42.606035' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 04:43:42.606886"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:43:42.608467"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:43:42.609409"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.612836"], ["updated_at", "2020-02-07 04:43:42.612836"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.613714"], ["updated_at", "2020-02-07 04:43:42.613714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.614267"], ["updated_at", "2020-02-07 04:43:42.614267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.614807"], ["updated_at", "2020-02-07 04:43:42.614807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.615346"], ["updated_at", "2020-02-07 04:43:42.615346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.615886"], ["updated_at", "2020-02-07 04:43:42.615886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:42.616768"], ["updated_at", "2020-02-07 04:43:42.616768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:42.617574"], ["updated_at", "2020-02-07 04:43:42.617574"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:42.618256"], ["updated_at", "2020-02-07 04:43:42.618256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:42.621698"], ["updated_at", "2020-02-07 04:43:42.621698"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:42.622359"], ["updated_at", "2020-02-07 04:43:42.622359"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:42.622949"], ["updated_at", "2020-02-07 04:43:42.622949"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:42.623439"], ["updated_at", "2020-02-07 04:43:42.623439"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:42.623963"], ["updated_at", "2020-02-07 04:43:42.623963"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:42.624662"], ["updated_at", "2020-02-07 04:43:42.624662"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.625475"], ["updated_at", "2020-02-07 04:43:42.625475"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.626052"], ["updated_at", "2020-02-07 04:43:42.626052"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.626570"], ["updated_at", "2020-02-07 04:43:42.626570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.627095"], ["updated_at", "2020-02-07 04:43:42.627095"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.627610"], ["updated_at", "2020-02-07 04:43:42.627610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:42.629606' and '2020-02-07 04:43:42.629614' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 04:43:42.630231"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.633132"], ["updated_at", "2020-02-07 04:43:42.633132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.634052"], ["updated_at", "2020-02-07 04:43:42.634052"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.634809"], ["updated_at", "2020-02-07 04:43:42.634809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.635486"], ["updated_at", "2020-02-07 04:43:42.635486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.636139"], ["updated_at", "2020-02-07 04:43:42.636139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.636797"], ["updated_at", "2020-02-07 04:43:42.636797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:43:42.637725"], ["updated_at", "2020-02-07 04:43:42.637725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:43:42.638499"], ["updated_at", "2020-02-07 04:43:42.638499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:43:42.639164"], ["updated_at", "2020-02-07 04:43:42.639164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:43:42.642854"], ["updated_at", "2020-02-07 04:43:42.642854"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:43:42.643587"], ["updated_at", "2020-02-07 04:43:42.643587"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:43:42.644173"], ["updated_at", "2020-02-07 04:43:42.644173"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:43:42.644621"], ["updated_at", "2020-02-07 04:43:42.644621"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:43:42.645134"], ["updated_at", "2020-02-07 04:43:42.645134"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:43:42.645751"], ["updated_at", "2020-02-07 04:43:42.645751"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.646456"], ["updated_at", "2020-02-07 04:43:42.646456"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.646976"], ["updated_at", "2020-02-07 04:43:42.646976"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.647489"], ["updated_at", "2020-02-07 04:43:42.647489"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:43:42.648086"], ["updated_at", "2020-02-07 04:43:42.648086"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:43:42.648689"], ["updated_at", "2020-02-07 04:43:42.648689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:43:42.650761' and '2020-02-07 04:43:42.650768' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.658344"], ["updated_at", "2020-02-07 04:43:42.658344"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.659547"], ["updated_at", "2020-02-07 04:43:42.659547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.660446"], ["updated_at", "2020-02-07 04:43:42.660446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.661149"], ["updated_at", "2020-02-07 04:43:42.661149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.661802"], ["updated_at", "2020-02-07 04:43:42.661802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.662444"], ["updated_at", "2020-02-07 04:43:42.662444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.663889"], ["updated_at", "2020-02-07 04:43:42.663889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.664770"], ["updated_at", "2020-02-07 04:43:42.664770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.665526"], ["updated_at", "2020-02-07 04:43:42.665526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.666239"], ["updated_at", "2020-02-07 04:43:42.666239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.666938"], ["updated_at", "2020-02-07 04:43:42.666938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.667815"], ["updated_at", "2020-02-07 04:43:42.667815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.669424"], ["updated_at", "2020-02-07 04:43:42.669424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.670312"], ["updated_at", "2020-02-07 04:43:42.670312"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.671000"], ["updated_at", "2020-02-07 04:43:42.671000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.671658"], ["updated_at", "2020-02-07 04:43:42.671658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.672396"], ["updated_at", "2020-02-07 04:43:42.672396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.673706"], ["updated_at", "2020-02-07 04:43:42.673706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.675248"], ["updated_at", "2020-02-07 04:43:42.675248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.676850"], ["updated_at", "2020-02-07 04:43:42.676850"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.677648"], ["updated_at", "2020-02-07 04:43:42.677648"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.678310"], ["updated_at", "2020-02-07 04:43:42.678310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.678961"], ["updated_at", "2020-02-07 04:43:42.678961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.679639"], ["updated_at", "2020-02-07 04:43:42.679639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.681227"], ["updated_at", "2020-02-07 04:43:42.681227"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.682170"], ["updated_at", "2020-02-07 04:43:42.682170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.682930"], ["updated_at", "2020-02-07 04:43:42.682930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.683677"], ["updated_at", "2020-02-07 04:43:42.683677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.684369"], ["updated_at", "2020-02-07 04:43:42.684369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.685029"], ["updated_at", "2020-02-07 04:43:42.685029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.686601"], ["updated_at", "2020-02-07 04:43:42.686601"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.687573"], ["updated_at", "2020-02-07 04:43:42.687573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.688276"], ["updated_at", "2020-02-07 04:43:42.688276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.688944"], ["updated_at", "2020-02-07 04:43:42.688944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.689589"], ["updated_at", "2020-02-07 04:43:42.689589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.690239"], ["updated_at", "2020-02-07 04:43:42.690239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.692645"], ["updated_at", "2020-02-07 04:43:42.692645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.693628"], ["updated_at", "2020-02-07 04:43:42.693628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.694327"], ["updated_at", "2020-02-07 04:43:42.694327"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.694995"], ["updated_at", "2020-02-07 04:43:42.694995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.695625"], ["updated_at", "2020-02-07 04:43:42.695625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.696254"], ["updated_at", "2020-02-07 04:43:42.696254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:43:42.697860"], ["updated_at", "2020-02-07 04:43:42.697860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:43:42.699011"], ["updated_at", "2020-02-07 04:43:42.699011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:43:42.699716"], ["updated_at", "2020-02-07 04:43:42.699716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:43:42.700420"], ["updated_at", "2020-02-07 04:43:42.700420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:43:42.701099"], ["updated_at", "2020-02-07 04:43:42.701099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:43:42.701857"], ["updated_at", "2020-02-07 04:43:42.701857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.429291"], ["updated_at", "2020-02-07 04:56:37.429291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.438525"], ["updated_at", "2020-02-07 04:56:37.438525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.439378"], ["updated_at", "2020-02-07 04:56:37.439378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.440103"], ["updated_at", "2020-02-07 04:56:37.440103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.440820"], ["updated_at", "2020-02-07 04:56:37.440820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.441533"], ["updated_at", "2020-02-07 04:56:37.441533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 04:56:37.496362"], ["updated_at", "2020-02-07 04:56:37.496362"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 04:56:37.497571"], ["updated_at", "2020-02-07 04:56:37.497571"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 04:56:37.499756"], ["updated_at", "2020-02-07 04:56:37.499756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:56:37.502067"], ["updated_at", "2020-02-07 04:56:37.502067"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.502811"], ["updated_at", "2020-02-07 04:56:37.502811"]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 04:56:37.503270"], ["updated_at", "2020-02-07 04:56:37.503270"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.505444"], ["updated_at", "2020-02-07 04:56:37.505444"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 04:56:37.505998"], ["updated_at", "2020-02-07 04:56:37.505998"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 04:56:37.506592"], ["updated_at", "2020-02-07 04:56:37.506592"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.507182"], ["updated_at", "2020-02-07 04:56:37.507182"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 04:56:37.507575"], ["updated_at", "2020-02-07 04:56:37.507575"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:56:37.552338"], ["updated_at", "2020-02-07 04:56:37.552338"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.554209"], ["updated_at", "2020-02-07 04:56:37.554209"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.555920"], ["updated_at", "2020-02-07 04:56:37.555920"]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.556470"], ["updated_at", "2020-02-07 04:56:37.556470"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.558892"], ["updated_at", "2020-02-07 04:56:37.558892"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.559464"], ["updated_at", "2020-02-07 04:56:37.559464"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.560028"], ["updated_at", "2020-02-07 04:56:37.560028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.563036"], ["updated_at", "2020-02-07 04:56:37.563036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.563968"], ["updated_at", "2020-02-07 04:56:37.563968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.564628"], ["updated_at", "2020-02-07 04:56:37.564628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.565299"], ["updated_at", "2020-02-07 04:56:37.565299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.565851"], ["updated_at", "2020-02-07 04:56:37.565851"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.566494"], ["updated_at", "2020-02-07 04:56:37.566494"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:56:37.572657"], ["updated_at", "2020-02-07 04:56:37.572657"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:56:37.574069"], ["updated_at", "2020-02-07 04:56:37.574069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:56:37.574849"], ["updated_at", "2020-02-07 04:56:37.574849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:56:37.599069"], ["updated_at", "2020-02-07 04:56:37.599069"]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:56:37.599880"], ["updated_at", "2020-02-07 04:56:37.599880"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:56:37.602578"], ["updated_at", "2020-02-07 04:56:37.602578"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:56:37.603058"], ["updated_at", "2020-02-07 04:56:37.603058"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:56:37.603582"], ["updated_at", "2020-02-07 04:56:37.603582"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:56:37.604212"], ["updated_at", "2020-02-07 04:56:37.604212"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.604937"], ["updated_at", "2020-02-07 04:56:37.604937"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.605464"], ["updated_at", "2020-02-07 04:56:37.605464"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.605973"], ["updated_at", "2020-02-07 04:56:37.605973"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.606503"], ["updated_at", "2020-02-07 04:56:37.606503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.607020"], ["updated_at", "2020-02-07 04:56:37.607020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:56:37.614804' and '2020-02-07 04:56:37.614815' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 04:56:37.616099"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 04:56:37.617925"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 04:56:37.618925"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.622410"], ["updated_at", "2020-02-07 04:56:37.622410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.623331"], ["updated_at", "2020-02-07 04:56:37.623331"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.623976"], ["updated_at", "2020-02-07 04:56:37.623976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.624613"], ["updated_at", "2020-02-07 04:56:37.624613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.625254"], ["updated_at", "2020-02-07 04:56:37.625254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.625914"], ["updated_at", "2020-02-07 04:56:37.625914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:56:37.627057"], ["updated_at", "2020-02-07 04:56:37.627057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:56:37.629199"], ["updated_at", "2020-02-07 04:56:37.629199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:56:37.629906"], ["updated_at", "2020-02-07 04:56:37.629906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:56:37.633835"], ["updated_at", "2020-02-07 04:56:37.633835"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:56:37.634613"], ["updated_at", "2020-02-07 04:56:37.634613"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:56:37.635231"], ["updated_at", "2020-02-07 04:56:37.635231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:56:37.635753"], ["updated_at", "2020-02-07 04:56:37.635753"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:56:37.636310"], ["updated_at", "2020-02-07 04:56:37.636310"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:56:37.636980"], ["updated_at", "2020-02-07 04:56:37.636980"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.637745"], ["updated_at", "2020-02-07 04:56:37.637745"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.638820"], ["updated_at", "2020-02-07 04:56:37.638820"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.639347"], ["updated_at", "2020-02-07 04:56:37.639347"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.639892"], ["updated_at", "2020-02-07 04:56:37.639892"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.640418"], ["updated_at", "2020-02-07 04:56:37.640418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:56:37.642422' and '2020-02-07 04:56:37.642428' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 04:56:37.643026"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::ResourceRecord Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resource_records".* FROM "larvata_signing_resource_records" WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_resource_records"."id" ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.661343"], ["updated_at", "2020-02-07 04:56:37.661343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.662324"], ["updated_at", "2020-02-07 04:56:37.662324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.662969"], ["updated_at", "2020-02-07 04:56:37.662969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.663614"], ["updated_at", "2020-02-07 04:56:37.663614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.664257"], ["updated_at", "2020-02-07 04:56:37.664257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.664889"], ["updated_at", "2020-02-07 04:56:37.664889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 04:56:37.665914"], ["updated_at", "2020-02-07 04:56:37.665914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 04:56:37.666748"], ["updated_at", "2020-02-07 04:56:37.666748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 04:56:37.667540"], ["updated_at", "2020-02-07 04:56:37.667540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 04:56:37.671667"], ["updated_at", "2020-02-07 04:56:37.671667"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 04:56:37.672771"], ["updated_at", "2020-02-07 04:56:37.672771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 04:56:37.673629"], ["updated_at", "2020-02-07 04:56:37.673629"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 04:56:37.674319"], ["updated_at", "2020-02-07 04:56:37.674319"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 04:56:37.675053"], ["updated_at", "2020-02-07 04:56:37.675053"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 04:56:37.675779"], ["updated_at", "2020-02-07 04:56:37.675779"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.676588"], ["updated_at", "2020-02-07 04:56:37.676588"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.677159"], ["updated_at", "2020-02-07 04:56:37.677159"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.677709"], ["updated_at", "2020-02-07 04:56:37.677709"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 04:56:37.678290"], ["updated_at", "2020-02-07 04:56:37.678290"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 04:56:37.678851"], ["updated_at", "2020-02-07 04:56:37.678851"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 04:56:37.681417' and '2020-02-07 04:56:37.681428' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.690784"], ["updated_at", "2020-02-07 04:56:37.690784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.691802"], ["updated_at", "2020-02-07 04:56:37.691802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.692477"], ["updated_at", "2020-02-07 04:56:37.692477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.693317"], ["updated_at", "2020-02-07 04:56:37.693317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.693870"], ["updated_at", "2020-02-07 04:56:37.693870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.694541"], ["updated_at", "2020-02-07 04:56:37.694541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.695890"], ["updated_at", "2020-02-07 04:56:37.695890"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.696729"], ["updated_at", "2020-02-07 04:56:37.696729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.697377"], ["updated_at", "2020-02-07 04:56:37.697377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.698017"], ["updated_at", "2020-02-07 04:56:37.698017"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.698656"], ["updated_at", "2020-02-07 04:56:37.698656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.699299"], ["updated_at", "2020-02-07 04:56:37.699299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.700899"], ["updated_at", "2020-02-07 04:56:37.700899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.702684"], ["updated_at", "2020-02-07 04:56:37.702684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.703420"], ["updated_at", "2020-02-07 04:56:37.703420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.704102"], ["updated_at", "2020-02-07 04:56:37.704102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.704773"], ["updated_at", "2020-02-07 04:56:37.704773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.706030"], ["updated_at", "2020-02-07 04:56:37.706030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.707589"], ["updated_at", "2020-02-07 04:56:37.707589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.708454"], ["updated_at", "2020-02-07 04:56:37.708454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.709118"], ["updated_at", "2020-02-07 04:56:37.709118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.709778"], ["updated_at", "2020-02-07 04:56:37.709778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.710416"], ["updated_at", "2020-02-07 04:56:37.710416"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.711060"], ["updated_at", "2020-02-07 04:56:37.711060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.713246"], ["updated_at", "2020-02-07 04:56:37.713246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.715913"], ["updated_at", "2020-02-07 04:56:37.715913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.716825"], ["updated_at", "2020-02-07 04:56:37.716825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.717556"], ["updated_at", "2020-02-07 04:56:37.717556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.718241"], ["updated_at", "2020-02-07 04:56:37.718241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.718913"], ["updated_at", "2020-02-07 04:56:37.718913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.720431"], ["updated_at", "2020-02-07 04:56:37.720431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.721403"], ["updated_at", "2020-02-07 04:56:37.721403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.722091"], ["updated_at", "2020-02-07 04:56:37.722091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.722761"], ["updated_at", "2020-02-07 04:56:37.722761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.723456"], ["updated_at", "2020-02-07 04:56:37.723456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.724116"], ["updated_at", "2020-02-07 04:56:37.724116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.725967"], ["updated_at", "2020-02-07 04:56:37.725967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.726914"], ["updated_at", "2020-02-07 04:56:37.726914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.728238"], ["updated_at", "2020-02-07 04:56:37.728238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.728958"], ["updated_at", "2020-02-07 04:56:37.728958"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.729636"], ["updated_at", "2020-02-07 04:56:37.729636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.730357"], ["updated_at", "2020-02-07 04:56:37.730357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 04:56:37.732145"], ["updated_at", "2020-02-07 04:56:37.732145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 04:56:37.733250"], ["updated_at", "2020-02-07 04:56:37.733250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 04:56:37.734009"], ["updated_at", "2020-02-07 04:56:37.734009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 04:56:37.734695"], ["updated_at", "2020-02-07 04:56:37.734695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 04:56:37.735406"], ["updated_at", "2020-02-07 04:56:37.735406"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 04:56:37.736332"], ["updated_at", "2020-02-07 04:56:37.736332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.530454"], ["updated_at", "2020-02-07 05:00:32.530454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.533052"], ["updated_at", "2020-02-07 05:00:32.533052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.534053"], ["updated_at", "2020-02-07 05:00:32.534053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.534944"], ["updated_at", "2020-02-07 05:00:32.534944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.535837"], ["updated_at", "2020-02-07 05:00:32.535837"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.536729"], ["updated_at", "2020-02-07 05:00:32.536729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:00:32.591532"], ["updated_at", "2020-02-07 05:00:32.591532"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:00:32.592806"], ["updated_at", "2020-02-07 05:00:32.592806"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:00:32.594486"], ["updated_at", "2020-02-07 05:00:32.594486"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:00:32.595659"], ["updated_at", "2020-02-07 05:00:32.595659"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.596406"], ["updated_at", "2020-02-07 05:00:32.596406"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:00:32.596922"], ["updated_at", "2020-02-07 05:00:32.596922"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.598255"], ["updated_at", "2020-02-07 05:00:32.598255"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:00:32.598764"], ["updated_at", "2020-02-07 05:00:32.598764"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:00:32.599451"], ["updated_at", "2020-02-07 05:00:32.599451"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.600168"], ["updated_at", "2020-02-07 05:00:32.600168"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:00:32.600646"], ["updated_at", "2020-02-07 05:00:32.600646"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:00:32.649463"], ["updated_at", "2020-02-07 05:00:32.649463"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.651031"], ["updated_at", "2020-02-07 05:00:32.651031"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.652652"], ["updated_at", "2020-02-07 05:00:32.652652"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.653366"], ["updated_at", "2020-02-07 05:00:32.653366"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.655165"], ["updated_at", "2020-02-07 05:00:32.655165"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.655871"], ["updated_at", "2020-02-07 05:00:32.655871"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.656540"], ["updated_at", "2020-02-07 05:00:32.656540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.660131"], ["updated_at", "2020-02-07 05:00:32.660131"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.661431"], ["updated_at", "2020-02-07 05:00:32.661431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.662252"], ["updated_at", "2020-02-07 05:00:32.662252"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.663069"], ["updated_at", "2020-02-07 05:00:32.663069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.663872"], ["updated_at", "2020-02-07 05:00:32.663872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.664651"], ["updated_at", "2020-02-07 05:00:32.664651"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:00:32.685057"], ["updated_at", "2020-02-07 05:00:32.685057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:00:32.686840"], ["updated_at", "2020-02-07 05:00:32.686840"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:00:32.687787"], ["updated_at", "2020-02-07 05:00:32.687787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:00:32.702693"], ["updated_at", "2020-02-07 05:00:32.702693"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:00:32.703660"], ["updated_at", "2020-02-07 05:00:32.703660"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:00:32.705250"], ["updated_at", "2020-02-07 05:00:32.705250"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:00:32.705951"], ["updated_at", "2020-02-07 05:00:32.705951"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:00:32.706640"], ["updated_at", "2020-02-07 05:00:32.706640"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:00:32.707470"], ["updated_at", "2020-02-07 05:00:32.707470"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.708396"], ["updated_at", "2020-02-07 05:00:32.708396"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.709165"], ["updated_at", "2020-02-07 05:00:32.709165"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.709846"], ["updated_at", "2020-02-07 05:00:32.709846"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.710530"], ["updated_at", "2020-02-07 05:00:32.710530"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.711193"], ["updated_at", "2020-02-07 05:00:32.711193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:00:32.719157' and '2020-02-07 05:00:32.719170' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:00:32.720229"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:00:32.722360"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:00:32.723609"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.727750"], ["updated_at", "2020-02-07 05:00:32.727750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.728894"], ["updated_at", "2020-02-07 05:00:32.728894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.729694"], ["updated_at", "2020-02-07 05:00:32.729694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.730478"], ["updated_at", "2020-02-07 05:00:32.730478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.731273"], ["updated_at", "2020-02-07 05:00:32.731273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.732066"], ["updated_at", "2020-02-07 05:00:32.732066"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:00:32.733386"], ["updated_at", "2020-02-07 05:00:32.733386"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:00:32.734410"], ["updated_at", "2020-02-07 05:00:32.734410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:00:32.735267"], ["updated_at", "2020-02-07 05:00:32.735267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:00:32.739755"], ["updated_at", "2020-02-07 05:00:32.739755"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:00:32.740603"], ["updated_at", "2020-02-07 05:00:32.740603"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:00:32.741329"], ["updated_at", "2020-02-07 05:00:32.741329"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:00:32.741904"], ["updated_at", "2020-02-07 05:00:32.741904"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:00:32.742554"], ["updated_at", "2020-02-07 05:00:32.742554"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:00:32.743398"], ["updated_at", "2020-02-07 05:00:32.743398"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.744363"], ["updated_at", "2020-02-07 05:00:32.744363"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.745046"], ["updated_at", "2020-02-07 05:00:32.745046"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.745702"], ["updated_at", "2020-02-07 05:00:32.745702"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.746510"], ["updated_at", "2020-02-07 05:00:32.746510"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.747190"], ["updated_at", "2020-02-07 05:00:32.747190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:00:32.749749' and '2020-02-07 05:00:32.749760' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:00:32.750552"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:00:32.752243"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::ResourceRecord Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resource_records".* FROM "larvata_signing_resource_records" WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_resource_records"."id" ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.758689"], ["updated_at", "2020-02-07 05:00:32.758689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.759849"], ["updated_at", "2020-02-07 05:00:32.759849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.760719"], ["updated_at", "2020-02-07 05:00:32.760719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.761560"], ["updated_at", "2020-02-07 05:00:32.761560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.762371"], ["updated_at", "2020-02-07 05:00:32.762371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.763268"], ["updated_at", "2020-02-07 05:00:32.763268"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:00:32.764445"], ["updated_at", "2020-02-07 05:00:32.764445"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:00:32.765444"], ["updated_at", "2020-02-07 05:00:32.765444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:00:32.766292"], ["updated_at", "2020-02-07 05:00:32.766292"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:00:32.771226"], ["updated_at", "2020-02-07 05:00:32.771226"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:00:32.772205"], ["updated_at", "2020-02-07 05:00:32.772205"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:00:32.773027"], ["updated_at", "2020-02-07 05:00:32.773027"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:00:32.773643"], ["updated_at", "2020-02-07 05:00:32.773643"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:00:32.774337"], ["updated_at", "2020-02-07 05:00:32.774337"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:00:32.775294"], ["updated_at", "2020-02-07 05:00:32.775294"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.776325"], ["updated_at", "2020-02-07 05:00:32.776325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.777071"], ["updated_at", "2020-02-07 05:00:32.777071"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.777774"], ["updated_at", "2020-02-07 05:00:32.777774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:00:32.778485"], ["updated_at", "2020-02-07 05:00:32.778485"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:00:32.779171"], ["updated_at", "2020-02-07 05:00:32.779171"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:00:32.781680' and '2020-02-07 05:00:32.781689' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.791929"], ["updated_at", "2020-02-07 05:00:32.791929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.793337"], ["updated_at", "2020-02-07 05:00:32.793337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.794260"], ["updated_at", "2020-02-07 05:00:32.794260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.795145"], ["updated_at", "2020-02-07 05:00:32.795145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.796053"], ["updated_at", "2020-02-07 05:00:32.796053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.796972"], ["updated_at", "2020-02-07 05:00:32.796972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.799132"], ["updated_at", "2020-02-07 05:00:32.799132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.800449"], ["updated_at", "2020-02-07 05:00:32.800449"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.801391"], ["updated_at", "2020-02-07 05:00:32.801391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.802314"], ["updated_at", "2020-02-07 05:00:32.802314"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.803216"], ["updated_at", "2020-02-07 05:00:32.803216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.804111"], ["updated_at", "2020-02-07 05:00:32.804111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.806147"], ["updated_at", "2020-02-07 05:00:32.806147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.807330"], ["updated_at", "2020-02-07 05:00:32.807330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.808212"], ["updated_at", "2020-02-07 05:00:32.808212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.809669"], ["updated_at", "2020-02-07 05:00:32.809669"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.810750"], ["updated_at", "2020-02-07 05:00:32.810750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.811632"], ["updated_at", "2020-02-07 05:00:32.811632"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.814470"], ["updated_at", "2020-02-07 05:00:32.814470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.815640"], ["updated_at", "2020-02-07 05:00:32.815640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.816534"], ["updated_at", "2020-02-07 05:00:32.816534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.817392"], ["updated_at", "2020-02-07 05:00:32.817392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.818271"], ["updated_at", "2020-02-07 05:00:32.818271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.819144"], ["updated_at", "2020-02-07 05:00:32.819144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.821114"], ["updated_at", "2020-02-07 05:00:32.821114"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.823115"], ["updated_at", "2020-02-07 05:00:32.823115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.824097"], ["updated_at", "2020-02-07 05:00:32.824097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.825009"], ["updated_at", "2020-02-07 05:00:32.825009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.826071"], ["updated_at", "2020-02-07 05:00:32.826071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.827211"], ["updated_at", "2020-02-07 05:00:32.827211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.829484"], ["updated_at", "2020-02-07 05:00:32.829484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.831414"], ["updated_at", "2020-02-07 05:00:32.831414"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.833166"], ["updated_at", "2020-02-07 05:00:32.833166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.834150"], ["updated_at", "2020-02-07 05:00:32.834150"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.835072"], ["updated_at", "2020-02-07 05:00:32.835072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.836036"], ["updated_at", "2020-02-07 05:00:32.836036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.839168"], ["updated_at", "2020-02-07 05:00:32.839168"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.840469"], ["updated_at", "2020-02-07 05:00:32.840469"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.841494"], ["updated_at", "2020-02-07 05:00:32.841494"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.842524"], ["updated_at", "2020-02-07 05:00:32.842524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.843452"], ["updated_at", "2020-02-07 05:00:32.843452"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.844335"], ["updated_at", "2020-02-07 05:00:32.844335"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:00:32.846353"], ["updated_at", "2020-02-07 05:00:32.846353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:00:32.847737"], ["updated_at", "2020-02-07 05:00:32.847737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:00:32.860687"], ["updated_at", "2020-02-07 05:00:32.860687"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:00:32.861956"], ["updated_at", "2020-02-07 05:00:32.861956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:00:32.863250"], ["updated_at", "2020-02-07 05:00:32.863250"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:00:32.864504"], ["updated_at", "2020-02-07 05:00:32.864504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:01:08.680135"], ["updated_at", "2020-02-07 05:01:08.680135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:01:08.690515"], ["updated_at", "2020-02-07 05:01:08.690515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:01:08.691380"], ["updated_at", "2020-02-07 05:01:08.691380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:01:08.692094"], ["updated_at", "2020-02-07 05:01:08.692094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:01:08.692833"], ["updated_at", "2020-02-07 05:01:08.692833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:01:08.693602"], ["updated_at", "2020-02-07 05:01:08.693602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:01:08.737085"], ["updated_at", "2020-02-07 05:01:08.737085"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:01:08.738077"], ["updated_at", "2020-02-07 05:01:08.738077"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:01:08.739773"], ["updated_at", "2020-02-07 05:01:08.739773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:01:08.740769"], ["updated_at", "2020-02-07 05:01:08.740769"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:01:08.741338"], ["updated_at", "2020-02-07 05:01:08.741338"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:01:08.741735"], ["updated_at", "2020-02-07 05:01:08.741735"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:01:08.742657"], ["updated_at", "2020-02-07 05:01:08.742657"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:01:08.743043"], ["updated_at", "2020-02-07 05:01:08.743043"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:01:08.743582"], ["updated_at", "2020-02-07 05:01:08.743582"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:01:08.744187"], ["updated_at", "2020-02-07 05:01:08.744187"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:01:08.744563"], ["updated_at", "2020-02-07 05:01:08.744563"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:01:08.778971"], ["updated_at", "2020-02-07 05:01:08.778971"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.780195"], ["updated_at", "2020-02-07 05:01:08.780195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.781217"], ["updated_at", "2020-02-07 05:01:08.781217"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.781724"], ["updated_at", "2020-02-07 05:01:08.781724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.783107"], ["updated_at", "2020-02-07 05:01:08.783107"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.784027"], ["updated_at", "2020-02-07 05:01:08.784027"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.784836"], ["updated_at", "2020-02-07 05:01:08.784836"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:01:08.787421"], ["updated_at", "2020-02-07 05:01:08.787421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:01:08.788214"], ["updated_at", "2020-02-07 05:01:08.788214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:01:08.788769"], ["updated_at", "2020-02-07 05:01:08.788769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:01:08.789317"], ["updated_at", "2020-02-07 05:01:08.789317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:01:08.789878"], ["updated_at", "2020-02-07 05:01:08.789878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:01:08.790421"], ["updated_at", "2020-02-07 05:01:08.790421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:01:08.795288"], ["updated_at", "2020-02-07 05:01:08.795288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:01:08.796266"], ["updated_at", "2020-02-07 05:01:08.796266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:01:08.797037"], ["updated_at", "2020-02-07 05:01:08.797037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:01:08.819475"], ["updated_at", "2020-02-07 05:01:08.819475"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:01:08.820325"], ["updated_at", "2020-02-07 05:01:08.820325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:01:08.821877"], ["updated_at", "2020-02-07 05:01:08.821877"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:01:08.822363"], ["updated_at", "2020-02-07 05:01:08.822363"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:01:08.822971"], ["updated_at", "2020-02-07 05:01:08.822971"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:01:08.823643"], ["updated_at", "2020-02-07 05:01:08.823643"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.824292"], ["updated_at", "2020-02-07 05:01:08.824292"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.824763"], ["updated_at", "2020-02-07 05:01:08.824763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.825296"], ["updated_at", "2020-02-07 05:01:08.825296"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.825739"], ["updated_at", "2020-02-07 05:01:08.825739"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.826160"], ["updated_at", "2020-02-07 05:01:08.826160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:01:08.832701' and '2020-02-07 05:01:08.832711' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:01:08.833803"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:01:08.835600"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:01:08.836596"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:01:08.840780"], ["updated_at", "2020-02-07 05:01:08.840780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:01:08.841949"], ["updated_at", "2020-02-07 05:01:08.841949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:01:08.842691"], ["updated_at", "2020-02-07 05:01:08.842691"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:01:08.843408"], ["updated_at", "2020-02-07 05:01:08.843408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:01:08.844074"], ["updated_at", "2020-02-07 05:01:08.844074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:01:08.844754"], ["updated_at", "2020-02-07 05:01:08.844754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:01:08.846258"], ["updated_at", "2020-02-07 05:01:08.846258"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:01:08.847033"], ["updated_at", "2020-02-07 05:01:08.847033"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:01:08.847699"], ["updated_at", "2020-02-07 05:01:08.847699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:01:08.852014"], ["updated_at", "2020-02-07 05:01:08.852014"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:01:08.852744"], ["updated_at", "2020-02-07 05:01:08.852744"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:01:08.853345"], ["updated_at", "2020-02-07 05:01:08.853345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:01:08.853810"], ["updated_at", "2020-02-07 05:01:08.853810"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:01:08.854342"], ["updated_at", "2020-02-07 05:01:08.854342"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:01:08.855576"], ["updated_at", "2020-02-07 05:01:08.855576"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.856690"], ["updated_at", "2020-02-07 05:01:08.856690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.857301"], ["updated_at", "2020-02-07 05:01:08.857301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.857948"], ["updated_at", "2020-02-07 05:01:08.857948"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:01:08.858661"], ["updated_at", "2020-02-07 05:01:08.858661"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:01:08.859304"], ["updated_at", "2020-02-07 05:01:08.859304"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:01:08.861828' and '2020-02-07 05:01:08.861839' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:01:08.862526"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:01:08.863958"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::ResourceRecord Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resource_records".* FROM "larvata_signing_resource_records" WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_resource_records"."id" ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inquirements"[0m
  [1m[36mInquirement Load (0.2ms)[0m  [1m[34mSELECT "inquirements".* FROM "inquirements"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.368889"], ["updated_at", "2020-02-07 05:03:28.368889"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.371952"], ["updated_at", "2020-02-07 05:03:28.371952"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.373047"], ["updated_at", "2020-02-07 05:03:28.373047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.374089"], ["updated_at", "2020-02-07 05:03:28.374089"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.374986"], ["updated_at", "2020-02-07 05:03:28.374986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.375943"], ["updated_at", "2020-02-07 05:03:28.375943"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:03:28.377560"], ["updated_at", "2020-02-07 05:03:28.377560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:03:28.379326"], ["updated_at", "2020-02-07 05:03:28.379326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:03:28.381629"], ["updated_at", "2020-02-07 05:03:28.381629"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:03:28.387631"], ["updated_at", "2020-02-07 05:03:28.387631"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:03:28.388564"], ["updated_at", "2020-02-07 05:03:28.388564"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:03:28.389222"], ["updated_at", "2020-02-07 05:03:28.389222"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:03:28.389740"], ["updated_at", "2020-02-07 05:03:28.389740"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:03:28.390347"], ["updated_at", "2020-02-07 05:03:28.390347"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:03:28.391215"], ["updated_at", "2020-02-07 05:03:28.391215"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:03:28.392138"], ["updated_at", "2020-02-07 05:03:28.392138"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:03:28.392888"], ["updated_at", "2020-02-07 05:03:28.392888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:03:28.393554"], ["updated_at", "2020-02-07 05:03:28.393554"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:03:28.394216"], ["updated_at", "2020-02-07 05:03:28.394216"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:03:28.394820"], ["updated_at", "2020-02-07 05:03:28.394820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:03:28.397389' and '2020-02-07 05:03:28.397396' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.408339"], ["updated_at", "2020-02-07 05:03:28.408339"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.409364"], ["updated_at", "2020-02-07 05:03:28.409364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.410117"], ["updated_at", "2020-02-07 05:03:28.410117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.410823"], ["updated_at", "2020-02-07 05:03:28.410823"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.423816"], ["updated_at", "2020-02-07 05:03:28.423816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.424627"], ["updated_at", "2020-02-07 05:03:28.424627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.428616"], ["updated_at", "2020-02-07 05:03:28.428616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.429719"], ["updated_at", "2020-02-07 05:03:28.429719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.430465"], ["updated_at", "2020-02-07 05:03:28.430465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.431226"], ["updated_at", "2020-02-07 05:03:28.431226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.431949"], ["updated_at", "2020-02-07 05:03:28.431949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.432692"], ["updated_at", "2020-02-07 05:03:28.432692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.435254"], ["updated_at", "2020-02-07 05:03:28.435254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.436296"], ["updated_at", "2020-02-07 05:03:28.436296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.437023"], ["updated_at", "2020-02-07 05:03:28.437023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.437715"], ["updated_at", "2020-02-07 05:03:28.437715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.438427"], ["updated_at", "2020-02-07 05:03:28.438427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.439117"], ["updated_at", "2020-02-07 05:03:28.439117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.441402"], ["updated_at", "2020-02-07 05:03:28.441402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.442504"], ["updated_at", "2020-02-07 05:03:28.442504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.443267"], ["updated_at", "2020-02-07 05:03:28.443267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.443992"], ["updated_at", "2020-02-07 05:03:28.443992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.444691"], ["updated_at", "2020-02-07 05:03:28.444691"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.445373"], ["updated_at", "2020-02-07 05:03:28.445373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.447638"], ["updated_at", "2020-02-07 05:03:28.447638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.448617"], ["updated_at", "2020-02-07 05:03:28.448617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.449315"], ["updated_at", "2020-02-07 05:03:28.449315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.450111"], ["updated_at", "2020-02-07 05:03:28.450111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.450786"], ["updated_at", "2020-02-07 05:03:28.450786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.451549"], ["updated_at", "2020-02-07 05:03:28.451549"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.453413"], ["updated_at", "2020-02-07 05:03:28.453413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.454292"], ["updated_at", "2020-02-07 05:03:28.454292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.454984"], ["updated_at", "2020-02-07 05:03:28.454984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.455647"], ["updated_at", "2020-02-07 05:03:28.455647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.456305"], ["updated_at", "2020-02-07 05:03:28.456305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.456971"], ["updated_at", "2020-02-07 05:03:28.456971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.458976"], ["updated_at", "2020-02-07 05:03:28.458976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.460023"], ["updated_at", "2020-02-07 05:03:28.460023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.460778"], ["updated_at", "2020-02-07 05:03:28.460778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.461506"], ["updated_at", "2020-02-07 05:03:28.461506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.462211"], ["updated_at", "2020-02-07 05:03:28.462211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.462900"], ["updated_at", "2020-02-07 05:03:28.462900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:03:28.464646"], ["updated_at", "2020-02-07 05:03:28.464646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:03:28.465701"], ["updated_at", "2020-02-07 05:03:28.465701"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:03:28.466457"], ["updated_at", "2020-02-07 05:03:28.466457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:03:28.467166"], ["updated_at", "2020-02-07 05:03:28.467166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:03:28.467882"], ["updated_at", "2020-02-07 05:03:28.467882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:03:28.468731"], ["updated_at", "2020-02-07 05:03:28.468731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:05.963667"], ["updated_at", "2020-02-07 05:04:05.963667"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:05.965795"], ["updated_at", "2020-02-07 05:04:05.965795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:05.966587"], ["updated_at", "2020-02-07 05:04:05.966587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:05.967318"], ["updated_at", "2020-02-07 05:04:05.967318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:05.968048"], ["updated_at", "2020-02-07 05:04:05.968048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:05.968773"], ["updated_at", "2020-02-07 05:04:05.968773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:04:06.018548"], ["updated_at", "2020-02-07 05:04:06.018548"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:04:06.019581"], ["updated_at", "2020-02-07 05:04:06.019581"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:04:06.021572"], ["updated_at", "2020-02-07 05:04:06.021572"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:04:06.022725"], ["updated_at", "2020-02-07 05:04:06.022725"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.023297"], ["updated_at", "2020-02-07 05:04:06.023297"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:04:06.023689"], ["updated_at", "2020-02-07 05:04:06.023689"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.025408"], ["updated_at", "2020-02-07 05:04:06.025408"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:04:06.026019"], ["updated_at", "2020-02-07 05:04:06.026019"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:04:06.026580"], ["updated_at", "2020-02-07 05:04:06.026580"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.027140"], ["updated_at", "2020-02-07 05:04:06.027140"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:04:06.027596"], ["updated_at", "2020-02-07 05:04:06.027596"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:04:06.082254"], ["updated_at", "2020-02-07 05:04:06.082254"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.083603"], ["updated_at", "2020-02-07 05:04:06.083603"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.084942"], ["updated_at", "2020-02-07 05:04:06.084942"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.085484"], ["updated_at", "2020-02-07 05:04:06.085484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.087292"], ["updated_at", "2020-02-07 05:04:06.087292"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.087953"], ["updated_at", "2020-02-07 05:04:06.087953"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.088534"], ["updated_at", "2020-02-07 05:04:06.088534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.091999"], ["updated_at", "2020-02-07 05:04:06.091999"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.093067"], ["updated_at", "2020-02-07 05:04:06.093067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.093757"], ["updated_at", "2020-02-07 05:04:06.093757"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.094411"], ["updated_at", "2020-02-07 05:04:06.094411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.095084"], ["updated_at", "2020-02-07 05:04:06.095084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.095794"], ["updated_at", "2020-02-07 05:04:06.095794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:04:06.102120"], ["updated_at", "2020-02-07 05:04:06.102120"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:04:06.103476"], ["updated_at", "2020-02-07 05:04:06.103476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:04:06.104256"], ["updated_at", "2020-02-07 05:04:06.104256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:04:06.115471"], ["updated_at", "2020-02-07 05:04:06.115471"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:04:06.116293"], ["updated_at", "2020-02-07 05:04:06.116293"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:04:06.117509"], ["updated_at", "2020-02-07 05:04:06.117509"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:04:06.118022"], ["updated_at", "2020-02-07 05:04:06.118022"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:04:06.118568"], ["updated_at", "2020-02-07 05:04:06.118568"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:04:06.119217"], ["updated_at", "2020-02-07 05:04:06.119217"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.120003"], ["updated_at", "2020-02-07 05:04:06.120003"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.120567"], ["updated_at", "2020-02-07 05:04:06.120567"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.121103"], ["updated_at", "2020-02-07 05:04:06.121103"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.121658"], ["updated_at", "2020-02-07 05:04:06.121658"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.122243"], ["updated_at", "2020-02-07 05:04:06.122243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:04:06.129337' and '2020-02-07 05:04:06.129349' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:04:06.130953"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:04:06.132797"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:04:06.133863"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.137824"], ["updated_at", "2020-02-07 05:04:06.137824"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.139048"], ["updated_at", "2020-02-07 05:04:06.139048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.139914"], ["updated_at", "2020-02-07 05:04:06.139914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.140700"], ["updated_at", "2020-02-07 05:04:06.140700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.141603"], ["updated_at", "2020-02-07 05:04:06.141603"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.142564"], ["updated_at", "2020-02-07 05:04:06.142564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:04:06.144243"], ["updated_at", "2020-02-07 05:04:06.144243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:04:06.145390"], ["updated_at", "2020-02-07 05:04:06.145390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:04:06.146398"], ["updated_at", "2020-02-07 05:04:06.146398"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:04:06.151734"], ["updated_at", "2020-02-07 05:04:06.151734"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:04:06.152685"], ["updated_at", "2020-02-07 05:04:06.152685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:04:06.153444"], ["updated_at", "2020-02-07 05:04:06.153444"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:04:06.154013"], ["updated_at", "2020-02-07 05:04:06.154013"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:04:06.154655"], ["updated_at", "2020-02-07 05:04:06.154655"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:04:06.155421"], ["updated_at", "2020-02-07 05:04:06.155421"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.156289"], ["updated_at", "2020-02-07 05:04:06.156289"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.156921"], ["updated_at", "2020-02-07 05:04:06.156921"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.157604"], ["updated_at", "2020-02-07 05:04:06.157604"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.158404"], ["updated_at", "2020-02-07 05:04:06.158404"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.159153"], ["updated_at", "2020-02-07 05:04:06.159153"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:04:06.161729' and '2020-02-07 05:04:06.161737' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:04:06.162447"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:04:06.164073"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.166863"], ["updated_at", "2020-02-07 05:04:06.166863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.168565"], ["updated_at", "2020-02-07 05:04:06.168565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.169331"], ["updated_at", "2020-02-07 05:04:06.169331"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.170039"], ["updated_at", "2020-02-07 05:04:06.170039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.170740"], ["updated_at", "2020-02-07 05:04:06.170740"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.171427"], ["updated_at", "2020-02-07 05:04:06.171427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:04:06.172387"], ["updated_at", "2020-02-07 05:04:06.172387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:04:06.173144"], ["updated_at", "2020-02-07 05:04:06.173144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:04:06.173821"], ["updated_at", "2020-02-07 05:04:06.173821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:04:06.177437"], ["updated_at", "2020-02-07 05:04:06.177437"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:04:06.178123"], ["updated_at", "2020-02-07 05:04:06.178123"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:04:06.178708"], ["updated_at", "2020-02-07 05:04:06.178708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:04:06.179179"], ["updated_at", "2020-02-07 05:04:06.179179"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:04:06.179704"], ["updated_at", "2020-02-07 05:04:06.179704"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:04:06.180339"], ["updated_at", "2020-02-07 05:04:06.180339"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.181073"], ["updated_at", "2020-02-07 05:04:06.181073"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.181611"], ["updated_at", "2020-02-07 05:04:06.181611"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.182151"], ["updated_at", "2020-02-07 05:04:06.182151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:04:06.182702"], ["updated_at", "2020-02-07 05:04:06.182702"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:04:06.183233"], ["updated_at", "2020-02-07 05:04:06.183233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:04:06.185272' and '2020-02-07 05:04:06.185278' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.193423"], ["updated_at", "2020-02-07 05:04:06.193423"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.194552"], ["updated_at", "2020-02-07 05:04:06.194552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.195286"], ["updated_at", "2020-02-07 05:04:06.195286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.195975"], ["updated_at", "2020-02-07 05:04:06.195975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.196782"], ["updated_at", "2020-02-07 05:04:06.196782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.197502"], ["updated_at", "2020-02-07 05:04:06.197502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.198864"], ["updated_at", "2020-02-07 05:04:06.198864"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.199688"], ["updated_at", "2020-02-07 05:04:06.199688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.200330"], ["updated_at", "2020-02-07 05:04:06.200330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.200964"], ["updated_at", "2020-02-07 05:04:06.200964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.201596"], ["updated_at", "2020-02-07 05:04:06.201596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.202236"], ["updated_at", "2020-02-07 05:04:06.202236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.211980"], ["updated_at", "2020-02-07 05:04:06.211980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.213091"], ["updated_at", "2020-02-07 05:04:06.213091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.214526"], ["updated_at", "2020-02-07 05:04:06.214526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.215314"], ["updated_at", "2020-02-07 05:04:06.215314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.216016"], ["updated_at", "2020-02-07 05:04:06.216016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.216695"], ["updated_at", "2020-02-07 05:04:06.216695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.218265"], ["updated_at", "2020-02-07 05:04:06.218265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.219176"], ["updated_at", "2020-02-07 05:04:06.219176"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.219858"], ["updated_at", "2020-02-07 05:04:06.219858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.220600"], ["updated_at", "2020-02-07 05:04:06.220600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.221305"], ["updated_at", "2020-02-07 05:04:06.221305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.221995"], ["updated_at", "2020-02-07 05:04:06.221995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.223995"], ["updated_at", "2020-02-07 05:04:06.223995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.225083"], ["updated_at", "2020-02-07 05:04:06.225083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.225899"], ["updated_at", "2020-02-07 05:04:06.225899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.226619"], ["updated_at", "2020-02-07 05:04:06.226619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.227287"], ["updated_at", "2020-02-07 05:04:06.227287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.227956"], ["updated_at", "2020-02-07 05:04:06.227956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.229780"], ["updated_at", "2020-02-07 05:04:06.229780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.230734"], ["updated_at", "2020-02-07 05:04:06.230734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.231489"], ["updated_at", "2020-02-07 05:04:06.231489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.232224"], ["updated_at", "2020-02-07 05:04:06.232224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.232941"], ["updated_at", "2020-02-07 05:04:06.232941"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.233778"], ["updated_at", "2020-02-07 05:04:06.233778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.235678"], ["updated_at", "2020-02-07 05:04:06.235678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.236682"], ["updated_at", "2020-02-07 05:04:06.236682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.237398"], ["updated_at", "2020-02-07 05:04:06.237398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.238088"], ["updated_at", "2020-02-07 05:04:06.238088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.238785"], ["updated_at", "2020-02-07 05:04:06.238785"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.239842"], ["updated_at", "2020-02-07 05:04:06.239842"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:04:06.241997"], ["updated_at", "2020-02-07 05:04:06.241997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:04:06.243458"], ["updated_at", "2020-02-07 05:04:06.243458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:04:06.244239"], ["updated_at", "2020-02-07 05:04:06.244239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:04:06.244921"], ["updated_at", "2020-02-07 05:04:06.244921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:04:06.245646"], ["updated_at", "2020-02-07 05:04:06.245646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:04:06.246368"], ["updated_at", "2020-02-07 05:04:06.246368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.091046"], ["updated_at", "2020-02-07 05:05:01.091046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.093078"], ["updated_at", "2020-02-07 05:05:01.093078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.093816"], ["updated_at", "2020-02-07 05:05:01.093816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.094517"], ["updated_at", "2020-02-07 05:05:01.094517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.095230"], ["updated_at", "2020-02-07 05:05:01.095230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.095931"], ["updated_at", "2020-02-07 05:05:01.095931"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:05:01.138819"], ["updated_at", "2020-02-07 05:05:01.138819"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:05:01.139879"], ["updated_at", "2020-02-07 05:05:01.139879"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:05:01.141283"], ["updated_at", "2020-02-07 05:05:01.141283"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:05:01.142263"], ["updated_at", "2020-02-07 05:05:01.142263"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.142860"], ["updated_at", "2020-02-07 05:05:01.142860"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:05:01.143366"], ["updated_at", "2020-02-07 05:05:01.143366"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.144371"], ["updated_at", "2020-02-07 05:05:01.144371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:05:01.144708"], ["updated_at", "2020-02-07 05:05:01.144708"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:05:01.145223"], ["updated_at", "2020-02-07 05:05:01.145223"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.145782"], ["updated_at", "2020-02-07 05:05:01.145782"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:05:01.146153"], ["updated_at", "2020-02-07 05:05:01.146153"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:05:01.193823"], ["updated_at", "2020-02-07 05:05:01.193823"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.195127"], ["updated_at", "2020-02-07 05:05:01.195127"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.196331"], ["updated_at", "2020-02-07 05:05:01.196331"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.196855"], ["updated_at", "2020-02-07 05:05:01.196855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.198414"], ["updated_at", "2020-02-07 05:05:01.198414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.198980"], ["updated_at", "2020-02-07 05:05:01.198980"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.199516"], ["updated_at", "2020-02-07 05:05:01.199516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.202333"], ["updated_at", "2020-02-07 05:05:01.202333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.203238"], ["updated_at", "2020-02-07 05:05:01.203238"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.203882"], ["updated_at", "2020-02-07 05:05:01.203882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.204516"], ["updated_at", "2020-02-07 05:05:01.204516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.205144"], ["updated_at", "2020-02-07 05:05:01.205144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.205768"], ["updated_at", "2020-02-07 05:05:01.205768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:05:01.211083"], ["updated_at", "2020-02-07 05:05:01.211083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:05:01.212390"], ["updated_at", "2020-02-07 05:05:01.212390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:05:01.213131"], ["updated_at", "2020-02-07 05:05:01.213131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:05:01.224470"], ["updated_at", "2020-02-07 05:05:01.224470"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:05:01.225213"], ["updated_at", "2020-02-07 05:05:01.225213"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:05:01.226215"], ["updated_at", "2020-02-07 05:05:01.226215"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:05:01.226670"], ["updated_at", "2020-02-07 05:05:01.226670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:05:01.227179"], ["updated_at", "2020-02-07 05:05:01.227179"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:05:01.227798"], ["updated_at", "2020-02-07 05:05:01.227798"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.228510"], ["updated_at", "2020-02-07 05:05:01.228510"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.229026"], ["updated_at", "2020-02-07 05:05:01.229026"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.229601"], ["updated_at", "2020-02-07 05:05:01.229601"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.230130"], ["updated_at", "2020-02-07 05:05:01.230130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.230642"], ["updated_at", "2020-02-07 05:05:01.230642"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:05:01.236549' and '2020-02-07 05:05:01.236560' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:05:01.237502"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:05:01.239260"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:05:01.240233"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.243505"], ["updated_at", "2020-02-07 05:05:01.243505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.244427"], ["updated_at", "2020-02-07 05:05:01.244427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.245076"], ["updated_at", "2020-02-07 05:05:01.245076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.245717"], ["updated_at", "2020-02-07 05:05:01.245717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.246365"], ["updated_at", "2020-02-07 05:05:01.246365"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.247011"], ["updated_at", "2020-02-07 05:05:01.247011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:05:01.247941"], ["updated_at", "2020-02-07 05:05:01.247941"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:05:01.248707"], ["updated_at", "2020-02-07 05:05:01.248707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:05:01.249383"], ["updated_at", "2020-02-07 05:05:01.249383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:05:01.253357"], ["updated_at", "2020-02-07 05:05:01.253357"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:05:01.254203"], ["updated_at", "2020-02-07 05:05:01.254203"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:05:01.254891"], ["updated_at", "2020-02-07 05:05:01.254891"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:05:01.255388"], ["updated_at", "2020-02-07 05:05:01.255388"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:05:01.255942"], ["updated_at", "2020-02-07 05:05:01.255942"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:05:01.256579"], ["updated_at", "2020-02-07 05:05:01.256579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.257303"], ["updated_at", "2020-02-07 05:05:01.257303"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.257833"], ["updated_at", "2020-02-07 05:05:01.257833"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.258374"], ["updated_at", "2020-02-07 05:05:01.258374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.258970"], ["updated_at", "2020-02-07 05:05:01.258970"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.259527"], ["updated_at", "2020-02-07 05:05:01.259527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:05:01.261551' and '2020-02-07 05:05:01.261559' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:05:01.262191"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:05:01.263680"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.269253"], ["updated_at", "2020-02-07 05:05:01.269253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.270363"], ["updated_at", "2020-02-07 05:05:01.270363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.271111"], ["updated_at", "2020-02-07 05:05:01.271111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.271803"], ["updated_at", "2020-02-07 05:05:01.271803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.272560"], ["updated_at", "2020-02-07 05:05:01.272560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.273128"], ["updated_at", "2020-02-07 05:05:01.273128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:05:01.274022"], ["updated_at", "2020-02-07 05:05:01.274022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:05:01.274797"], ["updated_at", "2020-02-07 05:05:01.274797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:05:01.275521"], ["updated_at", "2020-02-07 05:05:01.275521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:05:01.279361"], ["updated_at", "2020-02-07 05:05:01.279361"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:05:01.280204"], ["updated_at", "2020-02-07 05:05:01.280204"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:05:01.280848"], ["updated_at", "2020-02-07 05:05:01.280848"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:05:01.281327"], ["updated_at", "2020-02-07 05:05:01.281327"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:05:01.281856"], ["updated_at", "2020-02-07 05:05:01.281856"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:05:01.282499"], ["updated_at", "2020-02-07 05:05:01.282499"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.283241"], ["updated_at", "2020-02-07 05:05:01.283241"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.283786"], ["updated_at", "2020-02-07 05:05:01.283786"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.284322"], ["updated_at", "2020-02-07 05:05:01.284322"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:05:01.284875"], ["updated_at", "2020-02-07 05:05:01.284875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:05:01.285433"], ["updated_at", "2020-02-07 05:05:01.285433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:05:01.287727' and '2020-02-07 05:05:01.287737' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.295446"], ["updated_at", "2020-02-07 05:05:01.295446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.296443"], ["updated_at", "2020-02-07 05:05:01.296443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.297150"], ["updated_at", "2020-02-07 05:05:01.297150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.297823"], ["updated_at", "2020-02-07 05:05:01.297823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.298483"], ["updated_at", "2020-02-07 05:05:01.298483"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.299131"], ["updated_at", "2020-02-07 05:05:01.299131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.300447"], ["updated_at", "2020-02-07 05:05:01.300447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.301282"], ["updated_at", "2020-02-07 05:05:01.301282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.301930"], ["updated_at", "2020-02-07 05:05:01.301930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.302584"], ["updated_at", "2020-02-07 05:05:01.302584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.303236"], ["updated_at", "2020-02-07 05:05:01.303236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.303880"], ["updated_at", "2020-02-07 05:05:01.303880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.305384"], ["updated_at", "2020-02-07 05:05:01.305384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.306304"], ["updated_at", "2020-02-07 05:05:01.306304"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.307000"], ["updated_at", "2020-02-07 05:05:01.307000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.308319"], ["updated_at", "2020-02-07 05:05:01.308319"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.308998"], ["updated_at", "2020-02-07 05:05:01.308998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.309689"], ["updated_at", "2020-02-07 05:05:01.309689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.311364"], ["updated_at", "2020-02-07 05:05:01.311364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.312264"], ["updated_at", "2020-02-07 05:05:01.312264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.312943"], ["updated_at", "2020-02-07 05:05:01.312943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.313619"], ["updated_at", "2020-02-07 05:05:01.313619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.314274"], ["updated_at", "2020-02-07 05:05:01.314274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.315019"], ["updated_at", "2020-02-07 05:05:01.315019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.316451"], ["updated_at", "2020-02-07 05:05:01.316451"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.317437"], ["updated_at", "2020-02-07 05:05:01.317437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.327150"], ["updated_at", "2020-02-07 05:05:01.327150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.327961"], ["updated_at", "2020-02-07 05:05:01.327961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.328727"], ["updated_at", "2020-02-07 05:05:01.328727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.329392"], ["updated_at", "2020-02-07 05:05:01.329392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.330908"], ["updated_at", "2020-02-07 05:05:01.330908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.331782"], ["updated_at", "2020-02-07 05:05:01.331782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.332429"], ["updated_at", "2020-02-07 05:05:01.332429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.333694"], ["updated_at", "2020-02-07 05:05:01.333694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.334390"], ["updated_at", "2020-02-07 05:05:01.334390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.335058"], ["updated_at", "2020-02-07 05:05:01.335058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.336924"], ["updated_at", "2020-02-07 05:05:01.336924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.338088"], ["updated_at", "2020-02-07 05:05:01.338088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.338894"], ["updated_at", "2020-02-07 05:05:01.338894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.339616"], ["updated_at", "2020-02-07 05:05:01.339616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.340302"], ["updated_at", "2020-02-07 05:05:01.340302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.340967"], ["updated_at", "2020-02-07 05:05:01.340967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:05:01.342612"], ["updated_at", "2020-02-07 05:05:01.342612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:05:01.343573"], ["updated_at", "2020-02-07 05:05:01.343573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:05:01.344359"], ["updated_at", "2020-02-07 05:05:01.344359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:05:01.345048"], ["updated_at", "2020-02-07 05:05:01.345048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:05:01.345721"], ["updated_at", "2020-02-07 05:05:01.345721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:05:01.346388"], ["updated_at", "2020-02-07 05:05:01.346388"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.598005"], ["updated_at", "2020-02-07 05:06:37.598005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.601288"], ["updated_at", "2020-02-07 05:06:37.601288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.602114"], ["updated_at", "2020-02-07 05:06:37.602114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.602860"], ["updated_at", "2020-02-07 05:06:37.602860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.603584"], ["updated_at", "2020-02-07 05:06:37.603584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.604912"], ["updated_at", "2020-02-07 05:06:37.604912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:06:37.662375"], ["updated_at", "2020-02-07 05:06:37.662375"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:06:37.663489"], ["updated_at", "2020-02-07 05:06:37.663489"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:06:37.665066"], ["updated_at", "2020-02-07 05:06:37.665066"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:06:37.666482"], ["updated_at", "2020-02-07 05:06:37.666482"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.667055"], ["updated_at", "2020-02-07 05:06:37.667055"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:06:37.667469"], ["updated_at", "2020-02-07 05:06:37.667469"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.668870"], ["updated_at", "2020-02-07 05:06:37.668870"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:06:37.669251"], ["updated_at", "2020-02-07 05:06:37.669251"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:06:37.669801"], ["updated_at", "2020-02-07 05:06:37.669801"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.670371"], ["updated_at", "2020-02-07 05:06:37.670371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:06:37.670743"], ["updated_at", "2020-02-07 05:06:37.670743"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:06:37.730039"], ["updated_at", "2020-02-07 05:06:37.730039"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.731505"], ["updated_at", "2020-02-07 05:06:37.731505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.732596"], ["updated_at", "2020-02-07 05:06:37.732596"]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.733151"], ["updated_at", "2020-02-07 05:06:37.733151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.735890"], ["updated_at", "2020-02-07 05:06:37.735890"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.736415"], ["updated_at", "2020-02-07 05:06:37.736415"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.736928"], ["updated_at", "2020-02-07 05:06:37.736928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.739956"], ["updated_at", "2020-02-07 05:06:37.739956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.740884"], ["updated_at", "2020-02-07 05:06:37.740884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.741508"], ["updated_at", "2020-02-07 05:06:37.741508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.742120"], ["updated_at", "2020-02-07 05:06:37.742120"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.742802"], ["updated_at", "2020-02-07 05:06:37.742802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.743411"], ["updated_at", "2020-02-07 05:06:37.743411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:06:37.749425"], ["updated_at", "2020-02-07 05:06:37.749425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:06:37.751222"], ["updated_at", "2020-02-07 05:06:37.751222"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:06:37.751960"], ["updated_at", "2020-02-07 05:06:37.751960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:06:37.763445"], ["updated_at", "2020-02-07 05:06:37.763445"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:06:37.764291"], ["updated_at", "2020-02-07 05:06:37.764291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:06:37.765575"], ["updated_at", "2020-02-07 05:06:37.765575"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:06:37.766051"], ["updated_at", "2020-02-07 05:06:37.766051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:06:37.766550"], ["updated_at", "2020-02-07 05:06:37.766550"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:06:37.767159"], ["updated_at", "2020-02-07 05:06:37.767159"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.767864"], ["updated_at", "2020-02-07 05:06:37.767864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.768375"], ["updated_at", "2020-02-07 05:06:37.768375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.768891"], ["updated_at", "2020-02-07 05:06:37.768891"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.769523"], ["updated_at", "2020-02-07 05:06:37.769523"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.770088"], ["updated_at", "2020-02-07 05:06:37.770088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:06:37.777058' and '2020-02-07 05:06:37.777069' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:06:37.778150"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:06:37.779900"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:06:37.780870"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.784852"], ["updated_at", "2020-02-07 05:06:37.784852"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.786361"], ["updated_at", "2020-02-07 05:06:37.786361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.788087"], ["updated_at", "2020-02-07 05:06:37.788087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.789119"], ["updated_at", "2020-02-07 05:06:37.789119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.790093"], ["updated_at", "2020-02-07 05:06:37.790093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.791232"], ["updated_at", "2020-02-07 05:06:37.791232"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:06:37.792500"], ["updated_at", "2020-02-07 05:06:37.792500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:06:37.793556"], ["updated_at", "2020-02-07 05:06:37.793556"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:06:37.794767"], ["updated_at", "2020-02-07 05:06:37.794767"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:06:37.800176"], ["updated_at", "2020-02-07 05:06:37.800176"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:06:37.803059"], ["updated_at", "2020-02-07 05:06:37.803059"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:06:37.804197"], ["updated_at", "2020-02-07 05:06:37.804197"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:06:37.804823"], ["updated_at", "2020-02-07 05:06:37.804823"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:06:37.805510"], ["updated_at", "2020-02-07 05:06:37.805510"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:06:37.806293"], ["updated_at", "2020-02-07 05:06:37.806293"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.807293"], ["updated_at", "2020-02-07 05:06:37.807293"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.807943"], ["updated_at", "2020-02-07 05:06:37.807943"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.808582"], ["updated_at", "2020-02-07 05:06:37.808582"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.809216"], ["updated_at", "2020-02-07 05:06:37.809216"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.809938"], ["updated_at", "2020-02-07 05:06:37.809938"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:06:37.813051' and '2020-02-07 05:06:37.813062' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:06:37.813867"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:06:37.815600"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.823391"], ["updated_at", "2020-02-07 05:06:37.823391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.824546"], ["updated_at", "2020-02-07 05:06:37.824546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.825534"], ["updated_at", "2020-02-07 05:06:37.825534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.826496"], ["updated_at", "2020-02-07 05:06:37.826496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.827266"], ["updated_at", "2020-02-07 05:06:37.827266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.828193"], ["updated_at", "2020-02-07 05:06:37.828193"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:06:37.829906"], ["updated_at", "2020-02-07 05:06:37.829906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:06:37.830782"], ["updated_at", "2020-02-07 05:06:37.830782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:06:37.831526"], ["updated_at", "2020-02-07 05:06:37.831526"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:06:37.835443"], ["updated_at", "2020-02-07 05:06:37.835443"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:06:37.836246"], ["updated_at", "2020-02-07 05:06:37.836246"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:06:37.836849"], ["updated_at", "2020-02-07 05:06:37.836849"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:06:37.837308"], ["updated_at", "2020-02-07 05:06:37.837308"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:06:37.837820"], ["updated_at", "2020-02-07 05:06:37.837820"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:06:37.838466"], ["updated_at", "2020-02-07 05:06:37.838466"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.839203"], ["updated_at", "2020-02-07 05:06:37.839203"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.839742"], ["updated_at", "2020-02-07 05:06:37.839742"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.840298"], ["updated_at", "2020-02-07 05:06:37.840298"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:06:37.840850"], ["updated_at", "2020-02-07 05:06:37.840850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:06:37.841379"], ["updated_at", "2020-02-07 05:06:37.841379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:06:37.843642' and '2020-02-07 05:06:37.843649' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.852845"], ["updated_at", "2020-02-07 05:06:37.852845"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.854437"], ["updated_at", "2020-02-07 05:06:37.854437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.855146"], ["updated_at", "2020-02-07 05:06:37.855146"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.855810"], ["updated_at", "2020-02-07 05:06:37.855810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.856470"], ["updated_at", "2020-02-07 05:06:37.856470"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.857802"], ["updated_at", "2020-02-07 05:06:37.857802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.861005"], ["updated_at", "2020-02-07 05:06:37.861005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.862503"], ["updated_at", "2020-02-07 05:06:37.862503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.863847"], ["updated_at", "2020-02-07 05:06:37.863847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.864548"], ["updated_at", "2020-02-07 05:06:37.864548"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.865940"], ["updated_at", "2020-02-07 05:06:37.865940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.867976"], ["updated_at", "2020-02-07 05:06:37.867976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.870007"], ["updated_at", "2020-02-07 05:06:37.870007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.871049"], ["updated_at", "2020-02-07 05:06:37.871049"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.871761"], ["updated_at", "2020-02-07 05:06:37.871761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.872456"], ["updated_at", "2020-02-07 05:06:37.872456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.884271"], ["updated_at", "2020-02-07 05:06:37.884271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.885011"], ["updated_at", "2020-02-07 05:06:37.885011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.886480"], ["updated_at", "2020-02-07 05:06:37.886480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.887380"], ["updated_at", "2020-02-07 05:06:37.887380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.888068"], ["updated_at", "2020-02-07 05:06:37.888068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.888756"], ["updated_at", "2020-02-07 05:06:37.888756"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.889428"], ["updated_at", "2020-02-07 05:06:37.889428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.890171"], ["updated_at", "2020-02-07 05:06:37.890171"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.891683"], ["updated_at", "2020-02-07 05:06:37.891683"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.892600"], ["updated_at", "2020-02-07 05:06:37.892600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.893284"], ["updated_at", "2020-02-07 05:06:37.893284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.893950"], ["updated_at", "2020-02-07 05:06:37.893950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.894611"], ["updated_at", "2020-02-07 05:06:37.894611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.895271"], ["updated_at", "2020-02-07 05:06:37.895271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.896716"], ["updated_at", "2020-02-07 05:06:37.896716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.897690"], ["updated_at", "2020-02-07 05:06:37.897690"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.898384"], ["updated_at", "2020-02-07 05:06:37.898384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.899123"], ["updated_at", "2020-02-07 05:06:37.899123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.899842"], ["updated_at", "2020-02-07 05:06:37.899842"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.900545"], ["updated_at", "2020-02-07 05:06:37.900545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.902131"], ["updated_at", "2020-02-07 05:06:37.902131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.903050"], ["updated_at", "2020-02-07 05:06:37.903050"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.903752"], ["updated_at", "2020-02-07 05:06:37.903752"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.904454"], ["updated_at", "2020-02-07 05:06:37.904454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.905145"], ["updated_at", "2020-02-07 05:06:37.905145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.905820"], ["updated_at", "2020-02-07 05:06:37.905820"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:06:37.907658"], ["updated_at", "2020-02-07 05:06:37.907658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:06:37.908609"], ["updated_at", "2020-02-07 05:06:37.908609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:06:37.909266"], ["updated_at", "2020-02-07 05:06:37.909266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:06:37.909918"], ["updated_at", "2020-02-07 05:06:37.909918"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:06:37.910652"], ["updated_at", "2020-02-07 05:06:37.910652"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:06:37.911312"], ["updated_at", "2020-02-07 05:06:37.911312"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:07:05.921226"], ["updated_at", "2020-02-07 05:07:05.921226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:07:05.923252"], ["updated_at", "2020-02-07 05:07:05.923252"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:07:05.923982"], ["updated_at", "2020-02-07 05:07:05.923982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:07:05.924709"], ["updated_at", "2020-02-07 05:07:05.924709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:07:05.925395"], ["updated_at", "2020-02-07 05:07:05.925395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:07:05.926080"], ["updated_at", "2020-02-07 05:07:05.926080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:07:05.967604"], ["updated_at", "2020-02-07 05:07:05.967604"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:07:05.968749"], ["updated_at", "2020-02-07 05:07:05.968749"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:07:05.970288"], ["updated_at", "2020-02-07 05:07:05.970288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:07:05.971086"], ["updated_at", "2020-02-07 05:07:05.971086"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:07:05.971585"], ["updated_at", "2020-02-07 05:07:05.971585"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:07:05.971927"], ["updated_at", "2020-02-07 05:07:05.971927"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:07:05.972724"], ["updated_at", "2020-02-07 05:07:05.972724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:07:05.973061"], ["updated_at", "2020-02-07 05:07:05.973061"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:07:05.973612"], ["updated_at", "2020-02-07 05:07:05.973612"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:07:05.974079"], ["updated_at", "2020-02-07 05:07:05.974079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:07:05.974408"], ["updated_at", "2020-02-07 05:07:05.974408"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:07:06.012396"], ["updated_at", "2020-02-07 05:07:06.012396"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.013651"], ["updated_at", "2020-02-07 05:07:06.013651"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.014789"], ["updated_at", "2020-02-07 05:07:06.014789"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.015230"], ["updated_at", "2020-02-07 05:07:06.015230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.016920"], ["updated_at", "2020-02-07 05:07:06.016920"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.017390"], ["updated_at", "2020-02-07 05:07:06.017390"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.017830"], ["updated_at", "2020-02-07 05:07:06.017830"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:07:06.020916"], ["updated_at", "2020-02-07 05:07:06.020916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:07:06.022407"], ["updated_at", "2020-02-07 05:07:06.022407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:07:06.023265"], ["updated_at", "2020-02-07 05:07:06.023265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:07:06.024341"], ["updated_at", "2020-02-07 05:07:06.024341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:07:06.024937"], ["updated_at", "2020-02-07 05:07:06.024937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:07:06.025498"], ["updated_at", "2020-02-07 05:07:06.025498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:07:06.035044"], ["updated_at", "2020-02-07 05:07:06.035044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:07:06.047064"], ["updated_at", "2020-02-07 05:07:06.047064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:07:06.048034"], ["updated_at", "2020-02-07 05:07:06.048034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:07:06.060358"], ["updated_at", "2020-02-07 05:07:06.060358"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:07:06.061125"], ["updated_at", "2020-02-07 05:07:06.061125"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:07:06.062045"], ["updated_at", "2020-02-07 05:07:06.062045"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:07:06.062512"], ["updated_at", "2020-02-07 05:07:06.062512"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:07:06.063066"], ["updated_at", "2020-02-07 05:07:06.063066"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:07:06.063706"], ["updated_at", "2020-02-07 05:07:06.063706"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.064423"], ["updated_at", "2020-02-07 05:07:06.064423"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.064951"], ["updated_at", "2020-02-07 05:07:06.064951"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.065480"], ["updated_at", "2020-02-07 05:07:06.065480"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.066017"], ["updated_at", "2020-02-07 05:07:06.066017"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.066544"], ["updated_at", "2020-02-07 05:07:06.066544"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:07:06.072504' and '2020-02-07 05:07:06.072511' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:07:06.073276"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:07:06.074848"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:07:06.075787"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:07:06.079091"], ["updated_at", "2020-02-07 05:07:06.079091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:07:06.079955"], ["updated_at", "2020-02-07 05:07:06.079955"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:07:06.080584"], ["updated_at", "2020-02-07 05:07:06.080584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:07:06.081223"], ["updated_at", "2020-02-07 05:07:06.081223"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:07:06.081912"], ["updated_at", "2020-02-07 05:07:06.081912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:07:06.082531"], ["updated_at", "2020-02-07 05:07:06.082531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:07:06.083427"], ["updated_at", "2020-02-07 05:07:06.083427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:07:06.084152"], ["updated_at", "2020-02-07 05:07:06.084152"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:07:06.084796"], ["updated_at", "2020-02-07 05:07:06.084796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:07:06.088083"], ["updated_at", "2020-02-07 05:07:06.088083"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:07:06.088745"], ["updated_at", "2020-02-07 05:07:06.088745"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:07:06.089322"], ["updated_at", "2020-02-07 05:07:06.089322"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:07:06.089775"], ["updated_at", "2020-02-07 05:07:06.089775"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:07:06.090274"], ["updated_at", "2020-02-07 05:07:06.090274"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:07:06.090895"], ["updated_at", "2020-02-07 05:07:06.090895"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.091604"], ["updated_at", "2020-02-07 05:07:06.091604"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.092228"], ["updated_at", "2020-02-07 05:07:06.092228"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.092796"], ["updated_at", "2020-02-07 05:07:06.092796"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:07:06.093351"], ["updated_at", "2020-02-07 05:07:06.093351"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:07:06.093882"], ["updated_at", "2020-02-07 05:07:06.093882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:07:06.096113' and '2020-02-07 05:07:06.096120' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:07:06.096755"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:07:06.098130"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.3ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources"[0m
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.484543"], ["updated_at", "2020-02-07 05:10:16.484543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.486514"], ["updated_at", "2020-02-07 05:10:16.486514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.487298"], ["updated_at", "2020-02-07 05:10:16.487298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.488036"], ["updated_at", "2020-02-07 05:10:16.488036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.488774"], ["updated_at", "2020-02-07 05:10:16.488774"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.489509"], ["updated_at", "2020-02-07 05:10:16.489509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:10:16.491185"], ["updated_at", "2020-02-07 05:10:16.491185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:10:16.492257"], ["updated_at", "2020-02-07 05:10:16.492257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:10:16.493175"], ["updated_at", "2020-02-07 05:10:16.493175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:10:16.498446"], ["updated_at", "2020-02-07 05:10:16.498446"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:10:16.499462"], ["updated_at", "2020-02-07 05:10:16.499462"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:10:16.500239"], ["updated_at", "2020-02-07 05:10:16.500239"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:10:16.500824"], ["updated_at", "2020-02-07 05:10:16.500824"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:10:16.501521"], ["updated_at", "2020-02-07 05:10:16.501521"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:10:16.502395"], ["updated_at", "2020-02-07 05:10:16.502395"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:10:16.503622"], ["updated_at", "2020-02-07 05:10:16.503622"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:10:16.504392"], ["updated_at", "2020-02-07 05:10:16.504392"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:10:16.505096"], ["updated_at", "2020-02-07 05:10:16.505096"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:10:16.505826"], ["updated_at", "2020-02-07 05:10:16.505826"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:10:16.506518"], ["updated_at", "2020-02-07 05:10:16.506518"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:10:16.509312' and '2020-02-07 05:10:16.509321' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.522906"], ["updated_at", "2020-02-07 05:10:16.522906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.524224"], ["updated_at", "2020-02-07 05:10:16.524224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.525153"], ["updated_at", "2020-02-07 05:10:16.525153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.526060"], ["updated_at", "2020-02-07 05:10:16.526060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.526974"], ["updated_at", "2020-02-07 05:10:16.526974"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.527853"], ["updated_at", "2020-02-07 05:10:16.527853"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.529700"], ["updated_at", "2020-02-07 05:10:16.529700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.531563"], ["updated_at", "2020-02-07 05:10:16.531563"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.532489"], ["updated_at", "2020-02-07 05:10:16.532489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.533318"], ["updated_at", "2020-02-07 05:10:16.533318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.534138"], ["updated_at", "2020-02-07 05:10:16.534138"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.534960"], ["updated_at", "2020-02-07 05:10:16.534960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.536779"], ["updated_at", "2020-02-07 05:10:16.536779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.537857"], ["updated_at", "2020-02-07 05:10:16.537857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.538681"], ["updated_at", "2020-02-07 05:10:16.538681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.539519"], ["updated_at", "2020-02-07 05:10:16.539519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.540624"], ["updated_at", "2020-02-07 05:10:16.540624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.541653"], ["updated_at", "2020-02-07 05:10:16.541653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.543658"], ["updated_at", "2020-02-07 05:10:16.543658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.544838"], ["updated_at", "2020-02-07 05:10:16.544838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.545709"], ["updated_at", "2020-02-07 05:10:16.545709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.546562"], ["updated_at", "2020-02-07 05:10:16.546562"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.547446"], ["updated_at", "2020-02-07 05:10:16.547446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.548338"], ["updated_at", "2020-02-07 05:10:16.548338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.550490"], ["updated_at", "2020-02-07 05:10:16.550490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.551780"], ["updated_at", "2020-02-07 05:10:16.551780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.552723"], ["updated_at", "2020-02-07 05:10:16.552723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.553634"], ["updated_at", "2020-02-07 05:10:16.553634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.554540"], ["updated_at", "2020-02-07 05:10:16.554540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.555555"], ["updated_at", "2020-02-07 05:10:16.555555"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.557732"], ["updated_at", "2020-02-07 05:10:16.557732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.558994"], ["updated_at", "2020-02-07 05:10:16.558994"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.560648"], ["updated_at", "2020-02-07 05:10:16.560648"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.561548"], ["updated_at", "2020-02-07 05:10:16.561548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.562150"], ["updated_at", "2020-02-07 05:10:16.562150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.562725"], ["updated_at", "2020-02-07 05:10:16.562725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.564610"], ["updated_at", "2020-02-07 05:10:16.564610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.565909"], ["updated_at", "2020-02-07 05:10:16.565909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.566857"], ["updated_at", "2020-02-07 05:10:16.566857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.567770"], ["updated_at", "2020-02-07 05:10:16.567770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.568660"], ["updated_at", "2020-02-07 05:10:16.568660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.569541"], ["updated_at", "2020-02-07 05:10:16.569541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:10:16.571807"], ["updated_at", "2020-02-07 05:10:16.571807"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:10:16.573091"], ["updated_at", "2020-02-07 05:10:16.573091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:10:16.573998"], ["updated_at", "2020-02-07 05:10:16.573998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:10:16.574971"], ["updated_at", "2020-02-07 05:10:16.574971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:10:16.575904"], ["updated_at", "2020-02-07 05:10:16.575904"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:10:16.576817"], ["updated_at", "2020-02-07 05:10:16.576817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:48.879444"], ["updated_at", "2020-02-07 05:11:48.879444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:48.881461"], ["updated_at", "2020-02-07 05:11:48.881461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:48.882170"], ["updated_at", "2020-02-07 05:11:48.882170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:48.882851"], ["updated_at", "2020-02-07 05:11:48.882851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:48.883527"], ["updated_at", "2020-02-07 05:11:48.883527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:48.884195"], ["updated_at", "2020-02-07 05:11:48.884195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:48.893915"], ["updated_at", "2020-02-07 05:11:48.893915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:11:48.933102"], ["updated_at", "2020-02-07 05:11:48.933102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:11:48.934225"], ["updated_at", "2020-02-07 05:11:48.934225"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:11:48.934878"], ["updated_at", "2020-02-07 05:11:48.934878"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:11:48.936170"], ["updated_at", "2020-02-07 05:11:48.936170"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:48.936752"], ["updated_at", "2020-02-07 05:11:48.936752"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:11:48.937165"], ["updated_at", "2020-02-07 05:11:48.937165"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:48.938024"], ["updated_at", "2020-02-07 05:11:48.938024"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:11:48.938449"], ["updated_at", "2020-02-07 05:11:48.938449"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:11:48.938986"], ["updated_at", "2020-02-07 05:11:48.938986"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:48.939540"], ["updated_at", "2020-02-07 05:11:48.939540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:11:48.939919"], ["updated_at", "2020-02-07 05:11:48.939919"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:11:48.979532"], ["updated_at", "2020-02-07 05:11:48.979532"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:48.980724"], ["updated_at", "2020-02-07 05:11:48.980724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:48.981956"], ["updated_at", "2020-02-07 05:11:48.981956"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:48.982491"], ["updated_at", "2020-02-07 05:11:48.982491"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:48.984040"], ["updated_at", "2020-02-07 05:11:48.984040"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:48.984568"], ["updated_at", "2020-02-07 05:11:48.984568"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:11:48.985081"], ["updated_at", "2020-02-07 05:11:48.985081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:48.987784"], ["updated_at", "2020-02-07 05:11:48.987784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:48.988640"], ["updated_at", "2020-02-07 05:11:48.988640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:48.989254"], ["updated_at", "2020-02-07 05:11:48.989254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:48.989867"], ["updated_at", "2020-02-07 05:11:48.989867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:48.990470"], ["updated_at", "2020-02-07 05:11:48.990470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:48.991133"], ["updated_at", "2020-02-07 05:11:48.991133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:48.991898"], ["updated_at", "2020-02-07 05:11:48.991898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:11:48.998911"], ["updated_at", "2020-02-07 05:11:48.998911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:11:49.000943"], ["updated_at", "2020-02-07 05:11:49.000943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:11:49.001733"], ["updated_at", "2020-02-07 05:11:49.001733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:11:49.025117"], ["updated_at", "2020-02-07 05:11:49.025117"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:11:49.026006"], ["updated_at", "2020-02-07 05:11:49.026006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:11:49.027347"], ["updated_at", "2020-02-07 05:11:49.027347"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:11:49.027864"], ["updated_at", "2020-02-07 05:11:49.027864"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:11:49.028405"], ["updated_at", "2020-02-07 05:11:49.028405"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:11:49.029135"], ["updated_at", "2020-02-07 05:11:49.029135"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.029869"], ["updated_at", "2020-02-07 05:11:49.029869"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.030391"], ["updated_at", "2020-02-07 05:11:49.030391"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.030903"], ["updated_at", "2020-02-07 05:11:49.030903"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.031436"], ["updated_at", "2020-02-07 05:11:49.031436"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.031971"], ["updated_at", "2020-02-07 05:11:49.031971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:11:49.038048' and '2020-02-07 05:11:49.038056' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:11:49.038962"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:11:49.040499"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:11:49.041394"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.044850"], ["updated_at", "2020-02-07 05:11:49.044850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.045745"], ["updated_at", "2020-02-07 05:11:49.045745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.046393"], ["updated_at", "2020-02-07 05:11:49.046393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.047038"], ["updated_at", "2020-02-07 05:11:49.047038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.047680"], ["updated_at", "2020-02-07 05:11:49.047680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.048318"], ["updated_at", "2020-02-07 05:11:49.048318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.049067"], ["updated_at", "2020-02-07 05:11:49.049067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:11:49.050256"], ["updated_at", "2020-02-07 05:11:49.050256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:11:49.051000"], ["updated_at", "2020-02-07 05:11:49.051000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:11:49.051665"], ["updated_at", "2020-02-07 05:11:49.051665"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:11:49.055065"], ["updated_at", "2020-02-07 05:11:49.055065"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:11:49.055736"], ["updated_at", "2020-02-07 05:11:49.055736"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:11:49.056327"], ["updated_at", "2020-02-07 05:11:49.056327"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:11:49.056786"], ["updated_at", "2020-02-07 05:11:49.056786"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:11:49.057315"], ["updated_at", "2020-02-07 05:11:49.057315"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:11:49.057964"], ["updated_at", "2020-02-07 05:11:49.057964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.058692"], ["updated_at", "2020-02-07 05:11:49.058692"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.059236"], ["updated_at", "2020-02-07 05:11:49.059236"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.059766"], ["updated_at", "2020-02-07 05:11:49.059766"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.060310"], ["updated_at", "2020-02-07 05:11:49.060310"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.060879"], ["updated_at", "2020-02-07 05:11:49.060879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:11:49.062867' and '2020-02-07 05:11:49.062873' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:11:49.063612"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:11:49.064906"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.069793"], ["updated_at", "2020-02-07 05:11:49.069793"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.070719"], ["updated_at", "2020-02-07 05:11:49.070719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.071437"], ["updated_at", "2020-02-07 05:11:49.071437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.072087"], ["updated_at", "2020-02-07 05:11:49.072087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.072728"], ["updated_at", "2020-02-07 05:11:49.072728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.073362"], ["updated_at", "2020-02-07 05:11:49.073362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.074111"], ["updated_at", "2020-02-07 05:11:49.074111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:11:49.075251"], ["updated_at", "2020-02-07 05:11:49.075251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:11:49.075988"], ["updated_at", "2020-02-07 05:11:49.075988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:11:49.076705"], ["updated_at", "2020-02-07 05:11:49.076705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:11:49.080430"], ["updated_at", "2020-02-07 05:11:49.080430"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:11:49.081119"], ["updated_at", "2020-02-07 05:11:49.081119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:11:49.081700"], ["updated_at", "2020-02-07 05:11:49.081700"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:11:49.082191"], ["updated_at", "2020-02-07 05:11:49.082191"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:11:49.082701"], ["updated_at", "2020-02-07 05:11:49.082701"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:11:49.083348"], ["updated_at", "2020-02-07 05:11:49.083348"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.084089"], ["updated_at", "2020-02-07 05:11:49.084089"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.084640"], ["updated_at", "2020-02-07 05:11:49.084640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.085425"], ["updated_at", "2020-02-07 05:11:49.085425"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:11:49.086006"], ["updated_at", "2020-02-07 05:11:49.086006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:11:49.086537"], ["updated_at", "2020-02-07 05:11:49.086537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:11:49.088543' and '2020-02-07 05:11:49.088550' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.095954"], ["updated_at", "2020-02-07 05:11:49.095954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.097026"], ["updated_at", "2020-02-07 05:11:49.097026"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.097727"], ["updated_at", "2020-02-07 05:11:49.097727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.098383"], ["updated_at", "2020-02-07 05:11:49.098383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.099035"], ["updated_at", "2020-02-07 05:11:49.099035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.099697"], ["updated_at", "2020-02-07 05:11:49.099697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.100955"], ["updated_at", "2020-02-07 05:11:49.100955"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.102555"], ["updated_at", "2020-02-07 05:11:49.102555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.103491"], ["updated_at", "2020-02-07 05:11:49.103491"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.104147"], ["updated_at", "2020-02-07 05:11:49.104147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.104792"], ["updated_at", "2020-02-07 05:11:49.104792"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.105458"], ["updated_at", "2020-02-07 05:11:49.105458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.106157"], ["updated_at", "2020-02-07 05:11:49.106157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.107057"], ["updated_at", "2020-02-07 05:11:49.107057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.108813"], ["updated_at", "2020-02-07 05:11:49.108813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.109805"], ["updated_at", "2020-02-07 05:11:49.109805"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.110510"], ["updated_at", "2020-02-07 05:11:49.110510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.111176"], ["updated_at", "2020-02-07 05:11:49.111176"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.111838"], ["updated_at", "2020-02-07 05:11:49.111838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.112486"], ["updated_at", "2020-02-07 05:11:49.112486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.113813"], ["updated_at", "2020-02-07 05:11:49.113813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.115543"], ["updated_at", "2020-02-07 05:11:49.115543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.116433"], ["updated_at", "2020-02-07 05:11:49.116433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.117105"], ["updated_at", "2020-02-07 05:11:49.117105"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.117775"], ["updated_at", "2020-02-07 05:11:49.117775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.118445"], ["updated_at", "2020-02-07 05:11:49.118445"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.119647"], ["updated_at", "2020-02-07 05:11:49.119647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.120433"], ["updated_at", "2020-02-07 05:11:49.120433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.122782"], ["updated_at", "2020-02-07 05:11:49.122782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.123763"], ["updated_at", "2020-02-07 05:11:49.123763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.124438"], ["updated_at", "2020-02-07 05:11:49.124438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.125216"], ["updated_at", "2020-02-07 05:11:49.125216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.125897"], ["updated_at", "2020-02-07 05:11:49.125897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.126601"], ["updated_at", "2020-02-07 05:11:49.126601"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.127495"], ["updated_at", "2020-02-07 05:11:49.127495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.129489"], ["updated_at", "2020-02-07 05:11:49.129489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.130460"], ["updated_at", "2020-02-07 05:11:49.130460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.131172"], ["updated_at", "2020-02-07 05:11:49.131172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.132543"], ["updated_at", "2020-02-07 05:11:49.132543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.133321"], ["updated_at", "2020-02-07 05:11:49.133321"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.134072"], ["updated_at", "2020-02-07 05:11:49.134072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.134908"], ["updated_at", "2020-02-07 05:11:49.134908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.137636"], ["updated_at", "2020-02-07 05:11:49.137636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.138811"], ["updated_at", "2020-02-07 05:11:49.138811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.139561"], ["updated_at", "2020-02-07 05:11:49.139561"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.140273"], ["updated_at", "2020-02-07 05:11:49.140273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.140962"], ["updated_at", "2020-02-07 05:11:49.140962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.141655"], ["updated_at", "2020-02-07 05:11:49.141655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.142519"], ["updated_at", "2020-02-07 05:11:49.142519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:11:49.144510"], ["updated_at", "2020-02-07 05:11:49.144510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:11:49.145569"], ["updated_at", "2020-02-07 05:11:49.145569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:11:49.146548"], ["updated_at", "2020-02-07 05:11:49.146548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:11:49.147453"], ["updated_at", "2020-02-07 05:11:49.147453"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:11:49.148243"], ["updated_at", "2020-02-07 05:11:49.148243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:11:49.149042"], ["updated_at", "2020-02-07 05:11:49.149042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:11:49.150570"], ["updated_at", "2020-02-07 05:11:49.150570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:12:17.959439"], ["updated_at", "2020-02-07 05:12:17.959439"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:12:17.962096"], ["updated_at", "2020-02-07 05:12:17.962096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:12:17.963151"], ["updated_at", "2020-02-07 05:12:17.963151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:12:17.963988"], ["updated_at", "2020-02-07 05:12:17.963988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:12:17.964787"], ["updated_at", "2020-02-07 05:12:17.964787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:12:17.965545"], ["updated_at", "2020-02-07 05:12:17.965545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:12:17.976893"], ["updated_at", "2020-02-07 05:12:17.976893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:12:18.019088"], ["updated_at", "2020-02-07 05:12:18.019088"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:12:18.020252"], ["updated_at", "2020-02-07 05:12:18.020252"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:12:18.020936"], ["updated_at", "2020-02-07 05:12:18.020936"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:12:18.021964"], ["updated_at", "2020-02-07 05:12:18.021964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:12:18.022537"], ["updated_at", "2020-02-07 05:12:18.022537"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:12:18.022939"], ["updated_at", "2020-02-07 05:12:18.022939"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:12:18.023912"], ["updated_at", "2020-02-07 05:12:18.023912"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:12:18.024303"], ["updated_at", "2020-02-07 05:12:18.024303"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:12:18.025482"], ["updated_at", "2020-02-07 05:12:18.025482"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:12:18.026248"], ["updated_at", "2020-02-07 05:12:18.026248"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:12:18.026881"], ["updated_at", "2020-02-07 05:12:18.026881"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:12:18.081960"], ["updated_at", "2020-02-07 05:12:18.081960"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.083459"], ["updated_at", "2020-02-07 05:12:18.083459"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.085107"], ["updated_at", "2020-02-07 05:12:18.085107"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.085740"], ["updated_at", "2020-02-07 05:12:18.085740"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.087512"], ["updated_at", "2020-02-07 05:12:18.087512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.088126"], ["updated_at", "2020-02-07 05:12:18.088126"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.088690"], ["updated_at", "2020-02-07 05:12:18.088690"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:12:18.092969"], ["updated_at", "2020-02-07 05:12:18.092969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:12:18.094042"], ["updated_at", "2020-02-07 05:12:18.094042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:12:18.094718"], ["updated_at", "2020-02-07 05:12:18.094718"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:12:18.095379"], ["updated_at", "2020-02-07 05:12:18.095379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:12:18.096123"], ["updated_at", "2020-02-07 05:12:18.096123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:12:18.096844"], ["updated_at", "2020-02-07 05:12:18.096844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:12:18.097682"], ["updated_at", "2020-02-07 05:12:18.097682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:12:18.104051"], ["updated_at", "2020-02-07 05:12:18.104051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:12:18.105670"], ["updated_at", "2020-02-07 05:12:18.105670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:12:18.106548"], ["updated_at", "2020-02-07 05:12:18.106548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:12:18.120775"], ["updated_at", "2020-02-07 05:12:18.120775"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:12:18.121658"], ["updated_at", "2020-02-07 05:12:18.121658"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:12:18.122924"], ["updated_at", "2020-02-07 05:12:18.122924"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:12:18.123548"], ["updated_at", "2020-02-07 05:12:18.123548"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:12:18.124177"], ["updated_at", "2020-02-07 05:12:18.124177"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:12:18.124888"], ["updated_at", "2020-02-07 05:12:18.124888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.125659"], ["updated_at", "2020-02-07 05:12:18.125659"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.126221"], ["updated_at", "2020-02-07 05:12:18.126221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.126750"], ["updated_at", "2020-02-07 05:12:18.126750"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.127296"], ["updated_at", "2020-02-07 05:12:18.127296"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.127882"], ["updated_at", "2020-02-07 05:12:18.127882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:12:18.134561' and '2020-02-07 05:12:18.134574' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:12:18.135887"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:12:18.137764"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:12:18.138778"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:12:18.142900"], ["updated_at", "2020-02-07 05:12:18.142900"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:12:18.143975"], ["updated_at", "2020-02-07 05:12:18.143975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:12:18.144733"], ["updated_at", "2020-02-07 05:12:18.144733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:12:18.145443"], ["updated_at", "2020-02-07 05:12:18.145443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:12:18.146141"], ["updated_at", "2020-02-07 05:12:18.146141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:12:18.146914"], ["updated_at", "2020-02-07 05:12:18.146914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:12:18.147939"], ["updated_at", "2020-02-07 05:12:18.147939"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:12:18.150114"], ["updated_at", "2020-02-07 05:12:18.150114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:12:18.151050"], ["updated_at", "2020-02-07 05:12:18.151050"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:12:18.151862"], ["updated_at", "2020-02-07 05:12:18.151862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:12:18.156022"], ["updated_at", "2020-02-07 05:12:18.156022"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:12:18.157070"], ["updated_at", "2020-02-07 05:12:18.157070"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:12:18.157684"], ["updated_at", "2020-02-07 05:12:18.157684"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:12:18.158139"], ["updated_at", "2020-02-07 05:12:18.158139"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:12:18.158663"], ["updated_at", "2020-02-07 05:12:18.158663"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:12:18.159294"], ["updated_at", "2020-02-07 05:12:18.159294"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.160149"], ["updated_at", "2020-02-07 05:12:18.160149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.160720"], ["updated_at", "2020-02-07 05:12:18.160720"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.161304"], ["updated_at", "2020-02-07 05:12:18.161304"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:12:18.162036"], ["updated_at", "2020-02-07 05:12:18.162036"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:12:18.162832"], ["updated_at", "2020-02-07 05:12:18.162832"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:12:18.165389' and '2020-02-07 05:12:18.165398' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:12:18.166511"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:12:18.167879"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_resources"[0m
  [1m[36mLarvata::Signing::Resource Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" ORDER BY "larvata_signing_resources"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mInquirement Load (1.6ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:40.925419"], ["updated_at", "2020-02-07 05:15:40.925419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:40.928421"], ["updated_at", "2020-02-07 05:15:40.928421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:40.929487"], ["updated_at", "2020-02-07 05:15:40.929487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:40.931299"], ["updated_at", "2020-02-07 05:15:40.931299"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:40.932836"], ["updated_at", "2020-02-07 05:15:40.932836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:40.934077"], ["updated_at", "2020-02-07 05:15:40.934077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:40.935804"], ["updated_at", "2020-02-07 05:15:40.935804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:15:40.938465"], ["updated_at", "2020-02-07 05:15:40.938465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:15:40.939514"], ["updated_at", "2020-02-07 05:15:40.939514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:15:40.940320"], ["updated_at", "2020-02-07 05:15:40.940320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:15:40.950009"], ["updated_at", "2020-02-07 05:15:40.950009"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:15:40.951142"], ["updated_at", "2020-02-07 05:15:40.951142"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:15:40.951871"], ["updated_at", "2020-02-07 05:15:40.951871"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:15:40.952393"], ["updated_at", "2020-02-07 05:15:40.952393"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:15:40.952993"], ["updated_at", "2020-02-07 05:15:40.952993"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:15:40.953888"], ["updated_at", "2020-02-07 05:15:40.953888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:15:40.954797"], ["updated_at", "2020-02-07 05:15:40.954797"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:15:40.955414"], ["updated_at", "2020-02-07 05:15:40.955414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:15:40.956035"], ["updated_at", "2020-02-07 05:15:40.956035"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:15:40.956699"], ["updated_at", "2020-02-07 05:15:40.956699"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:15:40.957352"], ["updated_at", "2020-02-07 05:15:40.957352"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:15:40.961118' and '2020-02-07 05:15:40.961134' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:40.979654"], ["updated_at", "2020-02-07 05:15:40.979654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:40.980895"], ["updated_at", "2020-02-07 05:15:40.980895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:40.981893"], ["updated_at", "2020-02-07 05:15:40.981893"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:40.982594"], ["updated_at", "2020-02-07 05:15:40.982594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:40.983291"], ["updated_at", "2020-02-07 05:15:40.983291"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:40.984004"], ["updated_at", "2020-02-07 05:15:40.984004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:40.984866"], ["updated_at", "2020-02-07 05:15:40.984866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:40.987005"], ["updated_at", "2020-02-07 05:15:40.987005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:40.987975"], ["updated_at", "2020-02-07 05:15:40.987975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:40.988910"], ["updated_at", "2020-02-07 05:15:40.988910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:40.990422"], ["updated_at", "2020-02-07 05:15:40.990422"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:40.991222"], ["updated_at", "2020-02-07 05:15:40.991222"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:40.991997"], ["updated_at", "2020-02-07 05:15:40.991997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:40.993000"], ["updated_at", "2020-02-07 05:15:40.993000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:40.995360"], ["updated_at", "2020-02-07 05:15:40.995360"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:40.996578"], ["updated_at", "2020-02-07 05:15:40.996578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:40.997384"], ["updated_at", "2020-02-07 05:15:40.997384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:40.998116"], ["updated_at", "2020-02-07 05:15:40.998116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:40.998863"], ["updated_at", "2020-02-07 05:15:40.998863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:40.999593"], ["updated_at", "2020-02-07 05:15:40.999593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.000416"], ["updated_at", "2020-02-07 05:15:41.000416"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:41.002612"], ["updated_at", "2020-02-07 05:15:41.002612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:41.003767"], ["updated_at", "2020-02-07 05:15:41.003767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:41.004708"], ["updated_at", "2020-02-07 05:15:41.004708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:41.005523"], ["updated_at", "2020-02-07 05:15:41.005523"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:41.006269"], ["updated_at", "2020-02-07 05:15:41.006269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:41.007016"], ["updated_at", "2020-02-07 05:15:41.007016"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.034466"], ["updated_at", "2020-02-07 05:15:41.034466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:41.036276"], ["updated_at", "2020-02-07 05:15:41.036276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:41.037113"], ["updated_at", "2020-02-07 05:15:41.037113"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:41.038712"], ["updated_at", "2020-02-07 05:15:41.038712"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:41.039447"], ["updated_at", "2020-02-07 05:15:41.039447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:41.040055"], ["updated_at", "2020-02-07 05:15:41.040055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:41.040653"], ["updated_at", "2020-02-07 05:15:41.040653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.041330"], ["updated_at", "2020-02-07 05:15:41.041330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:41.043251"], ["updated_at", "2020-02-07 05:15:41.043251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:41.044089"], ["updated_at", "2020-02-07 05:15:41.044089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:41.044978"], ["updated_at", "2020-02-07 05:15:41.044978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:41.045675"], ["updated_at", "2020-02-07 05:15:41.045675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:41.046382"], ["updated_at", "2020-02-07 05:15:41.046382"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:41.047032"], ["updated_at", "2020-02-07 05:15:41.047032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.047816"], ["updated_at", "2020-02-07 05:15:41.047816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:41.050358"], ["updated_at", "2020-02-07 05:15:41.050358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:41.051648"], ["updated_at", "2020-02-07 05:15:41.051648"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:41.052558"], ["updated_at", "2020-02-07 05:15:41.052558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:41.053673"], ["updated_at", "2020-02-07 05:15:41.053673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:41.054292"], ["updated_at", "2020-02-07 05:15:41.054292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:41.054885"], ["updated_at", "2020-02-07 05:15:41.054885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.055654"], ["updated_at", "2020-02-07 05:15:41.055654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:15:41.057306"], ["updated_at", "2020-02-07 05:15:41.057306"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:15:41.058152"], ["updated_at", "2020-02-07 05:15:41.058152"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:15:41.058848"], ["updated_at", "2020-02-07 05:15:41.058848"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:15:41.059653"], ["updated_at", "2020-02-07 05:15:41.059653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:15:41.060421"], ["updated_at", "2020-02-07 05:15:41.060421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:15:41.061113"], ["updated_at", "2020-02-07 05:15:41.061113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:15:41.061937"], ["updated_at", "2020-02-07 05:15:41.061937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:05.742508"], ["updated_at", "2020-02-07 05:16:05.742508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:05.744597"], ["updated_at", "2020-02-07 05:16:05.744597"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.745356"], ["updated_at", "2020-02-07 05:16:05.745356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.746061"], ["updated_at", "2020-02-07 05:16:05.746061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:05.746961"], ["updated_at", "2020-02-07 05:16:05.746961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.747709"], ["updated_at", "2020-02-07 05:16:05.747709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:05.809016"], ["updated_at", "2020-02-07 05:16:05.809016"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:05.810288"], ["updated_at", "2020-02-07 05:16:05.810288"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:05.811906"], ["updated_at", "2020-02-07 05:16:05.811906"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.813511"], ["updated_at", "2020-02-07 05:16:05.813511"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.814311"], ["updated_at", "2020-02-07 05:16:05.814311"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:05.815535"], ["updated_at", "2020-02-07 05:16:05.815535"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.816899"], ["updated_at", "2020-02-07 05:16:05.816899"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:05.817859"], ["updated_at", "2020-02-07 05:16:05.817859"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.818498"], ["updated_at", "2020-02-07 05:16:05.818498"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.819199"], ["updated_at", "2020-02-07 05:16:05.819199"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:05.819633"], ["updated_at", "2020-02-07 05:16:05.819633"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:05.871011"], ["updated_at", "2020-02-07 05:16:05.871011"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.872986"], ["updated_at", "2020-02-07 05:16:05.872986"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.874837"], ["updated_at", "2020-02-07 05:16:05.874837"]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.875411"], ["updated_at", "2020-02-07 05:16:05.875411"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.878065"], ["updated_at", "2020-02-07 05:16:05.878065"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.878690"], ["updated_at", "2020-02-07 05:16:05.878690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.879294"], ["updated_at", "2020-02-07 05:16:05.879294"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:05.882487"], ["updated_at", "2020-02-07 05:16:05.882487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:05.883498"], ["updated_at", "2020-02-07 05:16:05.883498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.884179"], ["updated_at", "2020-02-07 05:16:05.884179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.884831"], ["updated_at", "2020-02-07 05:16:05.884831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:05.885496"], ["updated_at", "2020-02-07 05:16:05.885496"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.886750"], ["updated_at", "2020-02-07 05:16:05.886750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:05.889920"], ["updated_at", "2020-02-07 05:16:05.889920"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:05.890479"], ["updated_at", "2020-02-07 05:16:05.890479"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:05.891151"], ["updated_at", "2020-02-07 05:16:05.891151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.891757"], ["updated_at", "2020-02-07 05:16:05.891757"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.892313"], ["updated_at", "2020-02-07 05:16:05.892313"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:05.892716"], ["updated_at", "2020-02-07 05:16:05.892716"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.893350"], ["updated_at", "2020-02-07 05:16:05.893350"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:05.893738"], ["updated_at", "2020-02-07 05:16:05.893738"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.894288"], ["updated_at", "2020-02-07 05:16:05.894288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.894852"], ["updated_at", "2020-02-07 05:16:05.894852"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:05.895427"], ["updated_at", "2020-02-07 05:16:05.895427"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:05.916948"], ["updated_at", "2020-02-07 05:16:05.916948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:05.918953"], ["updated_at", "2020-02-07 05:16:05.918953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:05.920037"], ["updated_at", "2020-02-07 05:16:05.920037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:05.932190"], ["updated_at", "2020-02-07 05:16:05.932190"]]
  [1m[35mSQL (4.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:05.932948"], ["updated_at", "2020-02-07 05:16:05.932948"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:05.939127"], ["updated_at", "2020-02-07 05:16:05.939127"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:05.940341"], ["updated_at", "2020-02-07 05:16:05.940341"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:05.941211"], ["updated_at", "2020-02-07 05:16:05.941211"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:05.942002"], ["updated_at", "2020-02-07 05:16:05.942002"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.942777"], ["updated_at", "2020-02-07 05:16:05.942777"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.943320"], ["updated_at", "2020-02-07 05:16:05.943320"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.943841"], ["updated_at", "2020-02-07 05:16:05.943841"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.944387"], ["updated_at", "2020-02-07 05:16:05.944387"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.944911"], ["updated_at", "2020-02-07 05:16:05.944911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:05.951619' and '2020-02-07 05:16:05.951628' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:16:05.952732"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:16:05.954542"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:16:05.955669"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:05.959297"], ["updated_at", "2020-02-07 05:16:05.959297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:05.960266"], ["updated_at", "2020-02-07 05:16:05.960266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.960923"], ["updated_at", "2020-02-07 05:16:05.960923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.961592"], ["updated_at", "2020-02-07 05:16:05.961592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:05.962232"], ["updated_at", "2020-02-07 05:16:05.962232"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.962995"], ["updated_at", "2020-02-07 05:16:05.962995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:05.966006"], ["updated_at", "2020-02-07 05:16:05.966006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:05.966619"], ["updated_at", "2020-02-07 05:16:05.966619"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:05.967285"], ["updated_at", "2020-02-07 05:16:05.967285"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.967869"], ["updated_at", "2020-02-07 05:16:05.967869"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:05.968433"], ["updated_at", "2020-02-07 05:16:05.968433"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:05.968979"], ["updated_at", "2020-02-07 05:16:05.968979"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.970190"], ["updated_at", "2020-02-07 05:16:05.970190"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:05.970826"], ["updated_at", "2020-02-07 05:16:05.970826"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:05.971433"], ["updated_at", "2020-02-07 05:16:05.971433"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:05.972004"], ["updated_at", "2020-02-07 05:16:05.972004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:05.972389"], ["updated_at", "2020-02-07 05:16:05.972389"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:05.973514"], ["updated_at", "2020-02-07 05:16:05.973514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:05.974259"], ["updated_at", "2020-02-07 05:16:05.974259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:05.974915"], ["updated_at", "2020-02-07 05:16:05.974915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:05.978353"], ["updated_at", "2020-02-07 05:16:05.978353"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:05.979173"], ["updated_at", "2020-02-07 05:16:05.979173"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:05.979835"], ["updated_at", "2020-02-07 05:16:05.979835"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:05.980310"], ["updated_at", "2020-02-07 05:16:05.980310"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:05.980856"], ["updated_at", "2020-02-07 05:16:05.980856"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:05.981616"], ["updated_at", "2020-02-07 05:16:05.981616"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.982522"], ["updated_at", "2020-02-07 05:16:05.982522"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.983112"], ["updated_at", "2020-02-07 05:16:05.983112"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.983650"], ["updated_at", "2020-02-07 05:16:05.983650"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:05.984271"], ["updated_at", "2020-02-07 05:16:05.984271"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:05.984863"], ["updated_at", "2020-02-07 05:16:05.984863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:05.987117' and '2020-02-07 05:16:05.987125' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:16:05.987900"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:16:05.990519"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:05.997641"], ["updated_at", "2020-02-07 05:16:05.997641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:05.998827"], ["updated_at", "2020-02-07 05:16:05.998827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:05.999662"], ["updated_at", "2020-02-07 05:16:05.999662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.000380"], ["updated_at", "2020-02-07 05:16:06.000380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.001193"], ["updated_at", "2020-02-07 05:16:06.001193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.001948"], ["updated_at", "2020-02-07 05:16:06.001948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.005569"], ["updated_at", "2020-02-07 05:16:06.005569"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.006360"], ["updated_at", "2020-02-07 05:16:06.006360"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.007053"], ["updated_at", "2020-02-07 05:16:06.007053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.007763"], ["updated_at", "2020-02-07 05:16:06.007763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.008413"], ["updated_at", "2020-02-07 05:16:06.008413"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.008825"], ["updated_at", "2020-02-07 05:16:06.008825"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.009439"], ["updated_at", "2020-02-07 05:16:06.009439"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.009818"], ["updated_at", "2020-02-07 05:16:06.009818"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.010345"], ["updated_at", "2020-02-07 05:16:06.010345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.010892"], ["updated_at", "2020-02-07 05:16:06.010892"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.011271"], ["updated_at", "2020-02-07 05:16:06.011271"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:06.012372"], ["updated_at", "2020-02-07 05:16:06.012372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:06.013160"], ["updated_at", "2020-02-07 05:16:06.013160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:06.013908"], ["updated_at", "2020-02-07 05:16:06.013908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:06.017792"], ["updated_at", "2020-02-07 05:16:06.017792"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:06.018625"], ["updated_at", "2020-02-07 05:16:06.018625"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:06.019562"], ["updated_at", "2020-02-07 05:16:06.019562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:06.020195"], ["updated_at", "2020-02-07 05:16:06.020195"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:06.020804"], ["updated_at", "2020-02-07 05:16:06.020804"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:06.022196"], ["updated_at", "2020-02-07 05:16:06.022196"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:06.024316"], ["updated_at", "2020-02-07 05:16:06.024316"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:06.025175"], ["updated_at", "2020-02-07 05:16:06.025175"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:06.025763"], ["updated_at", "2020-02-07 05:16:06.025763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:06.026376"], ["updated_at", "2020-02-07 05:16:06.026376"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:06.027061"], ["updated_at", "2020-02-07 05:16:06.027061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:06.029091' and '2020-02-07 05:16:06.029097' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.036927"], ["updated_at", "2020-02-07 05:16:06.036927"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.037939"], ["updated_at", "2020-02-07 05:16:06.037939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.038812"], ["updated_at", "2020-02-07 05:16:06.038812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.040038"], ["updated_at", "2020-02-07 05:16:06.040038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.040733"], ["updated_at", "2020-02-07 05:16:06.040733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.041445"], ["updated_at", "2020-02-07 05:16:06.041445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.044633"], ["updated_at", "2020-02-07 05:16:06.044633"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.045210"], ["updated_at", "2020-02-07 05:16:06.045210"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.045912"], ["updated_at", "2020-02-07 05:16:06.045912"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.046533"], ["updated_at", "2020-02-07 05:16:06.046533"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.047096"], ["updated_at", "2020-02-07 05:16:06.047096"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.047506"], ["updated_at", "2020-02-07 05:16:06.047506"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.048188"], ["updated_at", "2020-02-07 05:16:06.048188"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.048576"], ["updated_at", "2020-02-07 05:16:06.048576"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.049141"], ["updated_at", "2020-02-07 05:16:06.049141"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.049710"], ["updated_at", "2020-02-07 05:16:06.049710"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.050108"], ["updated_at", "2020-02-07 05:16:06.050108"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.053112"], ["updated_at", "2020-02-07 05:16:06.053112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.054318"], ["updated_at", "2020-02-07 05:16:06.054318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.055067"], ["updated_at", "2020-02-07 05:16:06.055067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.055767"], ["updated_at", "2020-02-07 05:16:06.055767"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.056436"], ["updated_at", "2020-02-07 05:16:06.056436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.057097"], ["updated_at", "2020-02-07 05:16:06.057097"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.071230"], ["updated_at", "2020-02-07 05:16:06.071230"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.072059"], ["updated_at", "2020-02-07 05:16:06.072059"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.072871"], ["updated_at", "2020-02-07 05:16:06.072871"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.073544"], ["updated_at", "2020-02-07 05:16:06.073544"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.074120"], ["updated_at", "2020-02-07 05:16:06.074120"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.074635"], ["updated_at", "2020-02-07 05:16:06.074635"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.075376"], ["updated_at", "2020-02-07 05:16:06.075376"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.075813"], ["updated_at", "2020-02-07 05:16:06.075813"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.076453"], ["updated_at", "2020-02-07 05:16:06.076453"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.077120"], ["updated_at", "2020-02-07 05:16:06.077120"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.077549"], ["updated_at", "2020-02-07 05:16:06.077549"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.079470"], ["updated_at", "2020-02-07 05:16:06.079470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.080498"], ["updated_at", "2020-02-07 05:16:06.080498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.081193"], ["updated_at", "2020-02-07 05:16:06.081193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.081847"], ["updated_at", "2020-02-07 05:16:06.081847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.082601"], ["updated_at", "2020-02-07 05:16:06.082601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.083692"], ["updated_at", "2020-02-07 05:16:06.083692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.130467"], ["updated_at", "2020-02-07 05:16:06.130467"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.131681"], ["updated_at", "2020-02-07 05:16:06.131681"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.132971"], ["updated_at", "2020-02-07 05:16:06.132971"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.133726"], ["updated_at", "2020-02-07 05:16:06.133726"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.134466"], ["updated_at", "2020-02-07 05:16:06.134466"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.134897"], ["updated_at", "2020-02-07 05:16:06.134897"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.135532"], ["updated_at", "2020-02-07 05:16:06.135532"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.135930"], ["updated_at", "2020-02-07 05:16:06.135930"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.136541"], ["updated_at", "2020-02-07 05:16:06.136541"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.137828"], ["updated_at", "2020-02-07 05:16:06.137828"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.138239"], ["updated_at", "2020-02-07 05:16:06.138239"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.140071"], ["updated_at", "2020-02-07 05:16:06.140071"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.141191"], ["updated_at", "2020-02-07 05:16:06.141191"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.142011"], ["updated_at", "2020-02-07 05:16:06.142011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.142681"], ["updated_at", "2020-02-07 05:16:06.142681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.143341"], ["updated_at", "2020-02-07 05:16:06.143341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.143993"], ["updated_at", "2020-02-07 05:16:06.143993"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.147249"], ["updated_at", "2020-02-07 05:16:06.147249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.147850"], ["updated_at", "2020-02-07 05:16:06.147850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.148514"], ["updated_at", "2020-02-07 05:16:06.148514"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.149096"], ["updated_at", "2020-02-07 05:16:06.149096"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.149690"], ["updated_at", "2020-02-07 05:16:06.149690"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.150084"], ["updated_at", "2020-02-07 05:16:06.150084"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.150693"], ["updated_at", "2020-02-07 05:16:06.150693"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.151073"], ["updated_at", "2020-02-07 05:16:06.151073"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.151623"], ["updated_at", "2020-02-07 05:16:06.151623"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.152274"], ["updated_at", "2020-02-07 05:16:06.152274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.152680"], ["updated_at", "2020-02-07 05:16:06.152680"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.154570"], ["updated_at", "2020-02-07 05:16:06.154570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.155478"], ["updated_at", "2020-02-07 05:16:06.155478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.156132"], ["updated_at", "2020-02-07 05:16:06.156132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.156777"], ["updated_at", "2020-02-07 05:16:06.156777"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.157418"], ["updated_at", "2020-02-07 05:16:06.157418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.158055"], ["updated_at", "2020-02-07 05:16:06.158055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.161483"], ["updated_at", "2020-02-07 05:16:06.161483"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.162116"], ["updated_at", "2020-02-07 05:16:06.162116"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.162965"], ["updated_at", "2020-02-07 05:16:06.162965"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.163749"], ["updated_at", "2020-02-07 05:16:06.163749"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.164323"], ["updated_at", "2020-02-07 05:16:06.164323"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.164727"], ["updated_at", "2020-02-07 05:16:06.164727"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.165355"], ["updated_at", "2020-02-07 05:16:06.165355"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.165884"], ["updated_at", "2020-02-07 05:16:06.165884"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.166677"], ["updated_at", "2020-02-07 05:16:06.166677"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.167524"], ["updated_at", "2020-02-07 05:16:06.167524"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.168057"], ["updated_at", "2020-02-07 05:16:06.168057"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.170283"], ["updated_at", "2020-02-07 05:16:06.170283"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.171439"], ["updated_at", "2020-02-07 05:16:06.171439"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.172346"], ["updated_at", "2020-02-07 05:16:06.172346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.173327"], ["updated_at", "2020-02-07 05:16:06.173327"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.174183"], ["updated_at", "2020-02-07 05:16:06.174183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.174906"], ["updated_at", "2020-02-07 05:16:06.174906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.178476"], ["updated_at", "2020-02-07 05:16:06.178476"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.179271"], ["updated_at", "2020-02-07 05:16:06.179271"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.180198"], ["updated_at", "2020-02-07 05:16:06.180198"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.180825"], ["updated_at", "2020-02-07 05:16:06.180825"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.181385"], ["updated_at", "2020-02-07 05:16:06.181385"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.181796"], ["updated_at", "2020-02-07 05:16:06.181796"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.182449"], ["updated_at", "2020-02-07 05:16:06.182449"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.182836"], ["updated_at", "2020-02-07 05:16:06.182836"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.183559"], ["updated_at", "2020-02-07 05:16:06.183559"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.184229"], ["updated_at", "2020-02-07 05:16:06.184229"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.184822"], ["updated_at", "2020-02-07 05:16:06.184822"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.187139"], ["updated_at", "2020-02-07 05:16:06.187139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.188443"], ["updated_at", "2020-02-07 05:16:06.188443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.189413"], ["updated_at", "2020-02-07 05:16:06.189413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.190300"], ["updated_at", "2020-02-07 05:16:06.190300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.191159"], ["updated_at", "2020-02-07 05:16:06.191159"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.191939"], ["updated_at", "2020-02-07 05:16:06.191939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.195162"], ["updated_at", "2020-02-07 05:16:06.195162"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.195949"], ["updated_at", "2020-02-07 05:16:06.195949"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.196709"], ["updated_at", "2020-02-07 05:16:06.196709"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.197598"], ["updated_at", "2020-02-07 05:16:06.197598"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.198224"], ["updated_at", "2020-02-07 05:16:06.198224"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.198686"], ["updated_at", "2020-02-07 05:16:06.198686"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.199894"], ["updated_at", "2020-02-07 05:16:06.199894"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.200366"], ["updated_at", "2020-02-07 05:16:06.200366"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.200963"], ["updated_at", "2020-02-07 05:16:06.200963"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.201521"], ["updated_at", "2020-02-07 05:16:06.201521"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.201900"], ["updated_at", "2020-02-07 05:16:06.201900"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:06.203580"], ["updated_at", "2020-02-07 05:16:06.203580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:06.204488"], ["updated_at", "2020-02-07 05:16:06.204488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.205374"], ["updated_at", "2020-02-07 05:16:06.205374"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.206225"], ["updated_at", "2020-02-07 05:16:06.206225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:06.207099"], ["updated_at", "2020-02-07 05:16:06.207099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.207835"], ["updated_at", "2020-02-07 05:16:06.207835"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:06.210909"], ["updated_at", "2020-02-07 05:16:06.210909"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:06.211594"], ["updated_at", "2020-02-07 05:16:06.211594"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:06.212340"], ["updated_at", "2020-02-07 05:16:06.212340"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.212967"], ["updated_at", "2020-02-07 05:16:06.212967"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:06.213518"], ["updated_at", "2020-02-07 05:16:06.213518"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:06.213917"], ["updated_at", "2020-02-07 05:16:06.213917"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:06.214540"], ["updated_at", "2020-02-07 05:16:06.214540"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:06.214938"], ["updated_at", "2020-02-07 05:16:06.214938"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:06.215987"], ["updated_at", "2020-02-07 05:16:06.215987"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:06.216644"], ["updated_at", "2020-02-07 05:16:06.216644"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:06.217056"], ["updated_at", "2020-02-07 05:16:06.217056"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:17.594731"], ["updated_at", "2020-02-07 05:16:17.594731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:17.596858"], ["updated_at", "2020-02-07 05:16:17.596858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.597608"], ["updated_at", "2020-02-07 05:16:17.597608"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.598322"], ["updated_at", "2020-02-07 05:16:17.598322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:17.599031"], ["updated_at", "2020-02-07 05:16:17.599031"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.599725"], ["updated_at", "2020-02-07 05:16:17.599725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:17.648836"], ["updated_at", "2020-02-07 05:16:17.648836"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:17.649917"], ["updated_at", "2020-02-07 05:16:17.649917"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:17.651464"], ["updated_at", "2020-02-07 05:16:17.651464"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.652451"], ["updated_at", "2020-02-07 05:16:17.652451"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.653018"], ["updated_at", "2020-02-07 05:16:17.653018"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:17.653526"], ["updated_at", "2020-02-07 05:16:17.653526"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.654542"], ["updated_at", "2020-02-07 05:16:17.654542"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:17.654951"], ["updated_at", "2020-02-07 05:16:17.654951"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.655499"], ["updated_at", "2020-02-07 05:16:17.655499"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.656046"], ["updated_at", "2020-02-07 05:16:17.656046"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:17.656467"], ["updated_at", "2020-02-07 05:16:17.656467"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:17.694776"], ["updated_at", "2020-02-07 05:16:17.694776"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.696076"], ["updated_at", "2020-02-07 05:16:17.696076"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.697327"], ["updated_at", "2020-02-07 05:16:17.697327"]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.697864"], ["updated_at", "2020-02-07 05:16:17.697864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.700119"], ["updated_at", "2020-02-07 05:16:17.700119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.700671"], ["updated_at", "2020-02-07 05:16:17.700671"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.701176"], ["updated_at", "2020-02-07 05:16:17.701176"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:17.703937"], ["updated_at", "2020-02-07 05:16:17.703937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:17.704926"], ["updated_at", "2020-02-07 05:16:17.704926"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.716433"], ["updated_at", "2020-02-07 05:16:17.716433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.717306"], ["updated_at", "2020-02-07 05:16:17.717306"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:17.718042"], ["updated_at", "2020-02-07 05:16:17.718042"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.718734"], ["updated_at", "2020-02-07 05:16:17.718734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:17.722586"], ["updated_at", "2020-02-07 05:16:17.722586"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:17.723207"], ["updated_at", "2020-02-07 05:16:17.723207"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:17.723856"], ["updated_at", "2020-02-07 05:16:17.723856"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.724427"], ["updated_at", "2020-02-07 05:16:17.724427"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.724965"], ["updated_at", "2020-02-07 05:16:17.724965"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:17.725352"], ["updated_at", "2020-02-07 05:16:17.725352"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.725934"], ["updated_at", "2020-02-07 05:16:17.725934"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:17.726303"], ["updated_at", "2020-02-07 05:16:17.726303"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.726817"], ["updated_at", "2020-02-07 05:16:17.726817"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.727342"], ["updated_at", "2020-02-07 05:16:17.727342"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:17.727709"], ["updated_at", "2020-02-07 05:16:17.727709"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:17.733649"], ["updated_at", "2020-02-07 05:16:17.733649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:17.735239"], ["updated_at", "2020-02-07 05:16:17.735239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:17.736180"], ["updated_at", "2020-02-07 05:16:17.736180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:17.747962"], ["updated_at", "2020-02-07 05:16:17.747962"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:17.748697"], ["updated_at", "2020-02-07 05:16:17.748697"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:17.749708"], ["updated_at", "2020-02-07 05:16:17.749708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:17.750186"], ["updated_at", "2020-02-07 05:16:17.750186"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:17.750846"], ["updated_at", "2020-02-07 05:16:17.750846"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:17.751584"], ["updated_at", "2020-02-07 05:16:17.751584"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.752298"], ["updated_at", "2020-02-07 05:16:17.752298"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.752815"], ["updated_at", "2020-02-07 05:16:17.752815"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.753332"], ["updated_at", "2020-02-07 05:16:17.753332"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.753975"], ["updated_at", "2020-02-07 05:16:17.753975"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.754518"], ["updated_at", "2020-02-07 05:16:17.754518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:17.760828' and '2020-02-07 05:16:17.760839' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:16:17.762243"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:16:17.764168"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:16:17.765205"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:17.768677"], ["updated_at", "2020-02-07 05:16:17.768677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:17.769675"], ["updated_at", "2020-02-07 05:16:17.769675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.770332"], ["updated_at", "2020-02-07 05:16:17.770332"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.771108"], ["updated_at", "2020-02-07 05:16:17.771108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:17.771938"], ["updated_at", "2020-02-07 05:16:17.771938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.772607"], ["updated_at", "2020-02-07 05:16:17.772607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:17.775926"], ["updated_at", "2020-02-07 05:16:17.775926"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:17.776585"], ["updated_at", "2020-02-07 05:16:17.776585"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:17.777345"], ["updated_at", "2020-02-07 05:16:17.777345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.777942"], ["updated_at", "2020-02-07 05:16:17.777942"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:17.778733"], ["updated_at", "2020-02-07 05:16:17.778733"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:17.779904"], ["updated_at", "2020-02-07 05:16:17.779904"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:17.780824"], ["updated_at", "2020-02-07 05:16:17.780824"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:17.781524"], ["updated_at", "2020-02-07 05:16:17.781524"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:17.782221"], ["updated_at", "2020-02-07 05:16:17.782221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:17.782938"], ["updated_at", "2020-02-07 05:16:17.782938"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:17.783358"], ["updated_at", "2020-02-07 05:16:17.783358"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:17.784556"], ["updated_at", "2020-02-07 05:16:17.784556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:17.785361"], ["updated_at", "2020-02-07 05:16:17.785361"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:17.786085"], ["updated_at", "2020-02-07 05:16:17.786085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:17.790113"], ["updated_at", "2020-02-07 05:16:17.790113"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:17.791078"], ["updated_at", "2020-02-07 05:16:17.791078"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:17.791824"], ["updated_at", "2020-02-07 05:16:17.791824"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:17.792373"], ["updated_at", "2020-02-07 05:16:17.792373"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:17.793584"], ["updated_at", "2020-02-07 05:16:17.793584"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:17.794325"], ["updated_at", "2020-02-07 05:16:17.794325"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.795092"], ["updated_at", "2020-02-07 05:16:17.795092"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.795671"], ["updated_at", "2020-02-07 05:16:17.795671"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.796231"], ["updated_at", "2020-02-07 05:16:17.796231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:17.796904"], ["updated_at", "2020-02-07 05:16:17.796904"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:17.797454"], ["updated_at", "2020-02-07 05:16:17.797454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:17.799476' and '2020-02-07 05:16:17.799483' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:16:17.800180"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:16:17.801617"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.2ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.409719"], ["updated_at", "2020-02-07 05:16:32.409719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.411203"], ["updated_at", "2020-02-07 05:16:32.411203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.411890"], ["updated_at", "2020-02-07 05:16:32.411890"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.412552"], ["updated_at", "2020-02-07 05:16:32.412552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.413213"], ["updated_at", "2020-02-07 05:16:32.413213"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.413873"], ["updated_at", "2020-02-07 05:16:32.413873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.417338"], ["updated_at", "2020-02-07 05:16:32.417338"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.417927"], ["updated_at", "2020-02-07 05:16:32.417927"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.418614"], ["updated_at", "2020-02-07 05:16:32.418614"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.419425"], ["updated_at", "2020-02-07 05:16:32.419425"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.420115"], ["updated_at", "2020-02-07 05:16:32.420115"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.420538"], ["updated_at", "2020-02-07 05:16:32.420538"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.421208"], ["updated_at", "2020-02-07 05:16:32.421208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.421592"], ["updated_at", "2020-02-07 05:16:32.421592"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.422139"], ["updated_at", "2020-02-07 05:16:32.422139"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.422705"], ["updated_at", "2020-02-07 05:16:32.422705"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.423100"], ["updated_at", "2020-02-07 05:16:32.423100"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:16:32.424297"], ["updated_at", "2020-02-07 05:16:32.424297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:16:32.425104"], ["updated_at", "2020-02-07 05:16:32.425104"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:16:32.425789"], ["updated_at", "2020-02-07 05:16:32.425789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:16:32.429650"], ["updated_at", "2020-02-07 05:16:32.429650"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:16:32.430359"], ["updated_at", "2020-02-07 05:16:32.430359"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:16:32.430965"], ["updated_at", "2020-02-07 05:16:32.430965"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:16:32.431423"], ["updated_at", "2020-02-07 05:16:32.431423"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:16:32.431942"], ["updated_at", "2020-02-07 05:16:32.431942"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:16:32.432583"], ["updated_at", "2020-02-07 05:16:32.432583"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:32.433319"], ["updated_at", "2020-02-07 05:16:32.433319"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:32.433855"], ["updated_at", "2020-02-07 05:16:32.433855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:16:32.434385"], ["updated_at", "2020-02-07 05:16:32.434385"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:16:32.434942"], ["updated_at", "2020-02-07 05:16:32.434942"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:16:32.435483"], ["updated_at", "2020-02-07 05:16:32.435483"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:16:32.438193' and '2020-02-07 05:16:32.438203' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.446459"], ["updated_at", "2020-02-07 05:16:32.446459"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.447482"], ["updated_at", "2020-02-07 05:16:32.447482"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.448184"], ["updated_at", "2020-02-07 05:16:32.448184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.448839"], ["updated_at", "2020-02-07 05:16:32.448839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.449555"], ["updated_at", "2020-02-07 05:16:32.449555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.450335"], ["updated_at", "2020-02-07 05:16:32.450335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.453516"], ["updated_at", "2020-02-07 05:16:32.453516"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.454104"], ["updated_at", "2020-02-07 05:16:32.454104"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.454795"], ["updated_at", "2020-02-07 05:16:32.454795"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.455414"], ["updated_at", "2020-02-07 05:16:32.455414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.456126"], ["updated_at", "2020-02-07 05:16:32.456126"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.456550"], ["updated_at", "2020-02-07 05:16:32.456550"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.457175"], ["updated_at", "2020-02-07 05:16:32.457175"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.457568"], ["updated_at", "2020-02-07 05:16:32.457568"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.458106"], ["updated_at", "2020-02-07 05:16:32.458106"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.458802"], ["updated_at", "2020-02-07 05:16:32.458802"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.459238"], ["updated_at", "2020-02-07 05:16:32.459238"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.461039"], ["updated_at", "2020-02-07 05:16:32.461039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.461992"], ["updated_at", "2020-02-07 05:16:32.461992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.462670"], ["updated_at", "2020-02-07 05:16:32.462670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.463332"], ["updated_at", "2020-02-07 05:16:32.463332"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.464005"], ["updated_at", "2020-02-07 05:16:32.464005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.464683"], ["updated_at", "2020-02-07 05:16:32.464683"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.468058"], ["updated_at", "2020-02-07 05:16:32.468058"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.468717"], ["updated_at", "2020-02-07 05:16:32.468717"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.469413"], ["updated_at", "2020-02-07 05:16:32.469413"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.470018"], ["updated_at", "2020-02-07 05:16:32.470018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.470562"], ["updated_at", "2020-02-07 05:16:32.470562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.470958"], ["updated_at", "2020-02-07 05:16:32.470958"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.471570"], ["updated_at", "2020-02-07 05:16:32.471570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.471962"], ["updated_at", "2020-02-07 05:16:32.471962"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.472494"], ["updated_at", "2020-02-07 05:16:32.472494"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.473047"], ["updated_at", "2020-02-07 05:16:32.473047"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.473443"], ["updated_at", "2020-02-07 05:16:32.473443"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.475146"], ["updated_at", "2020-02-07 05:16:32.475146"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.476051"], ["updated_at", "2020-02-07 05:16:32.476051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.476719"], ["updated_at", "2020-02-07 05:16:32.476719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.483364"], ["updated_at", "2020-02-07 05:16:32.483364"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.484063"], ["updated_at", "2020-02-07 05:16:32.484063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.484752"], ["updated_at", "2020-02-07 05:16:32.484752"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.488450"], ["updated_at", "2020-02-07 05:16:32.488450"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.489152"], ["updated_at", "2020-02-07 05:16:32.489152"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.489919"], ["updated_at", "2020-02-07 05:16:32.489919"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.490562"], ["updated_at", "2020-02-07 05:16:32.490562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.491143"], ["updated_at", "2020-02-07 05:16:32.491143"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.491589"], ["updated_at", "2020-02-07 05:16:32.491589"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.492257"], ["updated_at", "2020-02-07 05:16:32.492257"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.492880"], ["updated_at", "2020-02-07 05:16:32.492880"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.493857"], ["updated_at", "2020-02-07 05:16:32.493857"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.494799"], ["updated_at", "2020-02-07 05:16:32.494799"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.495341"], ["updated_at", "2020-02-07 05:16:32.495341"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.497181"], ["updated_at", "2020-02-07 05:16:32.497181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.498218"], ["updated_at", "2020-02-07 05:16:32.498218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.498914"], ["updated_at", "2020-02-07 05:16:32.498914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.499596"], ["updated_at", "2020-02-07 05:16:32.499596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.500282"], ["updated_at", "2020-02-07 05:16:32.500282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.500967"], ["updated_at", "2020-02-07 05:16:32.500967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.504907"], ["updated_at", "2020-02-07 05:16:32.504907"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.505723"], ["updated_at", "2020-02-07 05:16:32.505723"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.506515"], ["updated_at", "2020-02-07 05:16:32.506515"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.507167"], ["updated_at", "2020-02-07 05:16:32.507167"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.507922"], ["updated_at", "2020-02-07 05:16:32.507922"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.508362"], ["updated_at", "2020-02-07 05:16:32.508362"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.509023"], ["updated_at", "2020-02-07 05:16:32.509023"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.509451"], ["updated_at", "2020-02-07 05:16:32.509451"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.510048"], ["updated_at", "2020-02-07 05:16:32.510048"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.510643"], ["updated_at", "2020-02-07 05:16:32.510643"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.511075"], ["updated_at", "2020-02-07 05:16:32.511075"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.512939"], ["updated_at", "2020-02-07 05:16:32.512939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.513964"], ["updated_at", "2020-02-07 05:16:32.513964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.514914"], ["updated_at", "2020-02-07 05:16:32.514914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.515819"], ["updated_at", "2020-02-07 05:16:32.515819"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.516819"], ["updated_at", "2020-02-07 05:16:32.516819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.517570"], ["updated_at", "2020-02-07 05:16:32.517570"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.521233"], ["updated_at", "2020-02-07 05:16:32.521233"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.521888"], ["updated_at", "2020-02-07 05:16:32.521888"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.522645"], ["updated_at", "2020-02-07 05:16:32.522645"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.523569"], ["updated_at", "2020-02-07 05:16:32.523569"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.524176"], ["updated_at", "2020-02-07 05:16:32.524176"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.524628"], ["updated_at", "2020-02-07 05:16:32.524628"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.525286"], ["updated_at", "2020-02-07 05:16:32.525286"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.525701"], ["updated_at", "2020-02-07 05:16:32.525701"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.526301"], ["updated_at", "2020-02-07 05:16:32.526301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.526915"], ["updated_at", "2020-02-07 05:16:32.526915"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.527337"], ["updated_at", "2020-02-07 05:16:32.527337"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.529226"], ["updated_at", "2020-02-07 05:16:32.529226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.530345"], ["updated_at", "2020-02-07 05:16:32.530345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.531077"], ["updated_at", "2020-02-07 05:16:32.531077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.531753"], ["updated_at", "2020-02-07 05:16:32.531753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.532422"], ["updated_at", "2020-02-07 05:16:32.532422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.533090"], ["updated_at", "2020-02-07 05:16:32.533090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.536307"], ["updated_at", "2020-02-07 05:16:32.536307"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.536952"], ["updated_at", "2020-02-07 05:16:32.536952"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.537672"], ["updated_at", "2020-02-07 05:16:32.537672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.538309"], ["updated_at", "2020-02-07 05:16:32.538309"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.538964"], ["updated_at", "2020-02-07 05:16:32.538964"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.539442"], ["updated_at", "2020-02-07 05:16:32.539442"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.540114"], ["updated_at", "2020-02-07 05:16:32.540114"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.540524"], ["updated_at", "2020-02-07 05:16:32.540524"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.541090"], ["updated_at", "2020-02-07 05:16:32.541090"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.541676"], ["updated_at", "2020-02-07 05:16:32.541676"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.542083"], ["updated_at", "2020-02-07 05:16:32.542083"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.544012"], ["updated_at", "2020-02-07 05:16:32.544012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.545166"], ["updated_at", "2020-02-07 05:16:32.545166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.545920"], ["updated_at", "2020-02-07 05:16:32.545920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.546605"], ["updated_at", "2020-02-07 05:16:32.546605"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.547284"], ["updated_at", "2020-02-07 05:16:32.547284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.547976"], ["updated_at", "2020-02-07 05:16:32.547976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.551587"], ["updated_at", "2020-02-07 05:16:32.551587"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.552347"], ["updated_at", "2020-02-07 05:16:32.552347"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.553129"], ["updated_at", "2020-02-07 05:16:32.553129"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.553810"], ["updated_at", "2020-02-07 05:16:32.553810"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.554383"], ["updated_at", "2020-02-07 05:16:32.554383"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.554804"], ["updated_at", "2020-02-07 05:16:32.554804"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.555443"], ["updated_at", "2020-02-07 05:16:32.555443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.555839"], ["updated_at", "2020-02-07 05:16:32.555839"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.556385"], ["updated_at", "2020-02-07 05:16:32.556385"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.556952"], ["updated_at", "2020-02-07 05:16:32.556952"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.557345"], ["updated_at", "2020-02-07 05:16:32.557345"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:16:32.559166"], ["updated_at", "2020-02-07 05:16:32.559166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:16:32.560244"], ["updated_at", "2020-02-07 05:16:32.560244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.560960"], ["updated_at", "2020-02-07 05:16:32.560960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.561622"], ["updated_at", "2020-02-07 05:16:32.561622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:16:32.562280"], ["updated_at", "2020-02-07 05:16:32.562280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.562937"], ["updated_at", "2020-02-07 05:16:32.562937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:16:32.572270"], ["updated_at", "2020-02-07 05:16:32.572270"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:16:32.572972"], ["updated_at", "2020-02-07 05:16:32.572972"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:16:32.573694"], ["updated_at", "2020-02-07 05:16:32.573694"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.574360"], ["updated_at", "2020-02-07 05:16:32.574360"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:16:32.574938"], ["updated_at", "2020-02-07 05:16:32.574938"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:16:32.575362"], ["updated_at", "2020-02-07 05:16:32.575362"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:16:32.576002"], ["updated_at", "2020-02-07 05:16:32.576002"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:16:32.576399"], ["updated_at", "2020-02-07 05:16:32.576399"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:16:32.576954"], ["updated_at", "2020-02-07 05:16:32.576954"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:16:32.577521"], ["updated_at", "2020-02-07 05:16:32.577521"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:16:32.577919"], ["updated_at", "2020-02-07 05:16:32.577919"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.638532"], ["updated_at", "2020-02-07 05:17:14.638532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.640369"], ["updated_at", "2020-02-07 05:17:14.640369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.641102"], ["updated_at", "2020-02-07 05:17:14.641102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.641768"], ["updated_at", "2020-02-07 05:17:14.641768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.642428"], ["updated_at", "2020-02-07 05:17:14.642428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.643098"], ["updated_at", "2020-02-07 05:17:14.643098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:17:14.686982"], ["updated_at", "2020-02-07 05:17:14.686982"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:17:14.688033"], ["updated_at", "2020-02-07 05:17:14.688033"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:17:14.689545"], ["updated_at", "2020-02-07 05:17:14.689545"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:14.690424"], ["updated_at", "2020-02-07 05:17:14.690424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.691005"], ["updated_at", "2020-02-07 05:17:14.691005"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:17:14.691452"], ["updated_at", "2020-02-07 05:17:14.691452"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.692337"], ["updated_at", "2020-02-07 05:17:14.692337"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:17:14.692719"], ["updated_at", "2020-02-07 05:17:14.692719"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:14.693267"], ["updated_at", "2020-02-07 05:17:14.693267"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.693817"], ["updated_at", "2020-02-07 05:17:14.693817"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:17:14.694190"], ["updated_at", "2020-02-07 05:17:14.694190"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:14.731619"], ["updated_at", "2020-02-07 05:17:14.731619"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.732916"], ["updated_at", "2020-02-07 05:17:14.732916"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.734202"], ["updated_at", "2020-02-07 05:17:14.734202"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.734735"], ["updated_at", "2020-02-07 05:17:14.734735"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.736308"], ["updated_at", "2020-02-07 05:17:14.736308"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.736863"], ["updated_at", "2020-02-07 05:17:14.736863"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.737398"], ["updated_at", "2020-02-07 05:17:14.737398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.740593"], ["updated_at", "2020-02-07 05:17:14.740593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.741585"], ["updated_at", "2020-02-07 05:17:14.741585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.742283"], ["updated_at", "2020-02-07 05:17:14.742283"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.742910"], ["updated_at", "2020-02-07 05:17:14.742910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.743571"], ["updated_at", "2020-02-07 05:17:14.743571"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.744253"], ["updated_at", "2020-02-07 05:17:14.744253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:17:14.747538"], ["updated_at", "2020-02-07 05:17:14.747538"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:17:14.748089"], ["updated_at", "2020-02-07 05:17:14.748089"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:17:14.748863"], ["updated_at", "2020-02-07 05:17:14.748863"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:14.749805"], ["updated_at", "2020-02-07 05:17:14.749805"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.761187"], ["updated_at", "2020-02-07 05:17:14.761187"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:17:14.761660"], ["updated_at", "2020-02-07 05:17:14.761660"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.762318"], ["updated_at", "2020-02-07 05:17:14.762318"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:17:14.762711"], ["updated_at", "2020-02-07 05:17:14.762711"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:14.763376"], ["updated_at", "2020-02-07 05:17:14.763376"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.763960"], ["updated_at", "2020-02-07 05:17:14.763960"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:17:14.764336"], ["updated_at", "2020-02-07 05:17:14.764336"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:14.770124"], ["updated_at", "2020-02-07 05:17:14.770124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:14.771534"], ["updated_at", "2020-02-07 05:17:14.771534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:14.772471"], ["updated_at", "2020-02-07 05:17:14.772471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:14.783805"], ["updated_at", "2020-02-07 05:17:14.783805"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:14.784662"], ["updated_at", "2020-02-07 05:17:14.784662"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:14.785783"], ["updated_at", "2020-02-07 05:17:14.785783"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:14.786239"], ["updated_at", "2020-02-07 05:17:14.786239"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:14.786741"], ["updated_at", "2020-02-07 05:17:14.786741"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:14.787349"], ["updated_at", "2020-02-07 05:17:14.787349"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.788054"], ["updated_at", "2020-02-07 05:17:14.788054"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.788570"], ["updated_at", "2020-02-07 05:17:14.788570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.789071"], ["updated_at", "2020-02-07 05:17:14.789071"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.789593"], ["updated_at", "2020-02-07 05:17:14.789593"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.790114"], ["updated_at", "2020-02-07 05:17:14.790114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:14.795798' and '2020-02-07 05:17:14.795807' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:17:14.796629"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:17:14.798121"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:17:14.799015"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.802184"], ["updated_at", "2020-02-07 05:17:14.802184"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.803167"], ["updated_at", "2020-02-07 05:17:14.803167"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.803817"], ["updated_at", "2020-02-07 05:17:14.803817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.804447"], ["updated_at", "2020-02-07 05:17:14.804447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.805074"], ["updated_at", "2020-02-07 05:17:14.805074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.805761"], ["updated_at", "2020-02-07 05:17:14.805761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:14.806748"], ["updated_at", "2020-02-07 05:17:14.806748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:14.807469"], ["updated_at", "2020-02-07 05:17:14.807469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:14.808117"], ["updated_at", "2020-02-07 05:17:14.808117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:14.811556"], ["updated_at", "2020-02-07 05:17:14.811556"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:14.812304"], ["updated_at", "2020-02-07 05:17:14.812304"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:14.813111"], ["updated_at", "2020-02-07 05:17:14.813111"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:14.813620"], ["updated_at", "2020-02-07 05:17:14.813620"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:14.814148"], ["updated_at", "2020-02-07 05:17:14.814148"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:14.814775"], ["updated_at", "2020-02-07 05:17:14.814775"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.815484"], ["updated_at", "2020-02-07 05:17:14.815484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.816006"], ["updated_at", "2020-02-07 05:17:14.816006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.816509"], ["updated_at", "2020-02-07 05:17:14.816509"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.817036"], ["updated_at", "2020-02-07 05:17:14.817036"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.817550"], ["updated_at", "2020-02-07 05:17:14.817550"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:14.819512' and '2020-02-07 05:17:14.819518' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:17:14.820109"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:17:14.821384"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.826933"], ["updated_at", "2020-02-07 05:17:14.826933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.827982"], ["updated_at", "2020-02-07 05:17:14.827982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.828658"], ["updated_at", "2020-02-07 05:17:14.828658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.829319"], ["updated_at", "2020-02-07 05:17:14.829319"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.829980"], ["updated_at", "2020-02-07 05:17:14.829980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.830625"], ["updated_at", "2020-02-07 05:17:14.830625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:14.831576"], ["updated_at", "2020-02-07 05:17:14.831576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:14.832321"], ["updated_at", "2020-02-07 05:17:14.832321"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:14.832989"], ["updated_at", "2020-02-07 05:17:14.832989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:14.836494"], ["updated_at", "2020-02-07 05:17:14.836494"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:14.837222"], ["updated_at", "2020-02-07 05:17:14.837222"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:14.837801"], ["updated_at", "2020-02-07 05:17:14.837801"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:14.838256"], ["updated_at", "2020-02-07 05:17:14.838256"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:14.838763"], ["updated_at", "2020-02-07 05:17:14.838763"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:14.839385"], ["updated_at", "2020-02-07 05:17:14.839385"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.840106"], ["updated_at", "2020-02-07 05:17:14.840106"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.840632"], ["updated_at", "2020-02-07 05:17:14.840632"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.841149"], ["updated_at", "2020-02-07 05:17:14.841149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:14.841683"], ["updated_at", "2020-02-07 05:17:14.841683"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:14.842207"], ["updated_at", "2020-02-07 05:17:14.842207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:14.844142' and '2020-02-07 05:17:14.844151' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.851851"], ["updated_at", "2020-02-07 05:17:14.851851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.852880"], ["updated_at", "2020-02-07 05:17:14.852880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.853564"], ["updated_at", "2020-02-07 05:17:14.853564"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.854204"], ["updated_at", "2020-02-07 05:17:14.854204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.854838"], ["updated_at", "2020-02-07 05:17:14.854838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.855475"], ["updated_at", "2020-02-07 05:17:14.855475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.856988"], ["updated_at", "2020-02-07 05:17:14.856988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.857863"], ["updated_at", "2020-02-07 05:17:14.857863"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.858579"], ["updated_at", "2020-02-07 05:17:14.858579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.859381"], ["updated_at", "2020-02-07 05:17:14.859381"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.860173"], ["updated_at", "2020-02-07 05:17:14.860173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.860909"], ["updated_at", "2020-02-07 05:17:14.860909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.862597"], ["updated_at", "2020-02-07 05:17:14.862597"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.863493"], ["updated_at", "2020-02-07 05:17:14.863493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.864202"], ["updated_at", "2020-02-07 05:17:14.864202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.864993"], ["updated_at", "2020-02-07 05:17:14.864993"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.865784"], ["updated_at", "2020-02-07 05:17:14.865784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.866513"], ["updated_at", "2020-02-07 05:17:14.866513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.868073"], ["updated_at", "2020-02-07 05:17:14.868073"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.868982"], ["updated_at", "2020-02-07 05:17:14.868982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.869666"], ["updated_at", "2020-02-07 05:17:14.869666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.870376"], ["updated_at", "2020-02-07 05:17:14.870376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.871043"], ["updated_at", "2020-02-07 05:17:14.871043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.871711"], ["updated_at", "2020-02-07 05:17:14.871711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.873202"], ["updated_at", "2020-02-07 05:17:14.873202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.874787"], ["updated_at", "2020-02-07 05:17:14.874787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.875503"], ["updated_at", "2020-02-07 05:17:14.875503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.876234"], ["updated_at", "2020-02-07 05:17:14.876234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.876992"], ["updated_at", "2020-02-07 05:17:14.876992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.877705"], ["updated_at", "2020-02-07 05:17:14.877705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.879276"], ["updated_at", "2020-02-07 05:17:14.879276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.880218"], ["updated_at", "2020-02-07 05:17:14.880218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.881070"], ["updated_at", "2020-02-07 05:17:14.881070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.882508"], ["updated_at", "2020-02-07 05:17:14.882508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.883923"], ["updated_at", "2020-02-07 05:17:14.883923"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.885070"], ["updated_at", "2020-02-07 05:17:14.885070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.887335"], ["updated_at", "2020-02-07 05:17:14.887335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.888297"], ["updated_at", "2020-02-07 05:17:14.888297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.889002"], ["updated_at", "2020-02-07 05:17:14.889002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.889685"], ["updated_at", "2020-02-07 05:17:14.889685"]]
  [1m[35m (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.900100"], ["updated_at", "2020-02-07 05:17:14.900100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.901006"], ["updated_at", "2020-02-07 05:17:14.901006"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:14.902677"], ["updated_at", "2020-02-07 05:17:14.902677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:14.903682"], ["updated_at", "2020-02-07 05:17:14.903682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:14.904502"], ["updated_at", "2020-02-07 05:17:14.904502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:14.905323"], ["updated_at", "2020-02-07 05:17:14.905323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:14.906220"], ["updated_at", "2020-02-07 05:17:14.906220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:14.906958"], ["updated_at", "2020-02-07 05:17:14.906958"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.679738"], ["updated_at", "2020-02-07 05:17:37.679738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.681649"], ["updated_at", "2020-02-07 05:17:37.681649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.682286"], ["updated_at", "2020-02-07 05:17:37.682286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.682886"], ["updated_at", "2020-02-07 05:17:37.682886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.683602"], ["updated_at", "2020-02-07 05:17:37.683602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.684195"], ["updated_at", "2020-02-07 05:17:37.684195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:17:37.726581"], ["updated_at", "2020-02-07 05:17:37.726581"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:17:37.727597"], ["updated_at", "2020-02-07 05:17:37.727597"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:17:37.729035"], ["updated_at", "2020-02-07 05:17:37.729035"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:37.730099"], ["updated_at", "2020-02-07 05:17:37.730099"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.730573"], ["updated_at", "2020-02-07 05:17:37.730573"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:17:37.731070"], ["updated_at", "2020-02-07 05:17:37.731070"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.732375"], ["updated_at", "2020-02-07 05:17:37.732375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:17:37.732842"], ["updated_at", "2020-02-07 05:17:37.732842"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:37.733303"], ["updated_at", "2020-02-07 05:17:37.733303"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.733757"], ["updated_at", "2020-02-07 05:17:37.733757"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:17:37.734077"], ["updated_at", "2020-02-07 05:17:37.734077"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:37.778894"], ["updated_at", "2020-02-07 05:17:37.778894"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.780502"], ["updated_at", "2020-02-07 05:17:37.780502"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.781702"], ["updated_at", "2020-02-07 05:17:37.781702"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.782226"], ["updated_at", "2020-02-07 05:17:37.782226"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.783702"], ["updated_at", "2020-02-07 05:17:37.783702"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.784164"], ["updated_at", "2020-02-07 05:17:37.784164"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.784604"], ["updated_at", "2020-02-07 05:17:37.784604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.787154"], ["updated_at", "2020-02-07 05:17:37.787154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.787906"], ["updated_at", "2020-02-07 05:17:37.787906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.788435"], ["updated_at", "2020-02-07 05:17:37.788435"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.788956"], ["updated_at", "2020-02-07 05:17:37.788956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.789480"], ["updated_at", "2020-02-07 05:17:37.789480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.790102"], ["updated_at", "2020-02-07 05:17:37.790102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:37.794686"], ["updated_at", "2020-02-07 05:17:37.794686"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:37.795947"], ["updated_at", "2020-02-07 05:17:37.795947"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:37.796905"], ["updated_at", "2020-02-07 05:17:37.796905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:37.807368"], ["updated_at", "2020-02-07 05:17:37.807368"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:37.808180"], ["updated_at", "2020-02-07 05:17:37.808180"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:37.809321"], ["updated_at", "2020-02-07 05:17:37.809321"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:37.809744"], ["updated_at", "2020-02-07 05:17:37.809744"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:37.810191"], ["updated_at", "2020-02-07 05:17:37.810191"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:37.811025"], ["updated_at", "2020-02-07 05:17:37.811025"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.811787"], ["updated_at", "2020-02-07 05:17:37.811787"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.812231"], ["updated_at", "2020-02-07 05:17:37.812231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.812661"], ["updated_at", "2020-02-07 05:17:37.812661"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.813205"], ["updated_at", "2020-02-07 05:17:37.813205"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.813652"], ["updated_at", "2020-02-07 05:17:37.813652"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:37.819570' and '2020-02-07 05:17:37.819582' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:17:37.820662"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:17:37.822486"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:17:37.823501"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.826913"], ["updated_at", "2020-02-07 05:17:37.826913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.827826"], ["updated_at", "2020-02-07 05:17:37.827826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.828477"], ["updated_at", "2020-02-07 05:17:37.828477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.829123"], ["updated_at", "2020-02-07 05:17:37.829123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.829760"], ["updated_at", "2020-02-07 05:17:37.829760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.830400"], ["updated_at", "2020-02-07 05:17:37.830400"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:17:37.833375"], ["updated_at", "2020-02-07 05:17:37.833375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:17:37.833917"], ["updated_at", "2020-02-07 05:17:37.833917"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:17:37.834558"], ["updated_at", "2020-02-07 05:17:37.834558"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:37.835142"], ["updated_at", "2020-02-07 05:17:37.835142"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.835662"], ["updated_at", "2020-02-07 05:17:37.835662"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:17:37.836046"], ["updated_at", "2020-02-07 05:17:37.836046"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.836648"], ["updated_at", "2020-02-07 05:17:37.836648"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:17:37.837034"], ["updated_at", "2020-02-07 05:17:37.837034"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:17:37.837655"], ["updated_at", "2020-02-07 05:17:37.837655"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.838206"], ["updated_at", "2020-02-07 05:17:37.838206"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:17:37.838575"], ["updated_at", "2020-02-07 05:17:37.838575"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:37.839581"], ["updated_at", "2020-02-07 05:17:37.839581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:37.840456"], ["updated_at", "2020-02-07 05:17:37.840456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:37.841243"], ["updated_at", "2020-02-07 05:17:37.841243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:37.844840"], ["updated_at", "2020-02-07 05:17:37.844840"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:37.845526"], ["updated_at", "2020-02-07 05:17:37.845526"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:37.846128"], ["updated_at", "2020-02-07 05:17:37.846128"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:37.846515"], ["updated_at", "2020-02-07 05:17:37.846515"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:37.846993"], ["updated_at", "2020-02-07 05:17:37.846993"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:37.847592"], ["updated_at", "2020-02-07 05:17:37.847592"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.848303"], ["updated_at", "2020-02-07 05:17:37.848303"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.848821"], ["updated_at", "2020-02-07 05:17:37.848821"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.849335"], ["updated_at", "2020-02-07 05:17:37.849335"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.849869"], ["updated_at", "2020-02-07 05:17:37.849869"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.850389"], ["updated_at", "2020-02-07 05:17:37.850389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:37.852341' and '2020-02-07 05:17:37.852347' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:17:37.852957"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:17:37.854481"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.859593"], ["updated_at", "2020-02-07 05:17:37.859593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.860514"], ["updated_at", "2020-02-07 05:17:37.860514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.861164"], ["updated_at", "2020-02-07 05:17:37.861164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.861809"], ["updated_at", "2020-02-07 05:17:37.861809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.862447"], ["updated_at", "2020-02-07 05:17:37.862447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.863091"], ["updated_at", "2020-02-07 05:17:37.863091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:17:37.864024"], ["updated_at", "2020-02-07 05:17:37.864024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:17:37.864779"], ["updated_at", "2020-02-07 05:17:37.864779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:17:37.865465"], ["updated_at", "2020-02-07 05:17:37.865465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:17:37.869124"], ["updated_at", "2020-02-07 05:17:37.869124"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:17:37.869787"], ["updated_at", "2020-02-07 05:17:37.869787"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:17:37.870454"], ["updated_at", "2020-02-07 05:17:37.870454"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:17:37.870890"], ["updated_at", "2020-02-07 05:17:37.870890"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:17:37.871354"], ["updated_at", "2020-02-07 05:17:37.871354"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:17:37.871936"], ["updated_at", "2020-02-07 05:17:37.871936"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.872570"], ["updated_at", "2020-02-07 05:17:37.872570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.873069"], ["updated_at", "2020-02-07 05:17:37.873069"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.873550"], ["updated_at", "2020-02-07 05:17:37.873550"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:17:37.874072"], ["updated_at", "2020-02-07 05:17:37.874072"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:17:37.874582"], ["updated_at", "2020-02-07 05:17:37.874582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:17:37.876519' and '2020-02-07 05:17:37.876525' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.884330"], ["updated_at", "2020-02-07 05:17:37.884330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.885434"], ["updated_at", "2020-02-07 05:17:37.885434"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.886170"], ["updated_at", "2020-02-07 05:17:37.886170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.886976"], ["updated_at", "2020-02-07 05:17:37.886976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.887833"], ["updated_at", "2020-02-07 05:17:37.887833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.898324"], ["updated_at", "2020-02-07 05:17:37.898324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.900673"], ["updated_at", "2020-02-07 05:17:37.900673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.901630"], ["updated_at", "2020-02-07 05:17:37.901630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.902314"], ["updated_at", "2020-02-07 05:17:37.902314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.902983"], ["updated_at", "2020-02-07 05:17:37.902983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.903733"], ["updated_at", "2020-02-07 05:17:37.903733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.904545"], ["updated_at", "2020-02-07 05:17:37.904545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.906558"], ["updated_at", "2020-02-07 05:17:37.906558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.907620"], ["updated_at", "2020-02-07 05:17:37.907620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.908337"], ["updated_at", "2020-02-07 05:17:37.908337"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.908990"], ["updated_at", "2020-02-07 05:17:37.908990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.909648"], ["updated_at", "2020-02-07 05:17:37.909648"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.910967"], ["updated_at", "2020-02-07 05:17:37.910967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.912909"], ["updated_at", "2020-02-07 05:17:37.912909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.913939"], ["updated_at", "2020-02-07 05:17:37.913939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.914672"], ["updated_at", "2020-02-07 05:17:37.914672"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.915393"], ["updated_at", "2020-02-07 05:17:37.915393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.916075"], ["updated_at", "2020-02-07 05:17:37.916075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.916751"], ["updated_at", "2020-02-07 05:17:37.916751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.918340"], ["updated_at", "2020-02-07 05:17:37.918340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.919244"], ["updated_at", "2020-02-07 05:17:37.919244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.920027"], ["updated_at", "2020-02-07 05:17:37.920027"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.920762"], ["updated_at", "2020-02-07 05:17:37.920762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.921488"], ["updated_at", "2020-02-07 05:17:37.921488"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.922261"], ["updated_at", "2020-02-07 05:17:37.922261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.924540"], ["updated_at", "2020-02-07 05:17:37.924540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.925765"], ["updated_at", "2020-02-07 05:17:37.925765"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.926521"], ["updated_at", "2020-02-07 05:17:37.926521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.927261"], ["updated_at", "2020-02-07 05:17:37.927261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.927995"], ["updated_at", "2020-02-07 05:17:37.927995"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.928872"], ["updated_at", "2020-02-07 05:17:37.928872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.930572"], ["updated_at", "2020-02-07 05:17:37.930572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.931708"], ["updated_at", "2020-02-07 05:17:37.931708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.932461"], ["updated_at", "2020-02-07 05:17:37.932461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.933160"], ["updated_at", "2020-02-07 05:17:37.933160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.933912"], ["updated_at", "2020-02-07 05:17:37.933912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.934727"], ["updated_at", "2020-02-07 05:17:37.934727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:17:37.936458"], ["updated_at", "2020-02-07 05:17:37.936458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:17:37.937520"], ["updated_at", "2020-02-07 05:17:37.937520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:17:37.938310"], ["updated_at", "2020-02-07 05:17:37.938310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:17:37.939059"], ["updated_at", "2020-02-07 05:17:37.939059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:17:37.939831"], ["updated_at", "2020-02-07 05:17:37.939831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:17:37.940560"], ["updated_at", "2020-02-07 05:17:37.940560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:14.622407"], ["updated_at", "2020-02-07 05:21:14.622407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:14.625297"], ["updated_at", "2020-02-07 05:21:14.625297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:14.626325"], ["updated_at", "2020-02-07 05:21:14.626325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:14.626993"], ["updated_at", "2020-02-07 05:21:14.626993"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:14.627659"], ["updated_at", "2020-02-07 05:21:14.627659"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:14.628349"], ["updated_at", "2020-02-07 05:21:14.628349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:21:14.706341"], ["updated_at", "2020-02-07 05:21:14.706341"]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:21:14.707583"], ["updated_at", "2020-02-07 05:21:14.707583"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:21:14.711296"], ["updated_at", "2020-02-07 05:21:14.711296"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:21:14.712968"], ["updated_at", "2020-02-07 05:21:14.712968"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:14.713613"], ["updated_at", "2020-02-07 05:21:14.713613"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:21:14.714055"], ["updated_at", "2020-02-07 05:21:14.714055"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:14.715238"], ["updated_at", "2020-02-07 05:21:14.715238"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:21:14.715657"], ["updated_at", "2020-02-07 05:21:14.715657"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:21:14.716197"], ["updated_at", "2020-02-07 05:21:14.716197"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:14.716771"], ["updated_at", "2020-02-07 05:21:14.716771"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:21:14.717171"], ["updated_at", "2020-02-07 05:21:14.717171"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.2ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:21:14.767541"], ["updated_at", "2020-02-07 05:21:14.767541"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.768830"], ["updated_at", "2020-02-07 05:21:14.768830"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.770093"], ["updated_at", "2020-02-07 05:21:14.770093"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.770622"], ["updated_at", "2020-02-07 05:21:14.770622"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.772212"], ["updated_at", "2020-02-07 05:21:14.772212"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.772743"], ["updated_at", "2020-02-07 05:21:14.772743"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.773242"], ["updated_at", "2020-02-07 05:21:14.773242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:14.776280"], ["updated_at", "2020-02-07 05:21:14.776280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:14.777184"], ["updated_at", "2020-02-07 05:21:14.777184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:14.777817"], ["updated_at", "2020-02-07 05:21:14.777817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:14.778463"], ["updated_at", "2020-02-07 05:21:14.778463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:14.779072"], ["updated_at", "2020-02-07 05:21:14.779072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:14.779682"], ["updated_at", "2020-02-07 05:21:14.779682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:21:14.780400"], ["updated_at", "2020-02-07 05:21:14.780400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:21:14.787867"], ["updated_at", "2020-02-07 05:21:14.787867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:21:14.789580"], ["updated_at", "2020-02-07 05:21:14.789580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:21:14.790575"], ["updated_at", "2020-02-07 05:21:14.790575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:21:14.802849"], ["updated_at", "2020-02-07 05:21:14.802849"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:21:14.803634"], ["updated_at", "2020-02-07 05:21:14.803634"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:21:14.804681"], ["updated_at", "2020-02-07 05:21:14.804681"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:21:14.805131"], ["updated_at", "2020-02-07 05:21:14.805131"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:21:14.805623"], ["updated_at", "2020-02-07 05:21:14.805623"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:21:14.806247"], ["updated_at", "2020-02-07 05:21:14.806247"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.806964"], ["updated_at", "2020-02-07 05:21:14.806964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.807475"], ["updated_at", "2020-02-07 05:21:14.807475"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.807979"], ["updated_at", "2020-02-07 05:21:14.807979"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.808503"], ["updated_at", "2020-02-07 05:21:14.808503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.809118"], ["updated_at", "2020-02-07 05:21:14.809118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:21:14.815319' and '2020-02-07 05:21:14.815331' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:21:14.816323"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:21:14.818195"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:21:14.819167"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:14.822606"], ["updated_at", "2020-02-07 05:21:14.822606"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:14.823565"], ["updated_at", "2020-02-07 05:21:14.823565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:14.824221"], ["updated_at", "2020-02-07 05:21:14.824221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:14.824860"], ["updated_at", "2020-02-07 05:21:14.824860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:14.825492"], ["updated_at", "2020-02-07 05:21:14.825492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:14.826126"], ["updated_at", "2020-02-07 05:21:14.826126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:21:14.826886"], ["updated_at", "2020-02-07 05:21:14.826886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:21:14.828186"], ["updated_at", "2020-02-07 05:21:14.828186"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:21:14.828974"], ["updated_at", "2020-02-07 05:21:14.828974"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:21:14.829656"], ["updated_at", "2020-02-07 05:21:14.829656"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:21:14.833801"], ["updated_at", "2020-02-07 05:21:14.833801"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:21:14.834560"], ["updated_at", "2020-02-07 05:21:14.834560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:21:14.835157"], ["updated_at", "2020-02-07 05:21:14.835157"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:21:14.835613"], ["updated_at", "2020-02-07 05:21:14.835613"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:21:14.836127"], ["updated_at", "2020-02-07 05:21:14.836127"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:21:14.836757"], ["updated_at", "2020-02-07 05:21:14.836757"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.837576"], ["updated_at", "2020-02-07 05:21:14.837576"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.838115"], ["updated_at", "2020-02-07 05:21:14.838115"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.838636"], ["updated_at", "2020-02-07 05:21:14.838636"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:14.839171"], ["updated_at", "2020-02-07 05:21:14.839171"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:21:14.839685"], ["updated_at", "2020-02-07 05:21:14.839685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:21:14.841674' and '2020-02-07 05:21:14.841681' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:21:14.842293"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:21:14.843644"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mLarvata::Signing::Resource Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:21:23.875146"], ["id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:21:31.182439"], ["id", 2]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:21:32.070667"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.2ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::ResourceRecord Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resource_records".* FROM "larvata_signing_resource_records" WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_resource_records"."id" ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.235912"], ["updated_at", "2020-02-07 05:21:33.235912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.237387"], ["updated_at", "2020-02-07 05:21:33.237387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.238034"], ["updated_at", "2020-02-07 05:21:33.238034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.243476"], ["updated_at", "2020-02-07 05:21:33.243476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.244162"], ["updated_at", "2020-02-07 05:21:33.244162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.244821"], ["updated_at", "2020-02-07 05:21:33.244821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:21:33.245769"], ["updated_at", "2020-02-07 05:21:33.245769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:21:33.247080"], ["updated_at", "2020-02-07 05:21:33.247080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:21:33.247857"], ["updated_at", "2020-02-07 05:21:33.247857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:21:33.248552"], ["updated_at", "2020-02-07 05:21:33.248552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:21:33.252730"], ["updated_at", "2020-02-07 05:21:33.252730"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:21:33.253517"], ["updated_at", "2020-02-07 05:21:33.253517"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:21:33.254139"], ["updated_at", "2020-02-07 05:21:33.254139"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:21:33.254609"], ["updated_at", "2020-02-07 05:21:33.254609"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:21:33.255147"], ["updated_at", "2020-02-07 05:21:33.255147"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:21:33.255797"], ["updated_at", "2020-02-07 05:21:33.255797"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:33.256544"], ["updated_at", "2020-02-07 05:21:33.256544"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:33.257084"], ["updated_at", "2020-02-07 05:21:33.257084"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:21:33.257612"], ["updated_at", "2020-02-07 05:21:33.257612"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:21:33.258161"], ["updated_at", "2020-02-07 05:21:33.258161"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:21:33.258694"], ["updated_at", "2020-02-07 05:21:33.258694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:21:33.261195' and '2020-02-07 05:21:33.261206' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.270325"], ["updated_at", "2020-02-07 05:21:33.270325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.271327"], ["updated_at", "2020-02-07 05:21:33.271327"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.272008"], ["updated_at", "2020-02-07 05:21:33.272008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.272662"], ["updated_at", "2020-02-07 05:21:33.272662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.273323"], ["updated_at", "2020-02-07 05:21:33.273323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.273975"], ["updated_at", "2020-02-07 05:21:33.273975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.275301"], ["updated_at", "2020-02-07 05:21:33.275301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.276139"], ["updated_at", "2020-02-07 05:21:33.276139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.276790"], ["updated_at", "2020-02-07 05:21:33.276790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.277439"], ["updated_at", "2020-02-07 05:21:33.277439"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.278096"], ["updated_at", "2020-02-07 05:21:33.278096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.278744"], ["updated_at", "2020-02-07 05:21:33.278744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.280096"], ["updated_at", "2020-02-07 05:21:33.280096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.281094"], ["updated_at", "2020-02-07 05:21:33.281094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.281753"], ["updated_at", "2020-02-07 05:21:33.281753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.282401"], ["updated_at", "2020-02-07 05:21:33.282401"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.283056"], ["updated_at", "2020-02-07 05:21:33.283056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.283866"], ["updated_at", "2020-02-07 05:21:33.283866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.285482"], ["updated_at", "2020-02-07 05:21:33.285482"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.286424"], ["updated_at", "2020-02-07 05:21:33.286424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.287089"], ["updated_at", "2020-02-07 05:21:33.287089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.287749"], ["updated_at", "2020-02-07 05:21:33.287749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.288390"], ["updated_at", "2020-02-07 05:21:33.288390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.289035"], ["updated_at", "2020-02-07 05:21:33.289035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.290450"], ["updated_at", "2020-02-07 05:21:33.290450"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.291305"], ["updated_at", "2020-02-07 05:21:33.291305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.292107"], ["updated_at", "2020-02-07 05:21:33.292107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.292894"], ["updated_at", "2020-02-07 05:21:33.292894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.293614"], ["updated_at", "2020-02-07 05:21:33.293614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.294299"], ["updated_at", "2020-02-07 05:21:33.294299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.296192"], ["updated_at", "2020-02-07 05:21:33.296192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.297137"], ["updated_at", "2020-02-07 05:21:33.297137"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.297847"], ["updated_at", "2020-02-07 05:21:33.297847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.298550"], ["updated_at", "2020-02-07 05:21:33.298550"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.299262"], ["updated_at", "2020-02-07 05:21:33.299262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.299961"], ["updated_at", "2020-02-07 05:21:33.299961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.301841"], ["updated_at", "2020-02-07 05:21:33.301841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.302919"], ["updated_at", "2020-02-07 05:21:33.302919"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.303638"], ["updated_at", "2020-02-07 05:21:33.303638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.304324"], ["updated_at", "2020-02-07 05:21:33.304324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.305066"], ["updated_at", "2020-02-07 05:21:33.305066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.305748"], ["updated_at", "2020-02-07 05:21:33.305748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:21:33.307489"], ["updated_at", "2020-02-07 05:21:33.307489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:21:33.308486"], ["updated_at", "2020-02-07 05:21:33.308486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:21:33.309214"], ["updated_at", "2020-02-07 05:21:33.309214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:21:33.309921"], ["updated_at", "2020-02-07 05:21:33.309921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:21:33.310596"], ["updated_at", "2020-02-07 05:21:33.310596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:21:33.311265"], ["updated_at", "2020-02-07 05:21:33.311265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.695288"], ["updated_at", "2020-02-07 05:22:19.695288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.697156"], ["updated_at", "2020-02-07 05:22:19.697156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.697845"], ["updated_at", "2020-02-07 05:22:19.697845"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.698491"], ["updated_at", "2020-02-07 05:22:19.698491"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.699133"], ["updated_at", "2020-02-07 05:22:19.699133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.699775"], ["updated_at", "2020-02-07 05:22:19.699775"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flows" ("name", "remind_period", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單簽核流程"], ["remind_period", 24], ["created_at", "2020-02-07 05:22:19.744125"], ["updated_at", "2020-02-07 05:22:19.744125"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "larvata_signing_flow_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["larvata_signing_flow_id", 1], ["created_at", "2020-02-07 05:22:19.745189"], ["updated_at", "2020-02-07 05:22:19.745189"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 1], ["supervisor_sign", "t"], ["created_at", "2020-02-07 05:22:19.746540"], ["updated_at", "2020-02-07 05:22:19.746540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 1], ["seq", 2], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:22:19.747441"], ["updated_at", "2020-02-07 05:22:19.747441"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.747947"], ["updated_at", "2020-02-07 05:22:19.747947"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 3], ["user_id", 7], ["role", "業務經理"], ["created_at", "2020-02-07 05:22:19.748318"], ["updated_at", "2020-02-07 05:22:19.748318"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.749106"], ["updated_at", "2020-02-07 05:22:19.749106"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 2], ["user_id", 8], ["role", "工務經理"], ["created_at", "2020-02-07 05:22:19.749455"], ["updated_at", "2020-02-07 05:22:19.749455"], ["larvata_signing_flow_stage_id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_stages" ("larvata_signing_flow_id", "typing", "seq", "supervisor_sign", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["typing", 0], ["seq", 3], ["supervisor_sign", "f"], ["created_at", "2020-02-07 05:22:19.749978"], ["updated_at", "2020-02-07 05:22:19.749978"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.750507"], ["updated_at", "2020-02-07 05:22:19.750507"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_flow_members" ("dept_id", "user_id", "role", "created_at", "updated_at", "larvata_signing_flow_stage_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["dept_id", 4], ["user_id", 9], ["role", "總經理"], ["created_at", "2020-02-07 05:22:19.750896"], ["updated_at", "2020-02-07 05:22:19.750896"], ["larvata_signing_flow_stage_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Flow Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_flows".* FROM "larvata_signing_flows" WHERE "larvata_signing_flows"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::FlowStage Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_stages".* FROM "larvata_signing_flow_stages" WHERE "larvata_signing_flow_stages"."larvata_signing_flow_id" = 1[0m
  [1m[36mLarvata::Signing::FlowMember Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_flow_members".* FROM "larvata_signing_flow_members" WHERE "larvata_signing_flow_members"."larvata_signing_flow_stage_id" IN (1, 2, 3)[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_flow_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_flow_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:22:19.794728"], ["updated_at", "2020-02-07 05:22:19.794728"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.796015"], ["updated_at", "2020-02-07 05:22:19.796015"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.797198"], ["updated_at", "2020-02-07 05:22:19.797198"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 7], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.797708"], ["updated_at", "2020-02-07 05:22:19.797708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 8], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.799142"], ["updated_at", "2020-02-07 05:22:19.799142"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.799652"], ["updated_at", "2020-02-07 05:22:19.799652"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 9], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.800157"], ["updated_at", "2020-02-07 05:22:19.800157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.802989"], ["updated_at", "2020-02-07 05:22:19.802989"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.803795"], ["updated_at", "2020-02-07 05:22:19.803795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.804383"], ["updated_at", "2020-02-07 05:22:19.804383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.804959"], ["updated_at", "2020-02-07 05:22:19.804959"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.805532"], ["updated_at", "2020-02-07 05:22:19.805532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.806627"], ["updated_at", "2020-02-07 05:22:19.806627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:22:19.807283"], ["updated_at", "2020-02-07 05:22:19.807283"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:22:19.812442"], ["updated_at", "2020-02-07 05:22:19.812442"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:22:19.813554"], ["updated_at", "2020-02-07 05:22:19.813554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:22:19.814177"], ["updated_at", "2020-02-07 05:22:19.814177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:22:19.823475"], ["updated_at", "2020-02-07 05:22:19.823475"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:22:19.824120"], ["updated_at", "2020-02-07 05:22:19.824120"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:22:19.825078"], ["updated_at", "2020-02-07 05:22:19.825078"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:22:19.825473"], ["updated_at", "2020-02-07 05:22:19.825473"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:22:19.825913"], ["updated_at", "2020-02-07 05:22:19.825913"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:22:19.826447"], ["updated_at", "2020-02-07 05:22:19.826447"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.827058"], ["updated_at", "2020-02-07 05:22:19.827058"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.827561"], ["updated_at", "2020-02-07 05:22:19.827561"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.828036"], ["updated_at", "2020-02-07 05:22:19.828036"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.828578"], ["updated_at", "2020-02-07 05:22:19.828578"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.829048"], ["updated_at", "2020-02-07 05:22:19.829048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:22:19.835118' and '2020-02-07 05:22:19.835129' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 2], ["comment", "pass"], ["updated_at", "2020-02-07 05:22:19.836009"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq DESC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:22:19.837595"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE (seq > 1) ORDER BY seq ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 1], ["updated_at", "2020-02-07 05:22:19.838521"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.841808"], ["updated_at", "2020-02-07 05:22:19.841808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.842700"], ["updated_at", "2020-02-07 05:22:19.842700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.843342"], ["updated_at", "2020-02-07 05:22:19.843342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.843979"], ["updated_at", "2020-02-07 05:22:19.843979"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.844621"], ["updated_at", "2020-02-07 05:22:19.844621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.845248"], ["updated_at", "2020-02-07 05:22:19.845248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:22:19.846096"], ["updated_at", "2020-02-07 05:22:19.846096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:22:19.847277"], ["updated_at", "2020-02-07 05:22:19.847277"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:22:19.848018"], ["updated_at", "2020-02-07 05:22:19.848018"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:22:19.848668"], ["updated_at", "2020-02-07 05:22:19.848668"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:22:19.852530"], ["updated_at", "2020-02-07 05:22:19.852530"]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:22:19.853352"], ["updated_at", "2020-02-07 05:22:19.853352"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:22:19.854960"], ["updated_at", "2020-02-07 05:22:19.854960"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:22:19.855534"], ["updated_at", "2020-02-07 05:22:19.855534"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:22:19.856065"], ["updated_at", "2020-02-07 05:22:19.856065"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:22:19.856697"], ["updated_at", "2020-02-07 05:22:19.856697"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.857414"], ["updated_at", "2020-02-07 05:22:19.857414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.857944"], ["updated_at", "2020-02-07 05:22:19.857944"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.858493"], ["updated_at", "2020-02-07 05:22:19.858493"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.859036"], ["updated_at", "2020-02-07 05:22:19.859036"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.859579"], ["updated_at", "2020-02-07 05:22:19.859579"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:22:19.862173' and '2020-02-07 05:22:19.862181' <= end_at)[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_records" SET "state" = ?, "signing_result" = ?, "comment" = ?, "updated_at" = ? WHERE "larvata_signing_records"."id" = ?[0m  [["state", 3], ["signing_result", 1], ["comment", "reject"], ["updated_at", "2020-02-07 05:22:19.862893"], ["id", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_stages" SET "state" = ?, "updated_at" = ? WHERE "larvata_signing_stages"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:22:19.864237"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "larvata_signing_resource_records" SET "state" = 2 WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ?[0m  [["larvata_signing_doc_id", 1]]
  [1m[36mInquirement Load (0.1ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Resource Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resources".* FROM "larvata_signing_resources" WHERE "larvata_signing_resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:22:19.869601"], ["id", 1]]
  [1m[36mInquirement Load (0.0ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:22:19.870793"], ["id", 2]]
  [1m[36mInquirement Load (0.0ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "inquirements" SET "state" = ?, "updated_at" = ? WHERE "inquirements"."id" = ?[0m  [["state", 2], ["updated_at", "2020-02-07 05:22:19.871727"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Stage Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY seq ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::ResourceRecord Load (0.1ms)[0m  [1m[34mSELECT  "larvata_signing_resource_records".* FROM "larvata_signing_resource_records" WHERE "larvata_signing_resource_records"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_resource_records"."id" ASC LIMIT ?[0m  [["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = ? ORDER BY "larvata_signing_records"."id" ASC LIMIT ?[0m  [["larvata_signing_stage_id", 1], ["LIMIT", 1]]
  [1m[36mInquirement Load (0.0ms)[0m  [1m[34mSELECT  "inquirements".* FROM "inquirements" WHERE "inquirements"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.876215"], ["updated_at", "2020-02-07 05:22:19.876215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.877157"], ["updated_at", "2020-02-07 05:22:19.877157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.877825"], ["updated_at", "2020-02-07 05:22:19.877825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.878486"], ["updated_at", "2020-02-07 05:22:19.878486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.879145"], ["updated_at", "2020-02-07 05:22:19.879145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.879825"], ["updated_at", "2020-02-07 05:22:19.879825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resources" ("code", "name", "select_model", "select_method", "view_path", "returned_method", "approved_method", "implement_method", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["code", "inquirement"], ["name", "詢價單"], ["select_model", "Inquirement"], ["select_method", "options_for_signing"], ["view_path", "admin_inquirement_path"], ["returned_method", "signing_returned"], ["approved_method", "signing_approved"], ["implement_method", "signing_implement"], ["created_at", "2020-02-07 05:22:19.880590"], ["updated_at", "2020-02-07 05:22:19.880590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單A"], ["state", 3], ["created_at", "2020-02-07 05:22:19.881779"], ["updated_at", "2020-02-07 05:22:19.881779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單B"], ["state", 3], ["created_at", "2020-02-07 05:22:19.882532"], ["updated_at", "2020-02-07 05:22:19.882532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "inquirements" ("name", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "詢價單C"], ["state", 3], ["created_at", "2020-02-07 05:22:19.883221"], ["updated_at", "2020-02-07 05:22:19.883221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "larvata_signing_docs" WHERE ("larvata_signing_docs"."created_at" BETWEEN ? AND ?)[0m  [["created_at", "2020-02-07 00:00:00"], ["created_at", "2020-02-07 23:59:59.999999"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "larvata_signing_docs" ("larvata_signing_resource_id", "signing_number", "title", "remind_period", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_resource_id", 1], ["signing_number", "2020-02-07001"], ["title", "詢價單簽核單"], ["remind_period", 24], ["state", 0], ["created_at", "2020-02-07 05:22:19.886864"], ["updated_at", "2020-02-07 05:22:19.886864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 1], ["state", 0], ["created_at", "2020-02-07 05:22:19.887566"], ["updated_at", "2020-02-07 05:22:19.887566"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 2], ["state", 0], ["created_at", "2020-02-07 05:22:19.888165"], ["updated_at", "2020-02-07 05:22:19.888165"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_resource_records" ("larvata_signing_doc_id", "signing_resourceable_type", "signing_resourceable_id", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["signing_resourceable_type", "Inquirement"], ["signing_resourceable_id", 3], ["state", 0], ["created_at", "2020-02-07 05:22:19.888635"], ["updated_at", "2020-02-07 05:22:19.888635"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 1], ["countersign", "f"], ["state", 1], ["created_at", "2020-02-07 05:22:19.889156"], ["updated_at", "2020-02-07 05:22:19.889156"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 1], ["signer_id", 2], ["dept_id", 1], ["role", "主管"], ["state", 0], ["created_at", "2020-02-07 05:22:19.898437"], ["updated_at", "2020-02-07 05:22:19.898437"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 1], ["seq", 2], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.900006"], ["updated_at", "2020-02-07 05:22:19.900006"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 4], ["dept_id", 3], ["role", "業務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.900579"], ["updated_at", "2020-02-07 05:22:19.900579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 2], ["signer_id", 3], ["dept_id", 2], ["role", "工務經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.901115"], ["updated_at", "2020-02-07 05:22:19.901115"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_stages" ("larvata_signing_doc_id", "typing", "seq", "countersign", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_doc_id", 1], ["typing", 0], ["seq", 3], ["countersign", "f"], ["state", 0], ["created_at", "2020-02-07 05:22:19.901658"], ["updated_at", "2020-02-07 05:22:19.901658"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "larvata_signing_records" ("larvata_signing_stage_id", "signer_id", "dept_id", "role", "state", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["larvata_signing_stage_id", 3], ["signer_id", 5], ["dept_id", 4], ["role", "總經理"], ["state", 0], ["created_at", "2020-02-07 05:22:19.902279"], ["updated_at", "2020-02-07 05:22:19.902279"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLarvata::Signing::Stage Load (0.0ms)[0m  [1m[34mSELECT  "larvata_signing_stages".* FROM "larvata_signing_stages" WHERE "larvata_signing_stages"."state" = ? AND "larvata_signing_stages"."larvata_signing_doc_id" = ? ORDER BY "larvata_signing_stages"."id" ASC LIMIT ?[0m  [["state", 1], ["larvata_signing_doc_id", 1], ["LIMIT", 1]]
  [1m[36mLarvata::Signing::Doc Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_docs".* FROM "larvata_signing_docs" WHERE "larvata_signing_docs"."id" = 1[0m
  [1m[36mLarvata::Signing::Record Load (0.0ms)[0m  [1m[34mSELECT "larvata_signing_records".* FROM "larvata_signing_records" WHERE "larvata_signing_records"."larvata_signing_stage_id" = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "larvata_signing_agents"."agent_user_id" FROM "larvata_signing_agents" WHERE "larvata_signing_agents"."user_id" = ? AND (start_at <= '2020-02-07 05:22:19.904574' and '2020-02-07 05:22:19.904583' <= end_at)[0m  [["user_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.912462"], ["updated_at", "2020-02-07 05:22:19.912462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.913399"], ["updated_at", "2020-02-07 05:22:19.913399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.914056"], ["updated_at", "2020-02-07 05:22:19.914056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.914697"], ["updated_at", "2020-02-07 05:22:19.914697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.915333"], ["updated_at", "2020-02-07 05:22:19.915333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.915971"], ["updated_at", "2020-02-07 05:22:19.915971"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.917282"], ["updated_at", "2020-02-07 05:22:19.917282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.918094"], ["updated_at", "2020-02-07 05:22:19.918094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.918748"], ["updated_at", "2020-02-07 05:22:19.918748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.919513"], ["updated_at", "2020-02-07 05:22:19.919513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.920181"], ["updated_at", "2020-02-07 05:22:19.920181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.920829"], ["updated_at", "2020-02-07 05:22:19.920829"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.922662"], ["updated_at", "2020-02-07 05:22:19.922662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.923611"], ["updated_at", "2020-02-07 05:22:19.923611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.924338"], ["updated_at", "2020-02-07 05:22:19.924338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.925013"], ["updated_at", "2020-02-07 05:22:19.925013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.925672"], ["updated_at", "2020-02-07 05:22:19.925672"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.926339"], ["updated_at", "2020-02-07 05:22:19.926339"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.927842"], ["updated_at", "2020-02-07 05:22:19.927842"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.928711"], ["updated_at", "2020-02-07 05:22:19.928711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.929374"], ["updated_at", "2020-02-07 05:22:19.929374"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.930024"], ["updated_at", "2020-02-07 05:22:19.930024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.930670"], ["updated_at", "2020-02-07 05:22:19.930670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.931322"], ["updated_at", "2020-02-07 05:22:19.931322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.932859"], ["updated_at", "2020-02-07 05:22:19.932859"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.933717"], ["updated_at", "2020-02-07 05:22:19.933717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.934371"], ["updated_at", "2020-02-07 05:22:19.934371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.935083"], ["updated_at", "2020-02-07 05:22:19.935083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.935839"], ["updated_at", "2020-02-07 05:22:19.935839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.936547"], ["updated_at", "2020-02-07 05:22:19.936547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.938246"], ["updated_at", "2020-02-07 05:22:19.938246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.939350"], ["updated_at", "2020-02-07 05:22:19.939350"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.940363"], ["updated_at", "2020-02-07 05:22:19.940363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.941150"], ["updated_at", "2020-02-07 05:22:19.941150"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.941864"], ["updated_at", "2020-02-07 05:22:19.941864"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.942537"], ["updated_at", "2020-02-07 05:22:19.942537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.944125"], ["updated_at", "2020-02-07 05:22:19.944125"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.944992"], ["updated_at", "2020-02-07 05:22:19.944992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.945639"], ["updated_at", "2020-02-07 05:22:19.945639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.946276"], ["updated_at", "2020-02-07 05:22:19.946276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.946912"], ["updated_at", "2020-02-07 05:22:19.946912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.947553"], ["updated_at", "2020-02-07 05:22:19.947553"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "單據申請人"], ["created_at", "2020-02-07 05:22:19.949075"], ["updated_at", "2020-02-07 05:22:19.949075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "主管"], ["created_at", "2020-02-07 05:22:19.950005"], ["updated_at", "2020-02-07 05:22:19.950005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "工務經理"], ["created_at", "2020-02-07 05:22:19.950670"], ["updated_at", "2020-02-07 05:22:19.950670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "業務經理"], ["created_at", "2020-02-07 05:22:19.951312"], ["updated_at", "2020-02-07 05:22:19.951312"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "財務經理"], ["created_at", "2020-02-07 05:22:19.951987"], ["updated_at", "2020-02-07 05:22:19.951987"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "總經理"], ["created_at", "2020-02-07 05:22:19.952825"], ["updated_at", "2020-02-07 05:22:19.952825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
